---
ms.openlocfilehash: 787ff9592604f9a9bce1929e4d429a39da5ec48a
ms.sourcegitcommit: 982cab99d84663656a8f73d48c6fae03e7517321
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/28/2019
ms.locfileid: "67456822"
---
Когда вы включаете Dynamics 365 Mobile Offline, данные Dynamics 365 (Online) скачиваются в базу данных SQL Azure с помощью облака Azure с учетом сущностей, для которых вы включили доступность в автономном режиме. Когда пользователь подключается к облачной службе Azure из мобильного приложения с возможностью автономной работы, данные скачиваются из базы данных SQL Azure в локальную базу данных на мобильном устройстве. Передача данных между базой данных SQL Azure в облаке Azure и мобильным приложением Dynamics 365 с возможностью автономной работы осуществляется через безопасное SSL-соединение. В конечном счете данные клиентов хранятся в базе данных SQL Azure и на мобильном устройстве.  
  
 Администратор определяет, разрешено ли пользователям организации переходить в автономный режим с помощью приложения Microsoft Dynamics 365 Mobile Offline, используя роли безопасности и настройки профиля Dynamics 365 Mobile. Администраторы Dynamics 365 могут настроить, какие сущности скачиваются через функцию "Автономная синхронизация", используя параметр "Sync Filters" (Фильтры синхронизации) в диалоговом окне "Настройка — Mobile Offline".  
  
 Обратите внимание, что данные, хранящиеся на устройстве пользователя, управляются клиентом, а не корпорацией Майкрософт. Администратор обладает полным контролем над данными, которые можно извлечь на уровнях сущности или роли безопасности пользователя. Однако после извлечения данные покидают границу безопасности, обеспечиваемую Dynamics 365 Online.  
  
 Ниже приведен список компонентов и служб Azure, связанных с функциями Mobile Offline.  
  
 **Примечание.** Дополнительные сведения о дополнительных предложениях служб Azure см. в разделе [Центр управления безопасностью Microsoft Azure](https://azure.microsoft.com/support/trust-center/).  
  
 **Облачные службы (веб-роль)**  
  
 Mobile Offline использует две облачные службы, одну для подготовки, а другую для синхронизации данных.  
  
 Служба подготовки имеет одну веб-роль, которая считывает из очереди служебной шины сообщения для различных событий, поступающих из Dynamics 365, таких как подготовка или ее отмена. Затем она обрабатывает эти сообщения, создавая или удаляя базы данных организации и отправляя повторяющиеся рабочие элементы (сообщения) в очередь служебной шины по синхронизации данных. В ходе этого процесса она считывает/записывает данные конфигурации в файле CSCFG или в SW API Dynamics 365.  
  
 Служба синхронизации данных имеет две веб-роли. Одна обеспечивает синхронизацию схемы и данных промежуточной базы данных с данными и метаданными организации Dynamics 365, а другая служит для запуска сервера синхронизации и обработки запросов синхронизации клиента. Первая веб-роль обрабатывает сообщения из очереди служебной шины по синхронизации данных для различных организаций, а затем обращается к Dynamics 365 для получения изменений метаданных и данных до их фиксации в промежуточной базе данных. Она также выполняет задание по настройке сервера синхронизации для входящих и исходящих организаций в системе и их клиентских моделей. Другая веб-роль выполняет сервер синхронизации (на базе неуправляемого кода) для размещения конечных точек синхронизации и администрирования узлов. Конечная точка администрирования используется другой веб-ролью для отправки данных конфигурации. Конечная точка синхронизации используется внешними клиентами (приложение Dynamics 365 Mobile) для синхронизации данных. Как и служба подготовки, обе эти роли считывают/записывают данные конфигурации в файле CSCFG или в SW API Dynamics 365.  
  
 **Очередь**  
  
 Mobile Offline использует очереди Azure для обмена сообщениями между Dynamics 365 и Azure. Она используется для хранения рабочих элементов, обрабатываемых облачными службами. Каждое сообщение хранит такие сведения, как идентификатор организации, имя сущности, для которого требуется синхронизация данных, и строка подключения для конечной точки OData организации.  
  
 **База данных SQL**  
  
 Mobile Offline использует хранилище SQL Azure для хранения:  
  
-   данных, реплицируемых из организаций Dynamics 365 и для обслуживания клиентских запросов синхронизации;  
  
-   данных конфигурации, таких как строки подключения к базам данных организации.  
  
 **Хранилище**  
  
 Mobile Offline использует хранилище BLOB-объектов Azure для хранения журналов и трассировок, создаваемых облачной службой.  
  
 **Служба Active Directory**  
  
 Mobile Offline использует службу Azure Active Directory для проверки подлинности в других службах, таких как Dynamics 365, SW API или API управления Azure.  
  
 **Azure DNS**  
  
 Mobile Offline использует Azure DNS для перенаправления клиентских запросов на основе имен организаций в подходящие конечные точки облачной службы.  
  
 **Виртуальная сеть Azure**  
  
 Виртуальная сеть Azure является представлением вашей собственной сети в облаке. Группа разработчиков продукта Dynamics 365 может управлять вашими параметрами сети Azure и определять блоки адресов DHCP, параметры DNS, политики безопасности и маршрутизацию.  
  
 **Azure Load Balancer**  
  
 Azure Load Balancer обеспечивает высокий уровень доступности и производительности ваших приложений в сети. Это балансировщик нагрузки 4 уровня (TCP, UDP), который распределяет входящий трафик между работоспособными экземплярами службы в облачных службах или виртуальных машинах, определенных в наборе с балансировкой нагрузки. Мы используем его для балансировки нагрузки своих конечных точек в развертывании.