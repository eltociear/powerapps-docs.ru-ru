---
title: Создание исправлений решений | Документация Майкрософт
description: Инструкции по созданию исправлений решений
ms.custom: ''
ms.date: 02/04/2020
ms.reviewer: ''
ms.service: powerapps
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
applies_to:
- Dynamics 365 (online)
- Dynamics 365 Version 9.x
- powerapps
author: Mattp123
ms.assetid: ''
caps.latest.revision: 15
ms.author: matp
manager: kvivek
search.audienceType:
- maker
search.app:
- PowerApps
- D365CE
ms.openlocfilehash: 9bddae4295a891d4c4dd86593b4fa27815b2b03c
ms.sourcegitcommit: 3f89b04359df19f8fa5167e2607509bb97e60fe0
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/25/2020
ms.locfileid: "3165278"
---
# <a name="create-solution-patches"></a>Создание исправлений решений  
Вы можете создать исправление для родительского решения и экспортировать его в качестве дополнительного обновления базового решения. При клонировании решения система добавляет все связанные исправления в базовое решение и создает новую версию.

> [!WARNING]
> Использование клонирования исправления и клонирования обновления решения не рекомендуется, поскольку оно ограничивает разработку рабочей группы и усложняет хранение вашего решения в исходной системе управления. Для получения информации о том, как обновить решение, см. [Установка новой версии или обновление решения](update-solutions.md).


## <a name="creating-updates-using-clone-solution-and-clone-to-patch"></a>Создание обновлений с использованием клонирования решения и клонирования исправления
 При работе с исправлениями и клонированными решениями следует помнить следующее:  
  
-   исправление представляет собой дифференциальное дополнительное обновление родительского решения; исправление может добавлять или обновлять компоненты или активы в родительском решении при установке на целевой системе, но оно не может удалить никакие компоненты или активы из родительского решения;  
  
-   исправление может иметь только одно родительское решение, но родительское решение может иметь одно или несколько исправлений;  
  
-   Исправление создается из неуправляемого решения. Невозможно создать исправление из управляемого решения.  
  
-   При импорте исправление в целевую систему необходимо экспортировать его как управляемое исправление; не используйте неуправляемые исправления в производственных средах;  
  
-   родительское решение должно присутствовать в целевой системе, чтобы можно было установить исправление;  
  
-   исправление можно удалить или обновить;  
  
-   при удалении родительского решения все дочерние исправления также удаляются; Система дает предупреждение, что операцию удаления невозможно отменить. Удаление выполняется в одной транзакции. если одно из исправлений родительского решения не удается удалить, вся транзакция откатывается;  
  
-   после создания первого исправления для родительского решения, решение становится заблокированным и в него нельзя вносить какие-либо изменения или экспортировать его. Однако при удалении всех его дочерних исправлений родительское решение разблокируется.  
  
-   При клонировании базового решения все дочерние исправления добавляются в базовое решение и создается новая версия. Можно добавить, изменить или удалить компоненты и активы в клонированном решение;  
  
-   клонированное решение представляет собой замену базового решения, когда оно установлено в целевой системе как управляемое решение. Обычно клонированное решение используется для распространения основных обновлений предшествующему решению.  

Когда вы клонируете решение, указанный вами номер версии включает основные и второстепенные позиции. 

   > [!div class="mx-imgBorder"]
   > <img src="media/clone-solution.png" alt="Clone a patch major and minor version" height="560" width="307"> 

 Когда вы клонируете исправление, указанный вами номер версии включает позиции сборки и редакции. 

   > [!div class="mx-imgBorder"] 
   > <img src="media/clone-a-patch2.png" alt="Clone a patch build and revision version" height="560" width="307">

Для получения дополнительной информации о номерах версий см. [Клонирование решений и клонирование номеров версий исправления](#clone-solution-and-clone-patch-version-numbers) в этой статье.
  
## <a name="create-a-solution-patch"></a>Создание исправления решения  
 Исправление содержит изменения родительского решения, например добавление или изменение активов и компонентов. Не следует включать компоненты родительского решения, если вы не планируете изменять их.  
  
## <a name="create-a-patch-for-an-unmanaged-solution"></a>Создание исправления для неуправляемого решения  
  
1. Перейдите на портал Power Apps, затем выберите **Решения**.   
  
2. В списке решений выберите неуправляемое решение для которого требуется создать исправление. На панели команд щелкните **Клонировать**, затем выберите **Клонировать исправление**. Открывшаяся правая панель содержит имя базового решения и номер версии исправления. Нажмите кнопку **Сохранить**.  
   > [!div class="mx-imgBorder"] 
   > <img src="media/clone-a-patch.png" alt="Clone a patch" height="735" width="408">
 
3. В списке решений найдите и откройте только что созданное исправление. Обратите внимание, что к уникальному имени решения добавлен текст _Patch_*шестнадцатеричный_номер*. Как и в случае базового решения, добавьте нужные компоненты и активы.  
  
### <a name="create-a-patch-using-solution-explorer"></a>Создание исправления с помощью обозревателя решений
 Ниже приведен пример создания исправления для существующего решения. Для начала выберите **Клонировать исправление** (в компактном представлении значок **Клонировать исправление** содержит два небольших прямоугольника, как показано ниже).  
  
 > [!div class="mx-imgBorder"] 
 > ![Значок клонирования исправления.](media/solution-segmentation-click-patch-icon-admin.png "Значок клонирования исправления.")  
  
 В диалоговом окне **Клонировать в исправление** видно, что номер версии для исправления основан на номере версии родительского решения, а номер сборки увеличен на единицу. Каждое последующее исправление имеет более высокий номер сборки или редакции по сравнению с предыдущим исправлением.  
  
 ![Используйте диалоговое окно "Клонировать в исправление".](media/solution-segmentation-clone-patch-dialog-admin.png "Используйте диалоговое окно "Клонировать в исправление".")  
  
 Следующий скриншот показывает базовое решение **SegmentedSolutionExample**, версия **1.0.1.0**, и исправление **SegmentedSolutionExample_Patch**, версия **1.0.2.0**.  
  
 > [!div class="mx-imgBorder"] 
 > ![Сетка с решениями и исправлениями.](media/solution-segmentation-solution-patch-grid-admin.png "Сетка с решениями и исправлениями.")  
  
 В исправление мы добавили новую настраиваемую сущность `Book`и включили все активы сущности `Book` в это исправление.  
  
 ![Добавьте настраиваемую сущность в исправление.](media/solution-segmentation-add-book-patch-admin.png "Добавьте настраиваемую сущность в исправление.")  
  
## <a name="clone-a-solution"></a>Клонирование решения  
 При клонировании неуправляемого решения исходное решение и все относящиеся к нему исправления добавляются в новую версию исходного решения. После клонирования новая версия решения содержит первоначальные сущности и все компоненты или сущности, добавленные в исправлении. 

![Клонирование решения](media/cloned-solution.png)

> [!IMPORTANT]
> Клонирование решения объединяет исходное решение и связанные исправления в новое базовое решение и удаляет исходное решение и исправления. 
  
1. Перейдите на портал Power Apps, затем выберите **Решения**.   
  
2.  В списке решений выберите неуправляемое решение, для которого требуется создать клон. На панели команд щелкните **Клонировать**, затем выберите **Клонировать решение**. Правая панель отображает имя базового решения и новый номер версии. Нажмите кнопку **Сохранить**.  

## <a name="clone-solution-and-clone-patch-version-numbers"></a>Клонирование решения и клонирование номеров версий исправления
Исправление должны быть более высокий номер сборки или редакции, чем родительское решение. Оно не может иметь более высокий номер основной или дополнительной версии. Например, если базовое решение имеет версию 3.1.5.7, исправление может иметь версию 3.1.5.8 или 3.1.7.0, но не 3.2.0.0. Клонированное решение должно иметь номер версии больше или равный номеру версии базового решения. Например, если базовое решение имеет версию 3.1.5.7, клонированное решение может иметь версию 3.2.0.0 или 3.1.5.7. При клонировании решения или исправления можно задавать только основной и дополнительный номера версий клонированного решения и значения сборки и редакции исправлений.  
  
### <a name="see-also"></a>См. также
[Установка новой версии или обновление решения](update-solutions.md)