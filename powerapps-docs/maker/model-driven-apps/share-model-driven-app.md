---
title: Общий доступ к управляемому моделью приложению с помощью Power Apps | Microsoft Docs
description: Узнайте, как предоставить общий доступ к управляемому моделью приложению
documentationcenter: ''
author: Mattp123
manager: kvivek
editor: ''
tags: ''
ms.service: powerapps
ms.devlang: na
ms.topic: conceptual
ms.component: model
ms.date: 03/04/2020
ms.author: matp
search.audienceType:
- maker
search.app:
- PowerApps
- D365CE
ms.openlocfilehash: 42ba7e8416477890614b00f6aa89ea241287475b
ms.sourcegitcommit: efb05dbd29c4e4fb31ade1fae340260aeba2e02b
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/05/2020
ms.locfileid: "3099942"
---
# <a name="share-a-model-driven-app-with-power-apps"></a>Общий доступ к управляемому моделью приложению с помощью Power Apps

Приложения [!INCLUDE [powerapps](../../includes/powerapps.md)] используют основанную на ролях систему безопасности для общего доступа. Основная концепция в основанной на ролях системе безопасности заключается в том, что роль безопасности включает права, определяющие набор действий, которые можно выполнять в приложении. Всем пользователям приложения следует назначить одну или несколько готовых или настраиваемых ролей. Роли могут также назначаться рабочим группам. Когда пользователь или рабочая группа назначена одной из этих ролей, пользователь или участники рабочей группы получают набор прав, связанный с этой ролью. 

## <a name="prerequisites"></a>Предварительные условия
Убедитесь, что у вас есть [роль безопасности](https://docs.microsoft.com/power-platform/admin/security-roles-privileges) с равными или большими разрешениями, чем роль, которую вы назначаете приложению и другим пользователям. 

## <a name="create-a-security-role-for-your-app"></a>Создание роли безопасности для приложения
Обычно управляемые моделями приложения содержат пользовательские сущности и другие пользовательские настройки. Важно сначала [создать роль безопасности](#create-a-security-role-for-your-app) с разрешением для всех компонентов, используемых в вашем приложении.  
> [!NOTE]
> Этот шаг можно пропустить, если существующие роли предоставляют доступ к данным в вашем приложении. 

## <a name="preview-share-a-model-driven-app"></a>Предварительная версия. Общий доступ к приложению на основе модели 
Совместное использование приложения на основе модели включает два основных этапа. Сначала свяжите одну или несколько ролей безопасности с приложением, затем назначьте эти роли безопасности пользователям. 
1. Посетите сайт https://make.powerapps.com
2. Выберите приложение на основе модели и нажмите **Поделиться**.
3. Выберите приложение, затем выберите роль безопасности из списка.
    > [!div class="mx-imgBorder"] 
    > ![](media/share-model-driven-app/share-app.png "Assign a role to the app")
4. Поиск пользователя
5. Выберите пользователя, затем выберите роль из списка.
    > [!div class="mx-imgBorder"] 
    > ![](media/share-model-driven-app/share-user.png "Assign a role to the user")
6. Щелкните **Общий доступ**.

### <a name="share-the-link-to-your-app"></a>Предоставление ссылки на приложение
В отличие от общего доступа к приложениям на основе холста, общий доступ к приложениям на основе моделей в настоящее время не отправляет электронное письмо со ссылкой на приложение.

Чтобы получить прямую ссылку на приложение:
1. Отредактируйте приложение и нажмите вкладку **Свойства**
2. Скопируйте **URL-адрес единого интерфейса.**
3. Вставьте URL-адрес приложения в местоположение, в котором ваши пользователи могут получить доступ к нему, например путем публикация его на сайте SharePoint, или отправьте по электронной почте.


## <a name="create-or-configure-a-security-role"></a>Создание или настройка роли безопасности
Среда [!INCLUDE [powerapps](../../includes/powerapps.md)] включает [набор предопределенных ролей безопасности](#about-predefined-security-roles), отражающий общие задачи с уровнями доступа, определенными в соответствии с целевой оптимальной методикой безопасности по предоставлению доступа к минимальному объему бизнес-данных, необходимых, чтобы использовать приложение. Например, если ваше приложение основано на пользовательской сущности, привилегии сущности должны быть явно указаны, прежде чем пользователи смогут работать в нем. Чтобы сделать это, можно выполнить одно из следующих действий.
- Расширьте существующую заранее определенную роль безопасности, так, чтобы она включала привилегии для записей на основе настраиваемой сущности. 
- Создайте пользовательскую роль безопасности для целей управления правами пользователей приложения. 

Дополнительные сведения о разрешениях доступа и области действия см. в разделе [Роли безопасности](https://docs.microsoft.com/dynamics365/customer-engagement/admin/security-roles-privileges#security-roles).

### <a name="create-a-custom-security-role"></a>Создание настраиваемой роли безопасности
1. На сайте [!INCLUDE [powerapps](../../includes/powerapps.md)] выберите **Приложения**, рядом с приложением, которым вы хотите поделиться, выберите **...**, а затем выберите **Поделиться**.

2. Выберите приложение, затем разверните список ролей безопасности.

3. На странице **Все роли** выберите **Создать**.  

4. Из конструктора роли безопасности выберите действия, например чтение, запись или удаление, и область для выполнения этого действия. Область определяет, как глубоко или высоко иерархии сред пользователь может выполнять определенное действие. В поле **Название роли** введите *Специалист по уходу за домашними животными*.

5. Выберите вкладку **Настраиваемые сущности**, затем найдите требуемую настраиваемую сущность. В этом примере используется настраиваемая сущность с названием **Домашнее животное**. 

6. В строке **Домашнее животное** выберите следующие права четыре раза, пока не будет выбрана глобальная область организации ![Глобальная область организации](media/share-model-driven-app/organizational-scope-privilege.png): **чтение, запись, добавление**

   > [!div class="mx-imgBorder"] 
   > ![Новая роль безопасности](media/share-model-driven-app/custom-security-role.png)

7. Поскольку приложение ухода за домашними животными также имеет отношение с сущностью организации, выберите вкладку **Базовые записи** и в строке **Организация** выберите четыре раз **Чтение**, пока не будет выбрана глобальная область организации ![Глобальная область организации](media/share-model-driven-app/organizational-scope-privilege.png). 

8. Выберите вкладку **Настройка**, затем в списке привилегий выберите привилегию **Чтение** рядом с пунктом **Приложение на основе модели**, чтобы была выбрана область организации ![Глобальная область организации](media/share-model-driven-app/organizational-scope-privilege.png).

    > [!div class="mx-imgBorder"] 
    > ![Выбор ролей безопасности для приложения](media/app-access-specific-use.png)

9. Выберите **Сохранить и закрыть**. 

10. В конструкторе роли безопасности в поле **Название роли** введите *Планировщик ухода за домашними животными*. 

11. Выберите вкладку **Настраиваемые сущности**, затем найдите настраиваемую сущность **Домашнее животное**. 

12. В строке **Домашнее животное** выберите следующие права четыре раза, пока не будет выбрана глобальная область организации ![Глобальная область организации](media/share-model-driven-app/organizational-scope-privilege.png): **создание, чтение, запись, удаление, добавление к, добавление, общий доступ**

13. Поскольку приложение ухода за домашними животными также имеет отношение с сущностью организации и планировщики должны иметь возможность создавать и изменять записи организации, выберите вкладку **Базовые записи** и в строке **Организация** выберите четыре раза каждую из следующих привилегий, пока не будет выбрана глобальная область организации ![Глобальная область организации](media/share-model-driven-app/organizational-scope-privilege.png). 
    **Создание, Чтение, Запись, Удаление, Добавление, Добавление к, Назначение, Общий доступ**

14. Выберите **Сохранить и закрыть**.

### <a name="assign-security-roles-to-users"></a>Назначение ролей безопасности пользователям
Роли безопасности определяют доступ пользователя к данным с помощью набора уровней доступа и разрешений. Сочетание уровней доступа и разрешений в определенной роли безопасности ограничивает доступ пользователя на просмотр данных и взаимодействие с ними.

#### <a name="assign-a-security-role-to-pet-grooming-technicians"></a>Назначение роли безопасности специалистам по уходу за домашними животными
1. В диалоге **Поделиться этим приложение** в области **Назначить пользователей роли безопасности** выберите **Пользователи безопасности**.
2. В отображаемом списке выберите пользователей, которые являются специалистами по уходу за животными, а затем на панели команд выберите **Управление ролями**.

3. Щелкните **Управление ролями безопасности**.
    > [!div class="mx-imgBorder"] 
    > ![](media/share-model-driven-app/manage-roles.png "Manage roles")

4. На странице **Все роли** выберите **Пользователь Common Data Service**, щелкните **Действия**, затем **Копировать роль**. 

> [!TIP]
> Вы также можете создать новую пустую роль вместо копирования существующей роли. 

6. В поле **Имя роли** вставьте описательную роль, такую как *Доступ к моему пользовательскому приложению*.  Нажмите **ОК**.

7. Из конструктора роли безопасности выберите действия, например чтение, запись или удаление, и [уровни доступа](https://docs.microsoft.com/power-platform/admin/security-roles-privileges#security-roles). Уровни доступа определяют, как глубоко или высоко в иерархии сред пользователь может выполнять определенное действие. 

8. Выберите вкладку **Настраиваемые сущности**, затем найдите настраиваемую сущность, используемую в приложении. 

9.  В строке для вашей пользовательской сущности установите уровни доступа для каждого разрешения.  

10. Повторите для других сущностей, используемых в вашем приложении. 

11. Выберите вкладку **Настройка**, затем убедитесь, что привилегия **Чтение** задана для пункта **Приложение на основе модели**, чтобы был выбрана уровень доступа организации ![Глобальная область организации](media/share-model-driven-app/organizational-scope-privilege.png).

    > [!IMPORTANT]
    > Пользователи, которым предоставлены права **Чтение**, **Создание** и **Запись** для привилегии **Приложение на основе модели**, имеют доступ ко всем приложениям в среде, даже если они не являются частью какой-либо роли, которая имеет доступ к приложению.
    > ![Создание и запись с привилегией приложения на основе модели](media/app-access-cds.png)

12. Выберите **Сохранить и закрыть**. 


## <a name="about-predefined-security-roles"></a>О стандартных ролях безопасности
Эти готовые роли доступны со средой [!INCLUDE [powerapps](../../includes/powerapps.md)].


|Роль безопасности  |*Привилегии  |Описание |
|---------|---------|---------|
|Создатель среды     |  Нет       | Можно создавать новые связанные со средой ресурсы, включая приложения, соединения, настраиваемые API, шлюзы и потоки с помощью Power Automate. Однако нет никаких прав получения доступа к данным в среде. Дополнительные сведения: [Обзор сред](https://powerapps.microsoft.com/blog/powerapps-environments/)        |
|Системный администратор     |  Создание, чтение, запись, удаление, настройка, роли безопасности       | Имеет полное разрешение на настройку или управление средой, в том числе создание, изменение и назначение ролей безопасности. Может просматривать все данные в среде. Дополнительные сведения: [Разрешения, необходимые для выполнения настройки](https://docs.microsoft.com/dynamics365/customer-engagement/customize/privileges-required-customization)        |
|Настройщик системы     | Создание (свои), чтение (свои), запись (свои), удалении (свои), настройки         | Имеет полное разрешение для настройки среды. Однако может просматривать только записи для создаваемых им самим сущностей среды. Дополнительные сведения: [Разрешения, необходимые для выполнения настройки](https://docs.microsoft.com/dynamics365/customer-engagement/customize/privileges-required-customization)        |
|Пользователь Common Data Service     |  Чтение, создание (свои), запись (свои), удалении (свои)       | Можно запустить приложение в среде и выполнять общие задачи для записей, за которые он отвечает.        |
|Представитель     | Действовать от лица другого пользователя        | Позволяет коду выполняться как бы от лица другого пользователя или олицетворять.  Обычно используется с другой ролью безопасности для обеспечения доступа к записям. Дополнительные сведения: [Олицетворение другого пользователя](https://docs.microsoft.com/dynamics365/customer-engagement/developer/org-service/impersonate-another-user)        |

*Привилегия имеет глобальную область действия, если иное не указано явно.

## <a name="use-azure-active-directory-groups-to-manage-access"></a>Использование групп Azure Active Directory для управления доступом
Администраторы могут использовать группы Azure Active Directory (Azure AD) своих организаций для управления правами доступа для лицензированных пользователей Common Data Service. Оба типа группы Azure AD — офис и безопасность — могут использоваться для обеспечения права доступа пользователя к приложению. Дополнительные сведения: [О рабочих группах группы](/power-platform/admin/manage-teams.md#about-group-teams). 


### <a name="see-also"></a>См. также
[Запуск приложения, управляемого моделью, на мобильном устройстве](../../user/run-app-client-model-driven.md)

[Создание пользователей и назначение ролей безопасности](https://docs.microsoft.com/power-platform/admin/create-users-assign-online-security-roles)


