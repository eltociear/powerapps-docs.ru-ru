---
title: Настройка элемента управления временной шкалы (раздела) в PowerApps | MicrosoftDocs
description: Узнайте, как настроить элемент управления (раздел) временной шкалы в PowerApps
ms.date: 12/23/2019
ms.service: powerapps
author: kabala123
ms.assetid: 7F495EE1-1208-49DA-9B02-17855CEB2FDF
ms.author: kabala
manager: shujoshi
search.audienceType:
- maker
search.app:
- PowerApps
- D365CE
ms.openlocfilehash: 10c526c8e8df192b6f5b4e7fb31224e0742bf90a
ms.sourcegitcommit: 8ba5f6b88dbd71eb3663dfeec5f0b4427c1543c0
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/27/2019
ms.locfileid: "2924463"
---
# <a name="set-up-timeline-section-control"></a>Настройка раздела (элемента управления) временной шкалы

Действия, которые вы используете на временной шкале для отслеживания всех ваших коммуникаций с клиентом или контактом, могут быть настроены в соответствии с требованиями вашего бизнеса или организации.

  > [!div class="mx-imgBorder"]
  > ![Представление временной шкалы для мероприятий в PowerApps](../../user/media/TimelineViewOfActivity.png "Представление временной шкалы для мероприятий в PowerApps")  

Чтобы узнать больше, см. пункт [Добавление встречи, сообщения электронной почты, телефонного звонка, заметки или действия задачи на временную шкалу](../../user/add-activities.md).

Настройку можно разделить на категории в следующих областях:

- Модуль
- Тип действия
- Поле

## <a name="customize-modules"></a>Настройка модулей

Модули — это действия, сообщения и заметки. В качестве настройщика вы можете выбрать, какие модули вы хотите показывать пользователям в соответствии с требованиями вашего бизнеса.

1.  Войдите в среду `https://<YourOrgURL>.dynamics.com/apps`.

2.  Откройте управляемое моделью приложение, затем на панели команд выберите **Параметры** ![Параметры](../model-driven-apps/media/powerapps-gear.png "Параметры") > **Дополнительные параметры**.

3.  Перейдите в раздел **Параметры** > **Настройка** > **Настроить систему**. Откроется страница обозревателя решений в новом окне браузера. 

4.  Разверните **Сущности** в разделе **Компоненты** на панели решения по умолчанию.

5.  Выберите сущность и выберите **Формы**. Например, выберите сущность **Организация**.

6.  Выберите запись **Организация для интерактивного взаимодействия**, которая является типом формы **Основная**. Форма **Организация для интерактивного взаимодействия** откроется в новом окне браузера.

   > [!div class=mx-imgBorder] 
   > ![Выберите форму сущности с интерактивным взаимодействием в названии](media/account-interactive-experience.png "Выберите форму сущности с интерактивным взаимодействием в названии")

   Для единого интерфейса нужно использовать имя формы, которое имеет `<Entity> for Interactive experience`. Имена форм для других сущностей следующие:

   | Сущность | Имя |
   |--------------------------|----------------------------------|
   | Учетная запись | Организация для интерактивного взаимодействия |
   | Обращение | Обращение для интерактивного взаимодействия |
   | Контакт | Контакт для интерактивного взаимодействия |

7.  Дважды щелкните поле **Вкладки разговора** в разделе **Временная шкала**. Отображается диалог **Свойства вкладки "Действия"**.

    > [!div class=mx-imgBorder] 
    > ![Дважды щелкните поле в социальной области](media/timeline-conversation-tabs-field.png "Дважды щелкните поле в социальной области")   

8.  Выберите параметр **Показать выбранные** для поля **Показывать эти модули** в контейнере **Фильтровать по**.

9.  Выберите модули, которых требуется отображать пользователям.

10. Укажите следующее в контейнере **Дополнительные параметры**.


    | Поле/параметр | Описание | Значение |
    |------------------------------------------|--------------------------------------------------------------|---------------------------|
    | Модуль по умолчанию для операции создания | Выберите модуль, для которого вы хотите взаимодействие создания по умолчанию на временной шкале. <br><br> По умолчанию используется значение **Заметки**.  | Примечания |
    | Показывать область фильтров | Установите этот флажок, если хотите отображать значок фильтра для пользователей. Если оставить этот флажок пустым, для пользователей не будет фильтров. |  |
    | По умолчанию разворачивать область фильтра | Установите этот флажок по умолчанию, если хотите отображать панель фильтра в расширенном режиме. |
    | Sort | Выберите порядок сортировки, в соответствии с которым записи отображаются на временной шкале. Сортировка основана на поле, которое вы выбрали для действий. Если поле для сообщения, заметок или действия не существует, сортировка выполняется на основе поля **Последнее обновление**. <br><br>Порядок сортировки по умолчанию — **По убыванию**.  | По убыванию |
    | Количество результатов | Максимальное количество записей, отображаемых на временной шкале перед выбором параметра **Больше**. Каждый раз, когда вы выбираете параметр **Больше**, на временной шкале отображается настроенное количество записей. Можно настроить значение в диапазоне от 1 до 50. <br><br> Значение по умолчанию равно **10**. | 10 |

    > [!div class=mx-imgBorder] 
    > ![Настройка модуля временной шкалы](media/timeline-module.png "настройка модуля временной шкалы")

11. Выберите **ОК**, затем выберите **Сохранить**.

12. Выберите **Опубликовать**, чтобы опубликовать настройку.

## <a name="customize-activity"></a>Настройка действия

В качестве настройщика вы можете выбрать, для каких сущностей вы хотите показывать действия пользователям в соответствии с требованиями вашего бизнеса.

1.  Войдите в среду `https://<YourOrgURL>.dynamics.com/apps`.

2.  Откройте управляемое моделью приложение, затем на панели команд выберите **Параметры** ![Параметры](../model-driven-apps/media/powerapps-gear.png "Параметры") > **Дополнительные параметры**.

3.  Перейдите в раздел **Параметры** > **Настройка** > **Настроить систему**. Откроется страница обозревателя решений в новом окне браузера.  

4.  Разверните **Сущности** в разделе **Компоненты** на панели решения по умолчанию.

5.  Выберите сущность и выберите **Формы**. Например, выберите сущность **Организация**.

6.  Выберите запись **Организация для интерактивного взаимодействия**, которая является типом формы **Основная**. Форма **Организация для интерактивного взаимодействия** откроется в новом окне браузера.

    > [!div class=mx-imgBorder] 
    > ![Выберите форму сущности с интерактивным взаимодействием в названии](media/account-interactive-experience.png "Выберите форму сущности с интерактивным взаимодействием в названии")

    Для единого интерфейса нужно использовать имя формы, которое имеет `<Entity> for Interactive experience`. Имена форм для других сущностей следующие:

    | Сущность | Имя |
    |--------------------------|----------------------------------|
    | Учетная запись | Организация для интерактивного взаимодействия |
    | Обращение | Обращение для интерактивного взаимодействия |
    | Контакт | Контакт для интерактивного взаимодействия |

7.  Дважды щелкните поле **Вкладки разговора** в разделе **Временная шкала**. Отображается диалог **Свойства вкладки "Действия"**.

    > [!div class=mx-imgBorder] 
    > ![Дважды щелкните поле в социальной области](media/timeline-conversation-tabs-field.png "Дважды щелкните поле в социальной области") 

8.  Выберите параметр **Показать выбранные** для поля **Показывать эти действия** в контейнере **Фильтровать по**.

9.  Выберите действия, которых требуется отображать пользователям.

10. Выберите параметр из списка для параметра **Сортировать временную шкалу по** в контейнере **Данные**. Например, выберите параметр **Последнее обновление**.

11. Укажите следующее в контейнере **Дополнительные параметры**.
    
    | Поле/параметр | Описание |Значение |
    |------------------------------------------|------------------------------------------------------------|-------------------|
    | Показать заголовок действия с помощью |  Возможные значения: **Формат по умолчанию** и **Подписи полей**. <br><br> **Примечание.** <ul><li> Если вы выберете **Формат по умолчанию**, вы всегда должны выбирать **Поля по умолчанию** для поля **Показать действия с помощью**. <br> ![Формат по умолчанию и поля по умолчанию](media/default-format-default-fields.png "Формат по умолчанию и поля по умолчанию") </li> <li> Если вы выберете **Подписи полей**, затем вы можете выбрать **Поля по умолчанию** или **Форма карточки** для поля **Показать действия с помощью**. <br> ![Подписи полей и домашняя страница по умолчанию](media/field-label-card-form.png "Формат по умолчанию и поля по умолчанию") </li> <li> Когда вы выбираете **Формат по умолчанию** и выбираете **Форма карточки** для поля **Показать действия с помощью**, система игнорирует значение **Форма карточки** и использует **Поля по умолчанию** для отображения действий. </li> <ul>| Формат по умолчанию |
    | Создать действия с помощью | Выберите, как вы хотите, чтобы пользователи создавали действия. Возможные значения: **Форма быстрого создания** и **Основная форма**. | Форма быстрого создания |
    | Показать действия с помощью | Выберите способ отображения действий. Возможные значения: **Поля по умолчанию** и **Форма карточки**.  Если выбрать значение **Форма карточки**, нужно выбрать форму карточки для действия.  | |
    | Выберите действие | Выберите действие из списка.  <br><br> **Примечание.** Это поле появляется только при выборе значения **Форма карточки** для поля **Показать действия с помощью**.| Адрес электронной почты |
    | Выберите форму карточки | Выберите форму карточки из списка.  <br><br> **Примечание.** Это поле появляется только при выборе значения **Форма карточки** для поля **Показать действия с помощью**. | Форма карточки электронной почты |

    > [!div class=mx-imgBorder] 
    > ![Настройка модуля временной шкалы](media/timeline-activity1.png "Настройка модуля временной шкалы")

12. Выберите **ОК**, затем выберите **Сохранить**.

13. Выберите **Опубликовать**, чтобы опубликовать настройку.

Так как пример, рассмотренный в этой процедуре, это **Организация**, давайте рассмотрим действие **Сообщение электронной почты** в элементе управления **Временная шкала** страницы организации.

   | Поле | Значение |
   |---------------------------|---------------------------|
   | Показать заголовок действия с помощью | Формат по умолчанию |
   | Показать действия с помощью | Поля по умолчанию |

   > [!div class=mx-imgBorder] 
   > ![Действие сообщения электронной почты на временной шкале](media/timeline-email-activity1.png "Действие сообщения электронной почты на временной шкале")

   Поля по умолчанию для действия сообщения электронной почты в свернутом режиме содержат следующее:

   1. Сообщение электронной почты от \<Ответственный\>
   2. Тема
   3. Описание

После изменения формы **Карточка электронной почты** (из сущности **Электронная почта**) и обновления параметров в форме **Организация для интерактивного взаимодействия** в сущности **Организация** вы можете просмотреть изменения.

   | Поле | Значение |
   |---------------------------|---------------------------|
   | Показать заголовок действия с помощью | Метки полей |
   | Показать действия с помощью | Форма карточки |
   | Выберите действие | Адрес электронной почты |
   | Выберите форму карточки | Форма карточки электронной почты |

   > [!div class=mx-imgBorder] 
   > ![Действие сообщения электронной почты на временной шкале](media/timeline-email-activity2.png "Действие сообщения электронной почты на временной шкале")

   Поля по умолчанию для действия сообщения электронной почты в свернутом режиме содержат следующее:

   1. \<Имя\> ответственного
   2. Приоритет
   3. Описание

Строка по умолчанию для действий следующая:

| Действие | Поля по умолчанию | Изображение |
|----------------|--------------------------------|------------------------------|
| Встреча | `Appointment from <Owner Name>`| ![Встреча](media/appointment.png "Встреча") |
| Адрес электронной почты | `Email from <Owner Name>` | ![Адрес электронной почты](media/email.png "Адрес электронной почты") |
| Звонок | `Phone Call from <Owner Name>` <br> Когда агент инициирует вызов.| ![Звонок](media/phonecall-owner.png "Звонок") | 
| | `Phone Call from <Contact>` <br> Когда клиент инициирует вызов. | ![Звонок](media/phonecall-contact.png "Звонок") |
| Задача | `Task modified by <Owner Name>` | ![Задача](media/task.png "Задача") |
| Примечание | `Note modified by <Owner Name>` | ![Примечание.](media/note.png "Примечание") |
| Post | `Post by <Owner Name>` | ![Post](media/post.png "Post") |

## <a name="customize-field-sections"></a>Настройка разделов полей

В разделе временной шкалы пользователи видят карточку для каждого действия (на основе включенных действий). Каждая карточка отображает определенные поля в свернутом и развернутом режиме. Например, см. карточку действия **Электронная почта** в свернутом и развернутом режимах. 

Свернутый режим карточки электронной почты:

   > [!div class=mx-imgBorder] 
   > ![Карточка временной шкалы в свернутом режиме](media/email.png "Карточка временной шкалы в свернутом режиме")

Карточка временной шкалы в развернутом режиме:

   > [!div class=mx-imgBorder] 
   > ![Карточка временной шкалы в развернутом режиме](media/email-expanded.png "Карточка временной шкалы в развернутом режиме")

В карточке, если вы хотите показать какие-либо поля, которые важны для вашего бизнеса, вы можете настроить поля. Кроме того, вы можете переместить поля из одного раздела в другой раздел, например из раздела **Заголовок** в раздел **Подробности**. Дополнительные сведения см. в разделе [Настройка формы карточки](#customize-the-card-form).

### <a name="customize-the-card-form"></a>Настройка формы карточки

Любая форма карточки имеет следующие разделы:

   | Аннотация раздела | Имя раздела | Отображаемые столбцы |
   |------------------------------|--------------------------------------|---------------------------------------|
   | A | ColorStrip | Раздел ColorStrip никогда не отображается для пользователя. |
   | B | Верхний колонтитул | Поля 1 и 2 отображаются для пользователя. |
   | C | Подробно | Поля 3, 4 и 5 отображаются пользователю, где поля 3 и 4 отображаются в свернутом режиме, а поле 5 отображается в развернутом режиме. |
   | D | Нижний колонтитул | Раздел нижнего колонтитула никогда не отображается пользователю. |

Например, см. **Форма электронной почты**.

**Экран конфигурации электронной почты**

   > [!div class=mx-imgBorder] 
   > ![Конфигурация карточки электронной почты](media/customize-field-email.png "Конфигурация карточки электронной почты")

**Свернутый режим карточки электронной почты**

Поля **1** и **2** из раздела **Заголовок** и поля **3** и **4** из раздела **Подробности** отображаются в свернутом режиме.

   > [!div class=mx-imgBorder] 
   > ![Карточка электронной почты в свернутом режиме](media/email-card-collapsed.png "Карточка электронной почты в свернутом режиме")

**Развернутый режим карточки электронной почты**

Поле **5** из раздела **Подробности** отображается в свернутом режиме.

   > [!div class=mx-imgBorder] 
   > ![Карточка электронной почты в развернутом режиме](media/email-card-expanded.png "Карточка электронной почты в развернутом режиме")

Чтобы настроить форму карточки, выполните следующие действия:

1.  Войдите в среду `https://<YourOrgURL>.dynamics.com/apps`.

2.  Откройте управляемое моделью приложение, затем на панели команд выберите **Параметры** ![Параметры](../model-driven-apps/media/powerapps-gear.png "Параметры") > **Дополнительные параметры**.

3.  Перейдите в раздел **Параметры** > **Настройка** > **Настроить систему**. Откроется страница обозревателя решений в новом окне браузера.  

4.  Разверните **Сущности** в разделе **Компоненты** на панели решения по умолчанию.

5.  Выберите сущность и выберите **Формы**. Например, выберите сущность **Задача**.

6.  Выберите запись **Форма карточки задачи** из списка. **Форма карточки задачи** открывается в новом окне браузера.

7.  Добавьте, переместите или удалите поля. Дополнительные сведения см. в разделе [Добавление, настройка, перемещение или удаление полей в форме](add-move-or-delete-fields-on-form.md).

   В этой процедуре мы изменим элемент **Карточка электронной почты**. 

   > [!div class=mx-imgBorder] 
   > ![Конфигурация карточки электронной почты](media/customize-field-email1.png "Конфигурация карточки электронной почты")

   В разделе **Заголовок** поле **Когда создано** заменяется полем **Приоритет**.

   Аналогично, в разделе **Подробности** поле **Приоритет** будет удалено, а поле **Тема** перемещается вверх.

8.  Выберите **ОК**, затем выберите **Сохранить**.

9.  Выберите **Опубликовать**, чтобы опубликовать настройку.

Теперь вы можете просмотреть изменения в элементе управления **Временная шкала**. В свернутом режиме вы можете просмотреть изменения, внесенные в карточку.

   > [!div class=mx-imgBorder] 
   > ![Конфигурация карточки электронной почты](media/email2.png "Конфигурация карточки электронной почты")

> [!Note]
> Если поле не имеет никакого значения, то в карточке значение поля остается пустым. 

## <a name="enable-custom-activity-in-timeline"></a>Включение пользовательского действия на временной шкале

При создании настраиваемой сущности вы можете захотеть показать настраиваемую сущность как действие для ваших пользователей на временной шкале. Чтобы отобразить пользовательскую сущность как действие, необходимо включить определенные параметры во время создания пользовательской сущности.

> [!Note]
> Убедитесь, что пользовательская сущность включена в качестве действия перед созданием объекта. После создания пользовательской сущности вы не можете включить его в качестве действия и отобразить для своих пользователей в элементе управления **Временная шкала**.

Чтобы включить пользовательское действие на временной шкале, выполните следующие действия.

[Шаг 1. Создание сущности](#step-1-create-an-entity)

[Шаг 2. Добавление сущности в приложение на основе модели](#step-2-add-entity-to-the-model-driven-app)

### <a name="step-1-create-an-entity"></a>Шаг 1. Создание сущности

Сущность можно создать в [классическом режиме](#classic-mode) или в [Power Apps](#powerapps). 

#### <a name="classic-mode"></a>Классический режим

1.  Войдите в среду `https://<YourOrgURL>.dynamics.com/apps`.

2.  Откройте управляемое моделью приложение, затем на панели команд выберите **Параметры** ![Параметры](../model-driven-apps/media/powerapps-gear.png) > **Дополнительные параметры**.

3.  Перейдите в раздел **Параметры** > **Настройка** > **Настроить систему**. Откроется страница обозревателя решений в новом окне браузера.  

4.  Выберите **Сущности** в разделе **Компоненты** на панели решения по умолчанию.

5.  Выберите **Создать**, чтобы создать сущность. Откроется новое окно браузера.

6. Введите обязательные поля, как описано в теме [Создание сущности](https://docs.microsoft.com/dynamics365/customerengagement/on-premises/customize/create-entities). 

   > [!Note]
   > Тема [Создание сущности](https://docs.microsoft.com/dynamics365/customerengagement/on-premises/customize/create-entities) даже применима к приложениям Dynamics 365 на основе моделей.

7. Выберите области, в которых требуется отображать пользовательскую сущность.

8. Прокрутите вниз до раздела **Связь и сотрудничество** и выберите необходимые параметры.

9. Прокрутите вниз до раздела **Службы данных** и выберите флажок **Разрешить быстрое создание**. Этот параметр позволяет вам открыть сущность в форме быстрого создания.

10. Прокрутите вверх до раздела **Определение сущности** и выберите флажок **Определить как сущность действия**. Этот параметр включает сущность как действие. 

    > [!Note]
    > Только при создании сущности вы можете включить этот параметр. После создания сущности вы не можете обновить этот флажок.

11. Убедитесь, что флажок **Отображение в меню действий** также установлен.

    > [!Note]
    > Этот параметр гарантирует, что действие будет указано в меню элемента управления **Временная шкала**.

    > [!div class=mx-imgBorder] 
    > ![Показать действие](media/display-activity-classicmode.png "Показать действие")

12. Нажмите кнопку **Сохранить**.

13. Выберите **Опубликовать**, чтобы опубликовать настройку.

#### <a name="powerapps"></a>PowerApps

Следуйте указаниям из темы [Создание настраиваемой сущности](../common-data-service/data-platform-create-entity.md) для создания сущности с использованием PowerApps.

После шага 3 в пункте [Создание сущности](../common-data-service/data-platform-create-entity.md#create-an-entity) перед сохранением создания сущности обязательно выполните следующее:

1. Разверните **Дополнительные параметры** > **Тип сущности и собственность**.

2. Выберите параметр **Сущность действия** из раскрывающегося списка **Выберите тип сущности**.

3. Убедитесь, что флажок **Отображение в меню действий** выбран.

4. Разверните **Создание и обновление настроек**.

5. Выберите флажок **Включить формы быстрого создания**.

    > [!div class=mx-imgBorder] 
    > ![Показать действие](media/display-activity-pa.png "Показать действие")

6. Выберите любой другой обязательный параметр, затем выберите **Создать**.

### <a name="step-2-add-entity-to-the-model-driven-app"></a>Шаг 2. Добавление сущности в приложение на основе модели

После того, как вы создали сущность и включили ее в качестве действия, вам нужно добавить сущность в приложение, управляемое моделью.

1. Войдите в среду `https://<YourOrgURL>.dynamics.com/apps`.

2. Выберите многоточие (**...**) на плитке приложения, управляемого моделью. Например, плитка приложения **Центр обслуживания клиентов**.

3. Выберите **ОТКРЫТЬ В КОНСТРУКТОРЕ ПРИЛОЖЕНИЙ**. Конструктор приложений откроется в новой вкладке.

4. Найдите пользовательскую сущность, которую вы создали, в разделе **Представление сущностей** в области холста.

5. Выберите **Формы**. Этот параметр отображается на панели компонентов.

6. Выберите флажок под областью **Формы быстрого создания**. Этот параметр использует форму быстрого создания, когда пользователь выбирает кнопку **+** на элементе управления **Временная шкала**.

    > [!div class=mx-imgBorder] 
    > ![Показать действие](media/app-designer-activity.png "Показать действие")

7. Нажмите кнопку **Сохранить**.

8. Выберите **Опубликовать**.

## <a name="enable-custom-activities-in-timeline-for-mobile-client"></a>Включение пользовательских действий на временной шкале для мобильного клиента

Если у вас есть пользовательские действия, которые вы хотите показывать пользователям, использующим мобильный телефон, вы должны включить его. Для включения выполните следующие действия.

### <a name="enable-for-mobile"></a>Включить для мобильных устройств 

1.  Войдите в среду `https://<YourOrgURL>.dynamics.com/apps`.

2.  Откройте управляемое моделью приложение, затем на панели команд выберите **Параметры** ![Параметры](../model-driven-apps/media/powerapps-gear.png) > **Дополнительные параметры**.

3.  Перейдите в раздел **Параметры** > **Настройка** > **Настроить систему**. Откроется страница обозревателя решений в новом окне браузера.  

4.  Разверните **Сущности** в разделе **Компоненты** на панели решения по умолчанию.

5.  Выберите сущность из списка. Например, организация.

6.  Прокрутите вниз до раздела **Outlook и Mobile** и установите флажок для следующих параметров:

    -   Включить для мобильных устройств (согласно вашим требованиям)
    -   Только для чтения на мобильных устройствах (согласно вашим требованиям)

7.  Нажмите кнопку **Сохранить**.

8.  Выберите **Опубликовать**, чтобы опубликовать настройку.

### <a name="select-the-modules-to-display"></a>Выбор модулей для отображения

После выбора параметров **Включить для мобильных устройств** и **Доступно только для чтения в мобильном** (согласно вашим требованиям) для сущности вам нужно выбрать модуль для отображения на временной шкале. Выберите **Показать все**, если хотите показать все модули, или выберите **Показать выбранное**, если хотите показать один или несколько модулей в соответствии с требованиями вашего бизнеса. Если выбран вариант **Показать выбранные**, выберите модули, которые требуется отображать.
Следуйте шагам 1–8, описанным в разделе [Настройка модулей](#customize-modules), затем сохраните и опубликуйте настройки.

   > [!div class=mx-imgBorder] 
   > ![Выбор модулей временной шкалы для отображения](media/timeline-activity.png "Выбор модулей временной шкалы для отображения")

## <a name="see-also"></a>См. также

[Вопросы и ответы для элемента управления "Временная шкала"](faqs-timeline-control.md)

[Раздел временной шкалы в приложении Центра обслуживания клиентов](https://docs.microsoft.com/dynamics365/customer-service/customer-service-hub-user-guide-basics#timeline)

[Добавление встречи, сообщения электронной почты, телефонного звонка, заметки или действия задачи на временную шкалу](../../user/add-activities.md)
