---
title: Настройка пакетов содержимого Dynamics 365 Power BI | MicrosoftDocs
description: Получите представление об изменении доступных пакетов содержимого Power BI для использования с данными Dynamics 365.
keywords: PBI
ms.date: 09/30/2017
ms.service: crm-online
ms.custom: ''
ms.topic: article
applies_to:
- Dynamics 365 for Customer Engagement (online)
ms.assetid: 424d7f29-de44-4ce0-94f1-be8777ad6485
author: Mattp123
ms.author: matp
manager: annbe
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
caps.latest.revision: 16
topic-status: Drafting
tags: ''
search.audienceType:
- customizer
search.app:
- D365CE
ms.openlocfilehash: 1fb1c7289e287c96ce53474baba7632106ada79e
ms.sourcegitcommit: 5701e7a755fade6c3bac5c4a5774fcc74627e168
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/10/2020
ms.locfileid: "3115957"
---
# <a name="customize-dynamics-365-apps-power-bi-content-packs"></a>Настройка пакетов содержимого приложений Dynamics 365 Power BI

Power BI — это полная коллекция сервисов и инструментов, которое используются для визуализации бизнес-данных.  Пакеты содержимого доступны для упрощения визуализации и анализа данных приложений Dynamics 365 Sales, Service, и Marketing с помощью Power BI на основе стандартной модели данных. Пакеты содержимого построены с набором сущностей и полей , которые полезны для большинства сценариев отчетности по продажам, обслуживанию или маркетингу.  
  
 Часто приложения Dynamics 365 расширяются с использованием настраиваемых полей. Эти настраиваемые поля не будут автоматически отображаться в модели Power BI. В этом разделе описаны различные способы изменить или расширить отчеты, входящие в пакет содержимого, для включения настраиваемых полей в модель Power BI.  
    
<a name="PBI_edit_first"></a>   
## <a name="do-this-before-you-customize-a-content-pack-for-power-bi-reports"></a>Это следует сделать до настройки пакета содержимого для отчетов Power BI  
 
Перед настройкой пакета содержимого ознакомьтесь с информацией из этого раздела и выполните каждую задачу по мере необходимости.  
  
### <a name="meet-the-requirements"></a>Удовлетворение требованиям  
  
- [Power BI регистрация службы](https://powerbi.com/).  
  
- [Power BI Desktop](https://powerbi.microsoft.com/desktop) приложение для редактирования Power BI отчетов.  
  
- Файл PBIX для пакета содержимого, который нужно настроить.  
  
  -   [Загрузите файл PBIX для Dynamics CRM Online Sales Manager](https://download.microsoft.com/download/9/2/B/92BCBDCE-CE01-4BC9-A306-2A92653B683E/Sales%20Manager.pbix)  
  
  -   [Загрузите файл Dynamics CRM Online Service Manager PBIX](https://download.microsoft.com/download/9/2/B/92BCBDCE-CE01-4BC9-A306-2A92653B683E/Customer%20Service%20Manager.pbix)  
  
  -   [Загрузите файл PBIX для Microsoft Dynamics 365 Process Analyzer](https://download.microsoft.com/download/9/2/B/92BCBDCE-CE01-4BC9-A306-2A92653B683E/Process%20Analyzer%20-1.34b.pbix)  
  
  Пакеты содержимого Dynamics 365 в настоящее время поддерживаются только на английском языке (США).  
  
### <a name="prepare-a-content-pack-for-customization"></a>Подготовка пакета содержимого для настройки  
  
> [!IMPORTANT]
>  Чтобы подключить канал OData к вашему экземпляру, необходимо выполнить описанные ниже шаги перед настройкой пакет содержимого.  
> 
> В настоящее время служба Power BI не совместима с конечной точкой OData Dynamics 365 версии 9.0. При попытке использовать конечную точку OData версии 9.0 с сервисом Power BI отображается сообщение об ошибке "Документ метаданных канала недействителен". Для обхода этой несовместимости используйте конечную точку OData Dynamics 365 версии 8.2. Дополнительные сведения о различны версиях конечных точек см. в разделе [Составление HTTP-запросов и обработка ошибок](../../developer/common-data-service/webapi/compose-http-requests-handle-errors.md).
  
1. Запустите Power BI Desktop.  
  
    Выберите **Файл** > **Открыть**, откройте пакет содержимого, например Sales Manager.bpix, затем выберите **Открыть**.  
  
    Несколько страниц отчетов из пакета содержимого загружаются и отображаются в Power BI Desktop.  
  
2. На ленте Power BI Desktop выберите **Изменить запросы**.  
  
3. В левой области навигации окна изменения запросов в пункте **Запросы** выберите запрос **CRMServiceUrl**, затем на ленте выберите **Расширенный редактор**. В определении источника замените **base.crm.dynamics.com** URL-адресом вашего экземпляра приложений. Например, если организация называется *Contoso*, URL-адрес выглядит следующим образом:  
  
    Источник = "https://*contoso*.crm.dynamics.com/api/data/v8.0/"  
  
4. Выберите **Готово**, затем выберите **Закрыть и применить** в редакторе запросов.  
  
5. При появлении диалогового окна "Доступ к каналу OData" выберите **Учетная запись организации**, затем выберите **Войти**.  
  
   ![Диалоговое окно "Доступ к каналу OData"](media/pbi-odata-signin.PNG "Диалоговое окно "Доступ к каналу OData"")  
  
6. Когда появится страница входа, введите свои учетные данные для проверки подлинности в вашем экземпляре.  
  
7. В диалоговом окне "Доступ к каналу OData" выберите **Подключить**.  
  
    Запросы пакета содержимого обновляются. Это может занять несколько минут.  
  
<a name="PBI_edit_report"></a>   
## <a name="customize-adynamics-365-content-pack"></a>Настройка пакета содержимого Dynamics 365 Content Pack  
 [Изменение формата дат, отображаемого в отчете](#PBI_edit_date)  
  
 [Добавление в отчет настраиваемого поля для любой сущности, кроме организации](#PBI_edit_field)  
  
 [Добавление в отчет настраиваемого поля для сущности "Организация"](#PBI_field_Account)  
  
 [Добавление в отчет поля типа "Набор параметров"](#PBI_optionset_field)  
  
 [Увеличение количества запрашиваемых строк](#BPI_increaserows)  
  
<a name="PBI_edit_date"></a>   
### <a name="convert-a-datetime-field-to-a-date-field-for-reporting"></a>Преобразование поля DateTime в поле Date для отчетности  
 В приложениях Dynamics 365 некоторые даты сохраняются в формате Дата/Время/Часовой пояс, что может отличаться от предпочтительного формата для сводных данных в отчете. Можно преобразовать дату, отображаемую в отчетах для поля сущности. Например, поле "Время создания возможной сделки" можно преобразовать в дату, чтобы в отчете отображалась дата создания возможной сделки.  
  
1. В Power BI Desktop выберите **Изменить запросы**.  
  
2. В левой области навигации редактора запросов, в разделе **Запросы**, выберите запрос, в котором имеется поле даты, которое требуется изменить, например **Предполагаемая дата закрытия** в запросе сущности **Возможная сделка**.  
  
3. Щелкните правой кнопкой мыши в заголовке столбца, например *Предполагаемая дата закрытия*, укажите на пункт **Изменить тип**, затем выберите другой тип даты, например **Дата**.  
  
   ![Изменение типа данных в Power BI Desktop](media/pbi-changeformat.PNG "Изменение типа данных в Power BI Desktop")  
  
4. Выберите **Закрыть и применить**, чтобы закрыть редактор запросов.  
  
5. На главной странице Power BI выберите **Применить изменения**, чтобы обновить связанные отчеты.  
  
<a name="PBI_edit_field"></a>   
### <a name="add-a-custom-field-to-a-report"></a>Добавление настраиваемого поля в отчет  
 В следующей процедуре описывается порядок добавления в отчет настраиваемого поля. содержащего дату, строку или число, для всех доступных сущностей, за исключением сущности "Организация".  
  
> [!NOTE]
>  Для добавления поля к сущности "Организация" см. раздел [Добавление в отчет настраиваемого поля для сущности "Организация"](#PBI_field_Account). Для добавления поля типа "Набор параметров" см. раздел [Добавление в отчет поля типа "Набор параметров"](#PBI_optionset_field).  
  
1. В Power BI Desktop выберите **Изменить запросы**.  
  
2. В левой области навигации редактора запросов, в разделе **Запросы**, выберите запрос, в котором имеется настраиваемое поле, которое требуется сделать доступным для отчетов, например запрос сущности **Возможная сделка**.  
  
3. В правой области в разделе **ПРИМЕНЕННЫЕ ШАГИ** выберите кнопку настроек ![Кнопка настроек](media/mp-ua-r16-settings.png "Кнопка "Параметры"") рядом с **Удаленные другие столбцы**.  
  
4. В списке **Выберите столбцы** отображаются все поля для сущности, включая настраиваемые поля. Выберите требуемое настраиваемое поле, затем выберите **ОК**.  
  
    Запрос сущности обновляется, и столбец добавляется в таблицу сущностей для выбранного настраиваемого поля.  
  
5. В правой области в разделе **ПРИМЕНЕННЫЕ ШАГИ** выберите **Язык – переименованные столбцы**, затем выберите **Расширенный редактор**, чтобы добавить сопоставление для поля в запрос сущности. Например, если настраиваемое поле для сущности "Возможная сделка" имеет имя *int_forecast* и отображаемое имя *Прогноз*, сущность должна выглядеть так, как показано ниже.  
  
   ```  
   {"int_forecast","Forecast"}  
   ```  
  
   ![Добавление сопоставления для настраиваемого поля в отчете](media/pbi-addfieldmapping.png "Добавление сопоставления для настраиваемого поля в отчете")  
  
6. После добавления сопоставления поля убедитесь, что внизу расширенного редактора не отображается никаких сообщений о синтаксических ошибках. Также убедитесь, что имя поля отображается точно так, как оно отображается в заголовке столбца, включая правильный регистр букв. Если никакие ошибки синтаксиса или таблицы не обнаружены, выберите **Готово**.  
  
7. Щелкните **Закрыть и загрузить** в редакторе запросов.  
  
    Настраиваемое поле теперь доступно в правой области в разделе **Поля** для сущности, и его можно добавлять в новые или существующие отчеты.  
  
<a name="PBI_field_Account"></a>   
## <a name="add-a-custom-field-to-a-report-for-the-account-entity"></a>Добавление в отчет настраиваемого поля для сущности "Организация"  
 Поскольку в запросе "Организация" используется язык Fetch XML для фильтрации запроса, шаги по добавлению поля отличаются от шагов для других сущностей, в которых используется OData. Чтобы добавить настраиваемое поле в запросы OData сущностей, см. раздел [Добавление настраиваемого поля в отчет](#PBI_edit_field).  
  
1. Скопируйте закодированный запрос на языке Fetch XML для сущности организации. Для этого выполните следующие шаги.  
  
   1.  В Power BI Desktop выберите **Изменить запросы**.  
  
   2.  В левой области навигации редактора запросов в пункте **Запросы** выберите запрос сущности **Учетная запись**, затем на ленте выберите **Расширенный редактор**.  
  
   3.  Из первой строки, начинающейся с %3Cfetch и заканчивающейся на fetch%3E, скопируйте весь закодированный код Fetch XML.  
  
   4.  Скопированный закодированный код Fetch XML должен выглядеть примерно так:  
  
        %3Cfetch%20version%3D%221.0%22%20output-format%3D%22xml-platform%22%20mapping%3D%22logical%22%20distinct%3D%22true%22%3E%3Centity%20name%3D%22account%22%3E%3Cattribute%20name%3D%22territorycode%22%20%2F%3E%3Cattribute%20name%3D%22customersizecode%22%20%2F%3E%3Cattribute%20name%3D%22owningbusinessunit%22%20%2F%3E%3Cattribute%20name%3D%22ownerid%22%20%2F%3E%3Cattribute%20name%3D%22originatingleadid%22%20%2F%3E%3Cattribute%20name%3D%22revenue%22%20%2F%3E%3Cattribute%20name%3D%22sic%22%20%2F%3E%3Cattribute%20name%3D%22marketcap%22%20%2F%3E%20%3Cattribute%20name%3D%22parentaccountid%22%20%2F%3E%3Cattribute%20name%3D%22owninguser%22%20%2F%3E%3Cattribute%20name%3D%22accountcategorycode%22%20%2F%3E%3Cattribute%20name%3D%22marketcap_base%22%20%2F%3E%3Cattribute%20name%3D%22customertypecode%22%20%2F%3E%3Cattribute%20name%3D%22address1_postalcode%22%20%2F%3E%3Cattribute%20name%3D%22numberofemployees%22%20%2F%3E%3Cattribute%20name%3D%22accountratingcode%22%20%2F%3E%3Cattribute%20name%3D%22address1_longitude%22%20%2F%3E%3Cattribute%20name%3D%22revenue_base%22%20%2F%3E%3Cattribute%20name%3D%22createdon%22%20%2F%3E%3Cattribute%20name%3D%22name%22%20%2F%3E%3Cattribute%20name%3D%22address1_stateorprovince%22%20%2F%3E%3Cattribute%20name%3D%22territoryid%22%20%2F%3E%3Cattribute%20name%3D%22accountclassificationcode%22%20%2F%3E%3Cattribute%20name%3D%22businesstypecode%22%20%2F%3E%3Cattribute%20name%3D%22address1_country%22%20%2F%3E%3Cattribute%20name%3D%22accountid%22%20%2F%3E%3Cattribute%20name%3D%22address1_latitude%22%20%2F%3E%3Cattribute%20name%3D%22modifiedon%22%20%2F%3E%3Cattribute%20name%3D%22industrycode%22%20%2F%3E%3Clink-entity%20name%3D%22opportunity%22%20from%3D%22parentaccountid%22%20to%3D%22accountid%22%20alias%3D%22ab%22%3E%3Cfilter%20type%3D%22and%22%3E%3Ccondition%20attribute%3D%22opportunityid%22%20operator%3D%22not-null%22%20%2F%3E%3Ccondition%20attribute%3D%22modifiedon%22%20operator%3D%22last-x-days%22%20value%3D%22365%22%20%2F%3E%3C%2Ffilter%3E%3C%2Flink-entity%3E%3C%2Fentity%3E%3C%2Ffetch%3E  
  
2. Раскодируйте закодированный код Fetch XML. Это должен быть допустимый закодированный код Fetch XML, который после кодирования должен выглядеть примерно так:  
  
    \<fetch version="1.0" output-format="xml-platform" mapping="logical" distinct="true"> \<entity name="account"> \<attribute name="territorycode" /> \<attribute name="customersizecode" /> \<attribute name="owningbusinessunit" /> \<attribute name="ownerid" /> \<attribute name="originatingleadid" /> \<attribute name="revenue" /> \<attribute name="sic" /> \<attribute name="marketcap" />  \<attribute name="parentaccountid" /> \<attribute name="owninguser" /> \<attribute name="accountcategorycode" /> \<attribute name="marketcap_base" /> \<attribute name="customertypecode" /> \<attribute name="address1_postalcode" /> \<attribute name="numberofemployees" /> \<attribute name="accountratingcode" /> \<attribute name="address1_longitude" /> \<attribute name="revenue_base" /> \<attribute name="createdon" /> \<attribute name="name" /> \<attribute name="address1_stateorprovince" /> \<attribute name="territoryid" /> \<attribute name="accountclassificationcode" /> \<attribute name="businesstypecode" /> \<attribute name="address1_country" /> \<attribute name="accountid" /> \<attribute name="address1_latitude" /> \<attribute name="modifiedon" /> \<attribute name="industrycode" /> \<link-entity name="opportunity" from="parentaccountid" to="accountid" alias="ab"> \<filter type="and"> \<condition attribute="opportunityid" operator="not-null" /> \<condition attribute="modifiedon" operator="last-x-days" value="365" /> \</filter> \</link-entity> \</entity> \</fetch>  
  
   > [!TIP]
   >  В Интернете доступно много бесплатных средств для URL-кодирования и URL-декодирования.  
  
3. В коде Fetch XML добавьте свою настраиваемую сущность как узел атрибута между узлами \<entity>. Например, чтобы добавить настраиваемое поле с именем *customclassificationcode*, добавьте узел после другого узла атрибута, такого как **industrycode**.  
  
   ```  
  
   <attribute name="industrycode" />  
   <attribute name=" customclassificationcode "/>  
   <link-entity name="opportunity" from="parentaccountid" to="accountid" alias="ab">  
   ```  
  
4. Выполните URL-кодирование обновленного кода Fetch XML. Код Fetch XML, содержащий новый настраиваемый атрибут, должен быть закодирован и затем использован вместо существующего запроса канала OData, поставляемого с пакетом содержимого. Чтобы сделать это, скопируйте обновленный код FetchXML в буфер обмена и вставьте его в URL-кодировщик.  
  
5. Вставьте URL-кодированный код Fetch XML в канал OData. Для этого вставьте закодированный URL между кавычками после текста **Query=[fetchXml=**, заменив существующий закодированный код FetchXML, затем выберите **Готово**.  
  
    На приведенном ниже снимке экрана показано, где расположена самая левая кавычка.  
  
   ![Вставка закодированного URL в канал OData](media/pbi-acct-encoded-url.PNG "Вставка закодированного URL в канал OData")  
  
6. В правой области в разделе **ПРИМЕНЕННЫЕ ШАГИ** выберите кнопку настроек ![Кнопка настроек](media/mp-ua-r16-settings.png "Кнопка "Параметры"") рядом с **Удаленные другие столбцы**.  
  
7. В списке "Выберите столбцы" отображаются все поля для сущности, включая настраиваемые поля. Выберите настраиваемое поле, например *customclassificationcode*, которое было добавлено к запросу на языке Fetch XML ранее, затем выберите **ОК**.  
  
   > [!NOTE]
   >  Имя поля. выбранное в средстве выбора столбцов, и имя поля, добавленное в запрос на языке FetchXML, должны совпадать.  
  
    Запрос сущности обновляется, и столбец добавляется в таблицу сущностей для выбранного настраиваемого поля.  
  
8. Выберите **Закрыть и загрузить** в редакторе запросов.  
  
    Настраиваемое поле теперь доступно в правой области в разделе **Поля** для сущности, и его можно добавлять в новые или существующие отчеты.  
  
<a name="PBI_optionset_field"></a>   
## <a name="add-a-custom-option-set-field-to-a-report"></a>Добавление в отчет настраиваемого поля типа "Набор параметров"  
 Поля наборов параметров позволяют выбрать одно из нескольких значений. Примерами готовых полей наборов параметров являются поля "Оценка" и "Стадия продажи" для возможной сделки. Представьте, что имеется настраиваемое поле типа набора параметров на главной форме возможной сделки, которое имеет следующие значения и метки.  
  
 ![Пример настраиваемого набора параметров](media/pbi-custom-option-set-example.PNG "Пример настраиваемого набора параметров")  
  
 Для добавления настраиваемого поля набора параметров в отчет выполните следующие действия.  
  
1. Добавьте столбец настраиваемого поля.  
  
   -   В левой области навигации редактора запросов в пункте **Запросы** выберите сущность, с которой связан настраиваемый набор параметров, например на сущности *Возможная сделка*.  
  
   -   В правой области в разделе **ПРИМЕНЕННЫЕ ШАГИ** выберите кнопку настроек ![Кнопка настроек](media/mp-ua-r16-settings.png "Кнопка "Параметры"") рядом с **Удаленные другие столбцы**.  
  
   -   В списке "Выберите столбцы" отображаются все поля для сущности, включая настраиваемые поля. Выберите настраиваемое поле, например *new_customoptionset*, затем выберите **ОК**.  
  
   -   Выберите **Сохранить**, затем по запросу выберите **Применить**.  
  
        Столбец для настраиваемого поля появится в таблице сущности.  
  
2. Создайте запрос набора параметров.  
  
   1.  В Power BI Desktop выберите **Изменить запросы**.  
  
   2.  В левой области навигации редактора запросов выберите в пункте **Запросы** запрос под группой **Создать таблицы**, который содержит поле набора параметров с набором параметров, самым близким к тому, который требуется добавить в отчет. В этом примере запрос **SalesStageOptionSet** содержит четыре параметра, поэтому это хороший выбор.  
  
   3.  Выберите **Расширенный редактор**.  
  
        Отображается запрос набора параметров.  
  
   ![Создайте запрос набора параметров.](media/pbi-makeoptionsetquery.png "Создайте запрос набора параметров.")  
  
   4.  Скопируйте весь запрос в буфер обмена. Можно вставить его в текстовый редактор, например в Блокнот, для последующего использования.  
  
   5.  В редакторе запросов щелкните правой кнопкой мыши группу **Создать таблицы**, выберите **Создать запрос**, затем выберите **Пустой запрос**.  
  
   6.  В правой области под пунктом **Имя** введите имя, например *CustomOptionSet*, и нажмите клавишу ВВОД.  
  
   7.  Выберите **Расширенный редактор**.  
  
   8.  В расширенном редакторе вставьте ранее скопированный запрос.  
  
   9. Замените существующие значения и параметры настраиваемыми значениями и параметрами. В этом примере изменяется это:  
  
       ```  
       let  
           Source = #table({"Value","Option"},{{0,"Qualify"},{1,"Develop"},{2,"Propose"},{3,"Close"}})  
       in  
           Source  
  
       ```  
  
        На это:  
  
       ```  
       let  
           Source = #table({"Value","Option"},{{0,"A"},{1,"B"},{2,"C"},{3,"D"},{4,"E"}})  
       in  
           Source  
  
       ```  
  
   10. Убедитесь в отсутствии синтаксических ошибок, затем выберите **Готово**, чтобы закрыть расширенный редактор. Таблица значений и параметров отображается в редакторе запросов.  
  
   ![Новый запрос набора параметров](media/pbi-optionsetquerycreated.png "Новый запрос набора параметров")  
  
   11. Выберите **Сохранить**, затем по запросу выберите **Применить**.  
  
3. Вставьте запрос слияния для таблиц сущности и настраиваемого набора параметров.  
  
   1.  В левой области редактора запросов в пункте **Сущности** выберите сущность, которая включает в себя настраиваемый набор параметров. В этом примере выбран запрос сущности **Возможная сделка**.  
  
   2.  На ленте выберите **Слияние запросов** и, при появлении запроса вставки шага, выберите **Вставить**.  
  
   3.  В диалоговом окне слияния выберите заголовок столбца для настраиваемого набора параметров, например *new_optionset*. В раскрывающемся списке выберите соответствующий созданный ранее запрос набора параметров.  Когда появится таблица набора параметров, выберите заголовок столбца **Значение**, чтобы выбрать его.  
  
   ![Выбор в таблице слияния](media/pbi-merge-tables.png "Выбор в таблице слияния")  
  
   4.  Оставьте вид объединения **Левое внешнее (все из первого, соответствующие из второго)**, затем выберите **ОК**.  
  
       > [!TIP]
       >  Переименуйте запрос слияния. В разделе **ПРИМЕНЕННЫЕ ШАГИ** щелкните правой кнопкой мыши созданный запрос слияния, выберите **Переименовать** и введите описательное имя, такое как *Слияние CustomOptionSet*.  
  
4. Определите столбец, чтобы отображались только подписи.  
  
   1.  В левой области редактора запросов в пункте Сущности выберите сущность, которая включает в себя настраиваемый набор параметров. В этом примере выбран запрос сущности **Возможная сделка**.  
  
   2.  В правой области в разделе **ПРИМЕНЕННЫЕ ШАГИ** выберите один из расширенных запросов для отображения объединенных столбцов, например **Расширенный SalesStage**.  
  
   3.  Найдите и выберите заголовок столбца для нового столбца, который был создана во время выполнения предыдущего шага запроса слияния.  
  
   4.  На вкладке **Преобразовать** выберите **Развернуть**.  
  
   5.  В диалоговом окне "Развернуть новый столбец" очистите столбец, соответствующий значениям (поскольку в столбце должны отображаться только подписи). Выберите **Готово**.  
  
   ![Выберите столбец, который представляет подпись](media/pbi-expand-column.png "Выберите столбец, который представляет подпись")  
  
   6.  Выберите **Сохранить**, затем по запросу выберите **Применить**.  
  
5. Измените имя столбца для построения отчета.  
  
   1.  В левой области редактора запросов в пункте **Сущности** выберите сущность, которая включает в себя настраиваемый набор параметров. В этом примере выбран запрос сущности **Возможная сделка**.  
  
   2.  Выберите **Расширенный редактор**.  
  
   3.  Добавьте элемент строки переименованного столбца, убедитесь в отсутствии синтаксических ошибок, затем выберите **Готово**. В этом примере созданный ранее столбец набора параметров имеет имя **NewColumn**, которое изменяется на *Настраиваемый набор параметров*.  
  
   ![Переименование столбца для отображения в отчетах](media/pbi-rename-column.png "Переименование столбца для отображения в отчетах")  
  
   4.  Выберите **Сохранить**, затем по запросу выберите **Применить**.  
  
6. Выберите **Закрыть и применить**, чтобы закрыть редактор запросов.  
  
    Настраиваемый набор параметров теперь может использоваться для построения отчетов Power BI.  
  
<a name="BPI_increaserows"></a>   
## <a name="increase-the-number-of-rows-queried"></a>Увеличение количества запрашиваемых строк  
 По умолчанию все запросы сущности Power BI в пакетах содержимого не могут превышать 100000 строк. Для увеличения числа строк, которые можно запрашивать, выполните следующие действия.  
  
> [!IMPORTANT]
>  Увеличение максимального количества строк может существенно увеличить время, затрачиваемое на обновление отчета. Кроме того, в службе Power BI действует ограничение 30 минут на время работы запросов. При увеличении максимального количества строк соблюдайте осторожность.  
  
1. В Power BI Desktop выберите **Изменить запросы**.  
  
2. В левой области навигации редактора запросов в пункте **Запросы** выберите запрос сущности, для которого требуется увеличить максимальное количество строк, например сущность **Интерес**.  
  
3. В правой области в разделе **ПРИМЕНЕННЫЕ ШАГИ** выберите **Сохраняемые первые строки**.  
  
4. Увеличьте отфильтрованное число строк. Например, для увеличения до 150000 измените Table.FirstN(#"Filtered Rows",100001) на Table.FirstN(#"Filtered Rows",150000)  
  
5. В правой области в разделе **ПРИМЕНЕННЫЕ ШАГИ** выберите **Проверить количество строк**.  
  
6. Найдите часть этого шага **>100000**.  
  
   ![Увеличение значения числа строк](media/pbi-increaserowcount.png "Увеличение значения числа строк")  
  
7. Увеличьте значение на большее число, например *150000*.  
  
8. Выберите **Закрыть и загрузить** в редакторе запросов.  
  
<a name="BPI_publish"></a>   
## <a name="publish-your-report-to-the-power-bi-service"></a>Публикация отчета в службе Power BI  
 Опубликуйте отчет для совместного использования в организации и доступа из любого места на большинстве устройств.  
  
1. На главной странице Power BI Desktop, на ленте вкладки **Главная** выберите **Опубликовать**.  
  
2. Если будет предложено выполнить вход в службу Power BI, выберите **Войти**.  
  
3. Если доступно несколько пунктов назначения, выберите нужный вариант, затем выберите **Опубликовать**.  
  
### <a name="see-also"></a>См. также  
 [Использование Power BI с Dynamics 365 Customer Engagement (on-premises)](use-power-bi.md)
