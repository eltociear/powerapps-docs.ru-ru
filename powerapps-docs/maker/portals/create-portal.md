---
title: Создание портала в PowerApps | Документация Майкрософт
description: Инструкции по созданию портала в PowerApps.
author: sbmjais
manager: shujoshi
ms.service: powerapps
ms.topic: conceptual
ms.custom: null
ms.date: 10/02/2019
ms.author: shjais
ms.reviewer: null
---

# <a name="create-a-common-data-service-starter-portal"></a>Создание начального портала Common Data Service

[!include[cc-beta-prerelease-disclaimer](../../includes/cc-beta-prerelease-disclaimer.md)]

Благодаря возможности создания портала в PowerApps можно создать веб-сайт для внешних и внутренних пользователей, что они могли работать с данными, хранящимися в Common Data Service.

Вот некоторые преимущества портала создания:

- Поскольку данные хранятся в Common Data Service, не нужно установить соединение из PowerApps как это происходит с источниками данных, такими как SharePoint, приложения на основе модели Dynamics 365 или Salesforce. Необходимо только указать сущности которыми требуется управлять или показывать в портал.

- Можно создавать портал с помощью конструктора портала WYSIWYG, добавив и настроив компоненты на веб-страницах.

Можно создать портал либо в новой среде, либо в существующей среде.

Если вы решите создать свой портал в новой среде с помощью ссылки **Создать новую среду**, при создании среды будут установлены необходимые предварительные компоненты портала, такие как сущности, данные и шаблон начального портала. В данном метод, портал представлен через несколько минут.

Если вы выбираете создать свой портал в существующей среде без предварительные компоненты портала, то сначала будут установлены предварительные компоненты, а затем будет создан портал. При использовании этого метода подготовка портала может занять некоторое время, и вы будете уведомлены о подготовке портала.

Можно создать начальный портал Common Data Service или порталы Dynamics 365 в PowerApps в зависимости от выбранной среды.

Дополнительные сведения о работе со средами см. в разделе [Работа со средами и Microsoft PowerApps](https://docs.microsoft.com/en-us/powerapps/maker/canvas-apps/working-with-environments)

Дополнительные сведения о доступных шаблонах портала см. в разделе [Шаблоны портала](portal-templates.md)

Чтобы создать портал:

1.  Выполните вход в [PowerApps](http://web.powerapps.com).  

2.  В **Создавайте собственные приложения** выберите **Портал с нуля (предварительного просмотра)**.

3.  Если выбранная среда не содержит предварительных компонентов портала, в окне **Портал с нуля (предварительного просмотра)** отображается сообщение, предлагающее выбрать другую среду или создать новую.

    > [!div class=mx-imgBorder]
    > ![сообщение о создании новой среды](media/create-portal-message.png "сообщение о создании новой среды")

4.  Если вы решите продолжить работу с текущей средой, введите необходимую информацию в окне, как указано в следующих шагах. Если вы выбираете создать новую среду, см. раздел [Создание новой среды](#create-new-environment).

5.  В окне **Портал с нуля (предварительного просмотра)** введите название портала и адрес веб-сайта, и выберите язык с помощью раскрывающегося списка. По завершении нажмите **Создать**.

    > [!div class=mx-imgBorder]
    > ![создание нового портала](media/create-new-portal.png "Создание нового портала")  

После того, как вы выберете **Создать**, портал начинает подготовку, и статус подготовки отображается посредством [уведомлений](#portal-provisioning-notifications).

При создании портала в среде, в которой не установлены предварительные компоненты портала, статус подготовка также отображается в сетке:

> [!div class=mx-imgBorder]
> ![Уведомление в сетке](media/provision-progress-notif.png "Уведомление в сетке")

После успешной подготовки портала его статус обновляется, и портал отображается в сетке:

> [!div class=mx-imgBorder]
> ![Портал подготовлен](media/recent-apps.png "Портал подготовлен")

Для изменения портала в конструкторе порталов см. раздел [Изменение портала](manage-existing-portals.md#edit).

> [!NOTE]
> - Можно создать максимум пять порталов в одном клиенте. Однако в среде может быть только один портал каждого типа.
> - Если у вас недостаточно прав для подготовки портала, отображается сообщение об ошибке. Для создания портала необходимо иметь роль безопасности "Системный администратор" или "Настройщик системы" в Common Data Service. Также необходимо, чтобы **Режим доступа** устанавливается на **Чтение и запись** в разделе **Сведения о клиентской лицензии (CAL)** в учетной записи пользователя.

## <a name="create-new-environment"></a>Создать новую среду

Выполните следующие действия при создании среды, используя параметр, предоставленный в окне **Портал с нуля (предварительного просмотра)**.

1.  В области **Новая среда**, введите имя для среды, а затем выберите тип среды и регион из раскрывающиеся списки. Нельзя менять регион после создания среды. По завершении нажмите **Создать среду**.

    > [!div class=mx-imgBorder]
    > ![Создать новую среду](media/create-new-environment.png "Создать новую среду")  

2.  После создания среды вы получите сообщение подтверждения в диалоговом окне и вам будет предложено создать базу данных. Выберите **Создайте базу данных** для включения доступа к Common Data Service.

    > [!NOTE]
    > Запрос на создание базы данных может не отображаться автоматически. В этом случае, необходимо подключиться в новую среду и выберите плитку **Портал с нуля**.

    > [!div class=mx-imgBorder]
    > ![новая среда создана](media/new-environment-created.png "новая среда создана")  

3.  Выберите валюту и язык для данных, хранящихся в базе данных. Нельзя менять валюту и язык как только базу данных создается. По завершении нажмите **Создать мою базу данных**. База данных создается с помощью портала начального который позволит вам быстро приступить к работе с пример содержимого после подготовки портала.

    > [!NOTE]
    > Параметр **Включить начальный портал** доступен только при создании среды с использованием параметра, предоставленного в окне **Портал с нуля (предварительного просмотра)**. Этот параметр недоступен при создании среды из центра администрирования PowerApps.

    > [!div class=mx-imgBorder]
    > ![создание новой базы данных](media/create-new-database.png "Создание новой базы данных") 

    Создание базы данных в Common Data Service может занять несколько минут. После создания базы данных новая среда выбирается в списке сред на домашней странице PowerApps и создается приложение управления порталом. Это приложение не является фактическим порталом, а управляемым моделью приложением-спутником, которое позволяет выполнять предварительные действия по администрированию. Теперь вы можете приступить к созданию портала для разработки доступный извне веб-сайта.

    > [!div class=mx-imgBorder]
    > ![приложение управления порталом](media/portal-mgmt-app.png "приложение управления порталом")

4. После создания среды и базы данных в разделе **Создавайте собственные приложения** выберите **Портал с нуля (предварительного просмотра)**. 

    > [!NOTE]
    > Если база данных создана, и вы по-прежнему получаете запрос на создание базы данных, необходимо обновить домашнюю страницу PowerApps, прежде чем выбрать плитку **Портал с нуля (предварительного просмотра)**.


## <a name="portal-provisioning-notifications"></a>Уведомления о подготовке портала

После того, как вы выберете **Создать**, портал начинает подготовку, и статус подготовки отображается посредством уведомлений.

**Всплывающее уведомление**

Отображается следующее уведомление при выборе параметра **Создать** чтобы подготовить портал.

> [!div class=mx-imgBorder]
> ![Всплывающие уведомления](media/toast-notif.png "Всплывающие уведомления") 

**Уведомления в области уведомлений**

После успешного размещения запроса на подготовку в области **уведомлений** отображаются следующие уведомления.

Уведомление отображаемое для подготовки в процессе

> [!div class=mx-imgBorder]
> ![Уведомление в области](media/pane-notif.png "Уведомление в области") 

Уведомление отображаемое для успешно завершенной подготовки

> [!div class=mx-imgBorder]
> ![Уведомление об успешной подготовке](media/provision-complete-notif.png "Уведомление об успешной подготовке") 

Если подготовка портала не удалась, уведомления отображаются соответственно.
  
## <a name="disable-portal-creation-in-a-tenant"></a>Отключить создание портала в клиенте

Как глобальный администратор, если требуется отключить создание портала в клиенте пользователями, не являющихся администраторами, вы можете сделать это, включив параметр уровня клиента `disablePortalsCreationByNonAdminUsers` посредством PowerShell. Для выполнения командлетов PowerShell следует сначала установить необходимые модули. Сведения об установке необходимых модулей PowerShell, см. в разделе [Установка](https://docs.microsoft.com/en-us/power-platform/admin/powerapps-powershell#installation).

После установки модулей выполните следующую команду в окне PowerShell (запустите PowerShell от имени администратора).

```
Set-TenantSettings -RequestBody @{ "disablePortalsCreationByNonAdminUsers" = $true }
```

Администратором являются пользователи, имеющие одну из следующих ролей Azure:

- Глобальный администратор 
- Администратор службы Dynamics 365
- Администратор службы Power Platform

Пользователи, не имеющие ни одной из вышеупомянутых ролей Azure, считаются пользователями, не являющихся администраторами.

Если создание портала будет отключено в клиенте, пользователи, не являющиеся администраторами, увидят ошибку следующим образом:

> [!div class=mx-imgBorder]
> ![Ошибка блокировки создания портала](media/portal-create-blocked-error.png "Ошибка блокировки создания портала")

