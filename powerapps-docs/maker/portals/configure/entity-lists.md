---
title: Добавление веб-страницы для отображения списка записей на портале | MicrosoftDocs
description: Инструкции по добавлению и настройке списков сущностей для отображения списка записей на портале.
author: sbmjais
manager: shujoshi
ms.service: powerapps
ms.topic: conceptual
ms.custom: ''
ms.date: 11/04/2019
ms.author: shjais
ms.reviewer: ''
ms.openlocfilehash: 1ab175f69fdcf292185fd96cb176045dccc3a70b
ms.sourcegitcommit: d9cecdd5a35279d78aa1b6c9fc642e36a4e4612c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/04/2019
ms.locfileid: "73552849"
---
# <a name="about-entity-lists"></a>О списках сущностей

Список сущностей — это управляемая данными конфигурация, которая используется для добавления веб-страницы, которая будет отображать список записей без необходимости для разработчика отобразить сетку на портале. С помощью списков сущностей можно предоставлять записи для отображения на порталах.

Сетка поддерживает сортировку и будет разбита на страницы, если число записей больше указанного размера страницы. Если указано значение " **веб-страница для представления сведений** ", каждая запись будет содержать ссылку на страницу, а идентификатор записи будет добавлен в строку запроса вместе с идентификатором параметра строки запроса. Список сущностей также поддерживает несколько представлений. Если указано более одного представления, будет отображен раскрывающийся список, позволяющий пользователю переключаться между различными представлениями.

Данные также могут быть отфильтрованы текущим пользователем портала, родительской учетной записью клиента текущего пользователя портала и текущим веб-сайтом портала. Если для атрибута **учетной записи** **пользователя портала** и атрибута счета существует значение, на портале будет отображен раскрывающийся список, позволяющий пользователю просматривать свои данные (мои) или данные родительской учетной записи клиента.

## <a name="add-an-entity-list-to-your-portal"></a>Добавление списка сущностей на портал

Список сущностей содержит связи с веб-страницами и различные свойства для управления инициализацией списка записей на портале. Связь с веб-страницей позволяет выполнять динамическое извлечение определения списка для данного узла страницы на веб-сайте. Для просмотра существующих представлений сущностей или для создания новых представлений сущностей перейдите на **порталы** > **списки сущностей**.

> [!Note]
> - Список сущностей должен быть связан с веб-страницей на данном веб-сайте, чтобы список был доступен для просмотра в пределах сайта.
> - Набор параметров множественного выбора не поддерживается в списках сущностей.

Чтобы просмотреть веб-страницы, связанные со списком сущностей, выберите ссылку **Web Pages** , которая указана в **соответствующих** ссылках навигации в крайнем левом меню. При создании списка сущностей первым шагом является выбор сущности, для которой необходимо отобразить список на портале. Затем вы выбираете одно или несколько представлений приложений на основе модели для подготовки к просмотру.

При создании или редактировании веб-страницы можно указать список сущностей в поле подстановки, предоставленном в форме Web Page. Шаблон страницы, как правило, является шаблоном страницы, но может быть одним из нескольких шаблонов, предназначенных для содержимого, поскольку главные шаблоны содержат необходимую логику для определения того, следует ли визуализировать список сущностей.

## <a name="entity-list-attributes-and-relationships"></a>Атрибуты и отношения списка сущностей

|              Имя              |                                                                                                                                                                                        Description                                                                                                                                                                                         |
|--------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|              Имя              |                                                                                                                                                                Описательное имя записи. Это обязательное поле.                                                                                                                                                                 |
|          Имя сущности           |                                                                                                                                               Имя сущности, из которой будет загружено сохраненное представление запроса. Это обязательное поле.                                                                                                                                               |
|              Режиме              |                                                                          Сохраненные представления запросов целевой сущности для подготовки к просмотру. Это обязательное поле. Если указано более одного представления, то веб-страница будет содержать раскрывающийся список, позволяющий пользователю переключаться между различными представлениями.                                                                           |
|           Размер страницы            |                                                                                                                                            Целочисленное значение, указывающее количество записей на страницу. Это обязательное поле. По умолчанию: 10                                                                                                                                             |
|   Веб-страница для просмотра сведений    |                                                                                                        Необязательная веб-страница, которую можно связать с каждой записью. Имя параметра строки запроса ID и идентификатор записи будут добавлены в строку запроса URL-адреса этой веб-страницы.                                                                                                        |
|      Метка кнопки "сведения"      |                     Текст, отображаемый для кнопки просмотра сведений, если задана **веб-страница для представления Details** . По умолчанию: Просмотр сведений <br>**Примечание**. для каждого языкового пакета, установленного и включенного для среды Common Data Service, будет доступно поле для ввода сообщения на соответствующем языке.                      |
|      Веб-страница для создания       |                                                                                                                                                             Необязательная веб-страница, которая будет целевым объектом кнопки "создать".                                                                                                                                                              |
|      Создать метку для кнопки       |                              Текст, отображаемый для кнопки Создать, если указана **веб-страница для создания** . По умолчанию: Create <br>**Примечание**. для каждого языкового пакета, установленного и включенного для среды Common Data Service, будет доступно поле для ввода сообщения на соответствующем языке.                              |
| ИДЕНТИФИКАТОР имя параметра строки запроса |                                                                                                                                           Имя параметра, предоставленное в строке запроса URL-адреса к странице в представлении Details. Значение по умолчанию: ID                                                                                                                                           |
|        Пустой текст списка         |  Не **рекомендуется**.  Сообщение, отображаемое при отсутствии записей.<br>**Примечание**. для каждого языкового пакета, установленного и включенного для среды Common Data Service, будет доступно поле для ввода сообщения на соответствующем языке.                                                           |
|     Пользовательский атрибут портала      |                                                                                      Необязательный атрибут Lookup в основной сущности, представляющей запись пользователя на портале, контакт или Системный пользователь, к которому можно применить идентификатор текущего пользователя для фильтрации данных, отображаемых в списке.                                                                                      |
|       Атрибут учетной записи        |                                                                                       Необязательный атрибут Lookup в основной сущности, которая представляет запись учетной записи, к которой может быть применено родительское значение клиентской учетной записи контакта текущего пользователя для фильтрации данных, отображаемых в списке.                                                                                       |
|       Атрибут веб-сайта        |                                                                                                          Необязательный атрибут Lookup в основной сущности, представляющей веб-сайт, к которому можно применить идентификатор текущего веб-сайта для фильтрации данных, отображаемых в списке.                                                                                                          |
|         Поиск включен         | Необязательное логическое значение, указывающее, следует ли включить поиск. Будет отображено текстовое поле, позволяющее пользователям выполнять быстрый поиск записей. Используйте символ-шаблон звездочки (\*) для поиска по частичному тексту. При поиске добавляются или фильтры условий для каждого столбца представления к существующим условиям фильтра представления, чтобы запрашивать и возвращать результирующие записи. |
|    Поиск текста заполнителя     |                                                                                                                                                      Необязательная строка, используемая в качестве метки, отображаемой в текстовом поле при начальной загрузке.                                                                                                                                                       |
|      Поиск текста всплывающей подсказки       |                                                                                                                                             Необязательная строка, используемая в качестве подсказки, отображаемой, когда пользователь указывает на текстовое поле **поиска** .                                                                                                                                              |
|                                |                                                                                                                                                                                                                                                                                                                                                                                            |

## <a name="add-custom-javascript"></a>Добавить пользовательский JavaScript

Вкладка Параметры формы содержит текстовую область, в которую можно ввести пользовательский [!INCLUDE[pn-javascript](../../../includes/pn-javascript.md)]. Если страница содержит библиотеку jQuery, ее можно использовать и здесь. Блок скрипта будет добавлен в нижнюю часть веб-страницы непосредственно перед тегом закрывающей формы страницы.

![Пользовательский пример сценария JavaScript](../media/custom-javascript-example.png "Пользовательский пример сценария JavaScript")  

Список получает данные асинхронно, и по завершении он запускает событие, `loaded`, что пользовательская [!INCLUDE[pn-javascript](../../../includes/pn-javascript.md)] может прослушивать и выполнять какие-либо действия с элементами в сетке. Ниже приведен простой пример кода.
```
$(document).ready(function (){
$(".entitylist.entity-grid").on("loaded", function () {
$(this).children(".view-grid").find("tr").each(function (){
// do something with each row
$(this).css("background-color", "yellow");
});
});
}); 
```

Найти определенное поле атрибута и получить его значение, возможно, изменить отрисовку значения. Следующий код возвращает каждую ячейку таблицы, содержащую значение атрибута `accountnumber`. Замените `accountnumber` атрибутом, подходящим для сущности и представления.
```
$(document).ready(function (){
   $(".entitylist.entity-grid").on("loaded", function () {
      $(this).children(".view-grid").find("td[data-attribute='accountnumber']").each(function (i, e){
         var value = $(this).data(value);
         // now that you have the value you can do something to the value
      });
   });
});
```
## <a name="entity-list-configuration"></a>Конфигурация списка сущностей

Можно легко включить и настроить действия (создание, изменение, удаление и т. д.) для записей в списке сущностей. Можно также переопределить метки по умолчанию, размеры и другие атрибуты, чтобы список сущностей отображался именно так, как нужно.

Эти параметры находятся в разделе Конфигурация формы список сущностей. По умолчанию отображаются только **Основные параметры** . Выберите **Дополнительные параметры** , чтобы просмотреть дополнительные параметры.

![Настройка списка сущностей](../media/configure-entitylist.png "Настройка списка сущностей")  

**Атрибута**

|Имя                   |Description|
|---------------------------|-----------|
|**Основные параметры**         |   |
| Просмотр действий              |Используйте для добавления кнопок действий, применимых к набору сущностей, которые будут отображаться над сеткой. Доступные действия: <ul><li>Создания</li> <li>Download</li></ul> При выборе одного из этих параметров область конфигурации для этого действия отображается.|
| Действия с элементами             |Используйте для добавления кнопок действий, применимых к отдельной записи, и появляющихся для каждой строки в сетке при условии, что соответствующие привилегии предоставлены разрешениями сущности. Обычно доступны следующие действия:<ul><li>Сведения</li><li>Редактор</li><li>Удален</li><li>Процессов</li><li>Вызова</li><li>Активизаци</li></ul> При выборе одного из этих параметров область конфигурации для этого действия отображается. Дополнительные сведения о каждом действии см. ниже. Более того, некоторые сущности имеют специальные действия, доступные для отдельных сущностей:<ul><li>Вычислить значение возможности (возможная сделка)</li><li>Отменить действие варианта (инцидент)</li><li>Закрытие (разрешение) действия Case (инцидент)</li><li>Преобразовать кавычки в заказ (цитата)</li><li>Преобразовать заказ в счет (SalesOrder)</li><li>Создать цитату из возможной сделки (возможная сделка)</li><li>Действие "потерять возможную сделку" (возможная сделка)</li><li>Действие Win сделка (возможная сделка)</li><li>Повторно открыть действие сценария (инцидент)</li><li>Задать возможность удержания (возможная сделка)</li></ul>|
| Переопределить атрибуты столбцов|Используется для переопределения параметров вывода для отдельных столбцов в сетке.<ul><li>Attribute: логическое имя столбца, который необходимо переопределить.</li><li>Отображаемое имя: новый заголовок столбца для переопределения значения по умолчанию</li><li>Width: ширина (в процентах или пикселах) столбца, для которого необходимо переопределить значение по умолчанию. См. также стиль ширины столбцов сетки</li></ul> Чтобы переопределить параметры столбца, выберите **+ столбец** и введите сведения.|
|**Дополнительные параметры**      |  |
| Идет загрузка сообщения           |Переопределяет сообщение HTML по умолчанию, которое появляется при загрузке сетки.|
| Сообщение об ошибке             |Переопределяет сообщение HTML по умолчанию, которое появляется при возникновении ошибки при загрузке сетки.|
| Сообщение об отказе в доступе     |Переопределяет сообщение HTML по умолчанию, которое появляется, когда пользователь не имеет достаточных разрешений сущности для просмотра списка сущностей.|
| Пустое сообщение             |Переопределяет сообщение HTML, которое появляется, если сетка не содержит данных.|
| Диалоговое окно формы сведений       |Управляет параметрами диалогового окна, отображаемого при активации действия со сведениями пользователем.|
| Диалоговое окно редактирования формы          |Управляет параметрами диалогового окна, отображаемого при активации пользователем действия изменить.|
| Диалоговое окно создания формы        |Управляет параметрами диалогового окна, отображаемого при активации пользователем действия создать.|
| Удалить диалоговое окно             |Управляет параметрами диалогового окна, отображаемого при активации пользователем действия удалить.|
| Диалоговое окно ошибки              |Управляет параметрами диалогового окна, отображаемого при возникновении ошибки во время любого действия.|
| Класс CSS                 |Укажите класс CSS или классы, которые будут применены к элементу HTML, содержащему всю область сетки, включая сетку и кнопки действий.|
| Grid, класс CSS            |Укажите класс CSS или классы, которые будут применяться к элементу\> HTML \<Table списка сущностей.|
| Стиль ширины столбца сетки   |Определяет, указываются ли значения **ширины** в атрибутах столбца переопределения в **пикселях** или **процентах**.|

**Общие параметры действий**

Как правило, действия сущности имеют параметры, которые могут быть настроены. Во всех случаях это позволяет предоставить дополнительные возможности в контексте настройки, а поля не являются обязательными. Простое добавление действия позволит выполнить действие на портале, при условии, что соответствующие привилегии предоставлены разрешениями сущности.

Как правило, можно настроить соответствующее диалоговое окно для каждого действия, которое будет отображаться только в том случае, если выбран параметр **требуется подтверждение**.


| Имя                   | Description                                                                                                                                                                                                                   |
|------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Основные параметры**         |                                                                                                                                                                                                                               |
| Требуется подтверждение? | Определяет, будет ли подтверждение запрашивать у пользователя подтверждение при выборе действия.                                                                                                                                 |
| **Дополнительные параметры**      |                                                                                                                                                                                                                               |
| Операций           | Переопределяет HTML-сообщение подтверждения, отображаемое при активации действия пользователем.                                                                                                                                         |
| Метка кнопки           | Переопределяет HTML-метку для этого действия, отображаемого в строке списка сущностей.                                                                                                                                                    |
| Подсказка для кнопки         | Переопределяет текст подсказки, отображаемый при наведении на кнопку для этого действия, отображаемого в строке списка сущностей.                                                                                           |
| Класс CSS Button       | Добавляет класс CSS к кнопке.                                                                                                                                                      |
| Перенаправление на веб-страницу    | Некоторые действия (не все) разрешают перенаправление после завершения действия. Настоятельно рекомендуется для действия Delete. в большинстве других случаев можно выбрать веб-страницу для перенаправления после завершения действия. |
| URL-адрес перенаправления           | Альтернатива параметру **перенаправления на веб-страницу**&mdash;позволяет перенаправление на конкретный URL-адрес.                                                                                                                                   |

**Диалоговое окно "Общие" — Дополнительные параметры**

|**Name** (Наименование)                 |**Description;**                                                                                                                         |
|--------------------------|-----------------------------------------------------------------------------------------------------------------------------------------|
| Title                    | Переопределяет HTML-код, отображаемый в заголовке диалогового окна.|                                                                         
| Текст основной кнопки      | Переопределяет HTML-код, отображаемый в основной кнопке (удалить) в диалоговом окне.                                                         |
| Закрыть текст кнопки        | Переопределяет HTML-код, отображаемый в кнопке Закрыть (Отмена) в диалоговом окне.                                                           |
| Кнопка "Закрыть" текст SR   | Переопределяет текст средства чтения с экрана, связанный с кнопкой закрытия диалогового окна.                                                           |
| Размер                     | Задает размер диалогового окна удаления. Параметры по умолчанию, Large и малый. Размер по умолчанию — Default. |
| Класс CSS                | Укажите класс CSS или классы, которые будут применены к результирующему диалоговому окну.                                                            |
| Класс CSS плитки           | Укажите класс CSS или классы, которые будут применяться к строке заголовка результирующего диалогового окна.                                                |
| Класс CSS первичной кнопки | Укажите класс CSS или классы, которые будут применены к основной кнопке (удалить) диалогового окна.                                          |
| Класс CSS кнопки закрытия   | Укажите класс CSS или классы, которые будут применены к кнопке Закрыть (Отмена) диалогового окна.                                            |

**Создать параметры действия**

При включении **операции создания** отображается кнопка над списком сущностей, которая, если она выбрана, открывает диалоговое окно с формой сущности, которую пользователь может использовать для создания новой записи, при условии, что права на создание предоставлены разрешения сущности.

| Имя               | Description                          |
|--------------------|--------------------------------------|
| **Основные параметры**     |                                                                                                                                                                       |
| Форма сущности     | Указывает форму сущности, которая будет использоваться для создания новой записи. Раскрывающийся список будет включать все формы сущностей, настроенные для типа сущности списка сущностей. <br>**Примечание**. Если тип сущности списка сущностей не имеет форм сущностей, раскрывающийся список будет пустым. Если для действия создать не указана форма сущности, она будет пропущена и кнопка не будет отображаться в списке сущностей. |
| **Дополнительные параметры**          |                                                                                                                                                                       |
| Метка кнопки                                                                                                                                                                                                                 | Переопределяет HTML-метку, отображаемую в кнопке Создать действие над списком.                                                                                        |
| Подсказка для кнопки                                                                                                                                                                                                               | Переопределяет текст подсказки, которая появляется, когда пользователь указывает на кнопку Создать действие.                                                                         |

**Диалоговое окно "Создание формы" Параметры аванцед**

|**Name** (Наименование)               |**Description;**                                                                                                                                 |
|------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------|
| Идет загрузка сообщения        | Переопределяет сообщение, отображаемое при загрузке диалогового окна.                                                                                  |
| Title                  | Переопределяет HTML-код, отображаемый в заголовке диалогового окна.                                                                                  |
| Кнопка "Закрыть" текст SR | Переопределяет текст средства чтения с экрана, связанный с кнопкой закрытия диалогового окна.                                                                   |
| Размер                   | Задает размер диалогового окна «Создание формы». Параметры по умолчанию, Large и малый. Размер по умолчанию — Large. |
| Класс CSS              | Укажите класс CSS или классы, которые будут применены к результирующему диалоговому окну.                                                                    |
| Класс CSS Title        | Укажите класс CSS или классы, которые будут применяться к строке заголовка результирующего диалогового окна.                                                        |

**Параметры действия скачивания**

При включении **действия скачивания** отображается кнопка над списком сущностей, при выборе которой данные загружаются из списка в файл [!INCLUDE[pn-excel-short](../../../includes/pn-excel-short.md)] (XLSX).

| Имя              | Description                                                                                        |
|-------------------|----------------------------------------------------------------------------------------------------|
| **Основные параметры**    |                                                                                                    |
| None              |                                                                                                    |
| **Дополнительные параметры** |                                                                                                    |
| Метка кнопки      | Переопределяет метку HTML, отображаемую при нажатии кнопки "действие скачивания" над списком сущностей.            |
| Подсказка для кнопки    | Переопределяет текст подсказки, которая появляется, когда пользователь указывает на кнопку "скачать действие". |

**Параметры действия со сведениями**

Включение **подробного действия** позволяет пользователю просматривать форму сущности, доступную только для чтения, для выбранной строки в списке сущностей.


|                 Имя                  |                                                                                                                                                                                                                      Description                                                                                                                                                                                                                      |
|---------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|          **Основные параметры**           |                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|              Форма сущности              | Задает форму сущности, которая будет использоваться для просмотра сведений о выбранной сущности. Раскрывающийся список будет включать все формы сущностей, настроенные для типа сущности списка сущностей. <br> **Примечание**. Если тип сущности списка сущностей не имеет форм сущностей, раскрывающийся список будет пустым. Если для действия Details не указана форма сущности, она будет пропущена и кнопка не будет отображаться в списке сущностей. |
|         **Дополнительные параметры**         |                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Идентификатор записи имя параметра строки запроса |                                                                    Указывает имя параметра строки запроса, который будет использоваться для выбора сущности для просмотра в выбранной форме сущности. Это значение должно совпадать со значением в имени параметра строки запроса идентификатора записи формы сущности. Значение по умолчанию для этого поля, как здесь, так и в конфигурации формы сущности, является **идентификатором**.                                                                     |
|             Метка кнопки              |                                                                                                                                                                                      Переопределяет HTML-метку для этого действия, отображаемого в строке списка сущностей.                                                                                                                                                                                       |
|            Подсказка для кнопки             |                                                                                                                                                             Переопределяет текст подсказки, отображаемый при наведении на кнопку для этого действия, отображаемого в строке списка сущностей.                                                                                                                                                              |

**Дополнительные параметры диалогового окна "сведения"**

|**Name** (Наименование)               |**Description;**                                                                                                                         |
|------------------------|-----------------------------------------------------------------------------------------------------------------------------------------|
| Идет загрузка сообщения        | Переопределяет HTML-код, отображаемый при загрузке диалогового окна.                                                                             |
| Title                  | Переопределяет HTML-код, отображаемый в заголовке диалогового окна.                                                                         |
| Кнопка "Закрыть" текст SR | Переопределяет текст средства чтения с экрана, связанный с кнопкой закрытия диалогового окна.                                                           |
| Размер                   | Задает размер диалогового окна сведения. Параметры по умолчанию, Large и малый. Размер по умолчанию — Large. |
| Класс CSS              | Укажите класс CSS или классы, которые будут применены к результирующему диалоговому окну.                                                            |
| Класс CSS Title        | Укажите класс CSS или классы, которые будут применяться к строке заголовка результирующего диалогового окна.                                                |

**Изменить параметры действия**

Включение **действия редактирования** позволяет пользователю просматривать редактируемую форму сущности, которая привязана к данным, к записи выбранной строки из списка сущностей, при условии, что права на запись предоставлены разрешениями сущности.


|                 Имя                  |                                                                                                                                                                                                             Description                                                                                                                                                                                                             |
|---------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|          **Основные параметры**           |                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|              Форма сущности              | Указывает форму сущности, которая будет использоваться для изменения выбранной сущности. Раскрывающийся список будет включать все формы сущностей, настроенные для типа сущности списка сущностей. <br> **Примечание**. Если тип сущности списка сущностей не имеет форм сущностей, раскрывающийся список будет пустым. Если для действия изменения не указана форма сущности, она будет пропущена и кнопка не будет отображаться в списке сущностей. |
|         **Дополнительные параметры**         |                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Идентификатор записи имя параметра строки запроса |                                                           Указывает имя параметра строки запроса, который будет использоваться для выбора сущности для изменения в выбранной форме сущности. Это значение должно совпадать со значением в имени параметра строки запроса идентификатора записи формы сущности. Значение по умолчанию для этого поля, как здесь, так и в конфигурации формы сущности, является **идентификатором**.                                                            |
|             Метка кнопки              |                                                                                                                                                                             Переопределяет HTML-метку для этого действия, отображаемого в строке списка сущностей.                                                                                                                                                                              |
|            Подсказка для кнопки             |                                                                                                                                                    Переопределяет текст подсказки, отображаемый при наведении на кнопку для этого действия, отображаемого в строке списка сущностей.                                                                                                                                                     |

**Дополнительные параметры диалогового окна "изменение формы"**

|**Name** (Наименование)               |**Description;**                                                                                                                   |
|------------------------|-----------------------------------------------------------------------------------------------------------------------------------|
| Идет загрузка сообщения        | Переопределяет HTML-код, отображаемый при загрузке диалогового окна.                                                                       |
| Title                  | Переопределяет HTML-код, отображаемый в заголовке диалогового окна.                                                                   |
| Кнопка "Закрыть" текст SR | Переопределяет текст средства чтения с экрана, связанный с кнопкой закрытия диалогового окна.                                                     |
| Размер                   | Задает размер диалогового окна редактирования. Параметры по умолчанию, Large и малый. Размер по умолчанию — Large. |
| Класс CSS              | Укажите класс CSS или классы, которые будут применены к результирующему диалоговому окну.                                                      |
| Класс CSS Title        | Укажите класс CSS или классы, которые будут применяться к строке заголовка результирующего диалогового окна.                                          |

**Параметры удаления действия**

Включение **действия удаления** позволяет пользователю навсегда удалить запись выбранной строки из списка сущностей при условии, что право на удаление предоставлено разрешениями сущности.

| Имя              | Description                                                                                                                         |
|-------------------|-------------------------------------------------------------------------------------------------------------------------------------|
| **Основные параметры**    |                                                                                                                                     |
| None              |                                                                                                                                     |
| **Дополнительные параметры** |                                                                                                                                     |
| Операций      | Переопределяет HTML-сообщение подтверждения, отображаемое при активации пользователем действия удаления.                                        |
| Метка кнопки      | Переопределяет HTML-метку для этого действия, отображаемого в строке списка сущностей.                                                          |
| Подсказка для кнопки    | Переопределяет текст подсказки, отображаемый при наведении на кнопку для этого действия, отображаемого в строке списка сущностей. |

**Диалоговое окно "удаление" (дополнительные параметры)**

|**Name** (Наименование)                 |**Description;**                                                                                                                         |
|--------------------------|-----------------------------------------------------------------------------------------------------------------------------------------|
| Title                    | Переопределяет HTML-код, отображаемый в заголовке диалогового окна.                                                                         |
| Текст основной кнопки      | Переопределяет HTML-код, отображаемый в основной кнопке (удалить) в диалоговом окне.                                                         |
| Закрыть текст кнопки        | Переопределяет HTML-код, отображаемый в кнопке Закрыть (Отмена) в диалоговом окне.                                                           |
| Кнопка "Закрыть" текст SR   | Переопределяет текст средства чтения с экрана, связанный с кнопкой закрытия диалогового окна.                                                           |
| Размер                     | Задает размер диалогового окна удаления. Параметры по умолчанию, Large и малый. Размер по умолчанию — Default. |
| Класс CSS                | Укажите класс CSS или классы, которые будут применены к результирующему диалоговому окну.                                                            |
| Класс CSS Title          | Укажите класс CSS или классы, которые будут применяться к строке заголовка результирующего диалогового окна.                                                |
| Класс CSS первичной кнопки | Укажите класс CSS или классы, которые будут применены к основной кнопке (удалить) диалогового окна.                                          |
| Класс CSS кнопки закрытия   | Укажите класс CSS или классы, которые будут применены к кнопке Закрыть (Отмена) диалогового окна.                                            |

**Параметры действия рабочего процесса**

Включение **действия рабочего процесса** позволяет пользователю выполнять рабочий процесс по запросу для записи выбранной строки из списка сущностей. В список сущностей можно добавить любое количество действий рабочего процесса.


|         Имя          |                                                                                                                                                           Description                                                                                                                                                           |
|-----------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  **Основные параметры**   |                                                                                                                                                                                                                                                                                                                                 |
|       Процессов        | Указывает рабочий процесс по запросу, который будет выполняться, когда пользователь активирует это действие. <br> **Примечание**. Если тип сущности списка сущностей не содержит рабочих процессов, раскрывающийся список будет пустым. Если для действия рабочего процесса не указан рабочий процесс, он будет проигнорирован и кнопка не будет отображаться в списке сущностей. |
|     Метка кнопки      |                                                                                                                 Задает метку HTML для этого действия, отображаемого в строке списка сущностей. Этот параметр является обязательным.                                                                                                                 |
| **Дополнительные параметры** |                                                                                                                                                                                                                                                                                                                                 |
|    Подсказка для кнопки     |                                                                                                  Переопределяет текст подсказки, отображаемый при наведении на кнопку для этого действия, отображаемого в строке списка сущностей.                                                                                                   |

## <a name="securing-entity-lists"></a>Защита списков сущностей

Чтобы защитить список сущностей, необходимо настроить разрешения сущностей для сущности, для которой отображаются записи, а также установить значение true для параметра **Включить разрешения сущности** в списке сущностей.

Защита списка сущностей гарантирует, что для любого пользователя, обращающегося к странице, будут показаны только те записи, на которые им предоставлено разрешение. Это достигается дополнительным фильтром, добавляемым в представления приложений на основе моделей, которые отображаются через список. Фильтр будет фильтровать только записи, доступные пользователю, с помощью разрешения на **Чтение** .

Кроме того, все действия, определенные для списка, будут учитывать соответствующие разрешения для этого действия для каждой записи. То есть, если у вас есть разрешение на изменение для записи, действие редактирования будет включено для этой записи. То же самое применимо к удалению, созданию и т. д. Обратите внимание, что если нет доступных записей, сообщение, указывающее, будет отображаться при загрузке списка.

Однако хороший дизайн веб-сайта требует, чтобы если пользователь не находится в роли с какими-либо разрешениями для сущности (то есть ситуация, когда она должна увидеть записи), не должна иметь доступа к странице. В идеале, страница должна быть защищена с помощью разрешений на доступ к веб-странице.

## <a name="adding-a-view-details-page"></a>Добавление страницы сведений о представлении

При настройке веб-страницы для просмотра подробностей в представлении "Таблица" сведения о записи, указанной в сетке, можно просмотреть как доступную только для чтения или изменить в зависимости от конфигурации связанной формы или страницы.

Эта страница может быть полностью настраиваемым шаблоном страницы, который, возможно, создан с помощью жидкости. Наиболее распространенным сценарием, скорее всего, может быть страница сведений, которая содержит форму сущности или веб-форму.

Важно помнить, что каждая запись, указанная в сетке, будет содержать гиперссылку на страницу сведений, а ссылка будет содержать именованный параметр строки запроса с ИДЕНТИФИКАТОРом записи. Имя параметра строки запроса зависит от имени параметра строки запроса идентификатора, указанного в списке сущностей. Конечно, следует отметить, что на веб-странице целевые сведения необходимо также учитывать имя этого параметра строки запроса, чтобы получить идентификатор записи, которая необходима для запроса и загрузки данных.

![Страница добавления сведений о представлении](../media/add-view-details-page.png "Страница добавления сведений о представлении")  

**Использование формы сущности для вывода сведений**

Сведения о создании формы сущности см. в инструкциях на странице [формы сущности](entity-forms.md) .

Ниже приведены важные параметры, которые следует учитывать при проверке того, что запись из списка сущностей загружается в форму сущности.

Имя параметра строки запроса идентификатора записи в форме сущности должно совпадать с ИДЕНТИФИКАТОРом имени параметра строки запроса в списке сущностей.

В зависимости от потребностей режим может быть либо редактируемым, либо доступным только для чтения.

**Использование веб-формы для вывода сведений**

Ниже приведены важные параметры, которые следует учитывать при обеспечении загрузки записи из списка сущностей в веб-форму.

Имя параметра строки запроса первичного ключа на шаге веб-формы должно совпадать с ИДЕНТИФИКАТОРом параметра строки запроса в списке сущностей.

В зависимости от потребностей режим может быть либо редактируемым, либо доступным только для чтения.

**Использование страницы сведений для функции Create**

Можно использовать пользовательскую страницу, форму сущности или веб-форму таким же образом, как и для функции Create. Это альтернатива определению действия создания в форме. Нельзя определить как действие создания, так *и* настраиваемую страницу для создания: определение настраиваемого действия имеет приоритет.

Если вы присвоить веб-странице команду создать подстановку в списке сущностей и не указали действие создать с помощью конфигурации, в списке будет отображена кнопка Создать. Эта кнопка свяжет пользователя с настраиваемой страницей, назначенной для создания.

## <a name="entity-list-filter-configuration"></a>Конфигурация фильтра списка сущностей

Добавление возможности фильтрации записей в списке сущностей несложно: просто включите параметр фильтрации, а затем выберите один или несколько типов фильтров для показа пользователям. Фильтрацию можно выполнять по атрибуту, который соответствует тексту, предоставленному пользователем, или для выбора из ряда параметров. Можно даже спроектировать практически любой тип фильтра, который можно представить с помощью расширенного поиска.

**Включение фильтра списка сущностей**

В разделе "фильтр метаданных" установите флажок Включено. При отображении область фильтра будет добавлена в список сущностей. Пока не определен хотя бы один тип фильтра, поле будет отображаться как пустое.

Можно определить, как область фильтра в списке сущностей будет отображаться с помощью параметра ориентации. По умолчанию горизонтально отображает область фильтра над списком сущностей. Вертикальная ориентация отображает область фильтра в виде прямоугольника слева от списка сущностей.

![Параметры фильтра метаданных](../media/metadata-filter-settings.png "Параметры фильтра метаданных")  

**Типы фильтров**

|**Тип фильтра**      |**Description;**                                                                                                                                                                                                                               |
|----------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Фильтр текста          | Фильтрация списка сущностей с помощью текстового поля для поиска совпадающего текста в выбранном атрибуте данной сущности.                                                                                                                               |
| Набор фильтров атрибутов | Фильтрация списка сущностей с помощью ряда флажков, каждый из которых пытается сопоставить свое условие с определенным атрибутом данной сущности.                                                                                           |
| Набор уточняющих запросов           | Фильтрация списка сущностей с помощью ряда флажков, каждый из которых представляет связь между записью для данной сущности и записью для связанной сущности.                                                                         |
| Набор фильтров диапазона     | Аналогично набору фильтров атрибутов, за исключением того, что каждый флажок может представлять два условия, а не одно (например, больше или равно 0 и меньше 100).                                                                    |
| Динамический набор полей выбора | Аналогично выбору значения поля выбора для набора фильтров атрибутов. В наборе динамических полей выбора не требуется указывать параметры поля выбора для фильтрации. Вместо этого он создает полный список параметров при загрузке списка сущностей. |
| Динамический набор уточняющих запросов   | Аналогично набору поиска. Динамический набор уточняющих запросов не требует указания параметров подстановки для фильтрации; Вместо этого он создает полный список параметров при загрузке списка сущностей.                                           |
| Фильтр FetchXML      | Отфильтруйте список сущностей с помощью условия фильтра FetchXML.                                                                                                                                                                                     |

**Фильтр текста**

Текстовый фильтр добавляет текстовое поле в область фильтра список сущностей, привязанную к атрибуту типа сущности списка сущностей. Когда пользователь применяет фильтр, в списке сущностей отображаются только те записи, для которых выбранный атрибут содержит значение.

Чтобы добавить текстовый фильтр, выберите **+ текстовый фильтр**.

![Добавление текстового фильтра](../media/add-text-filter.png "Добавление текстового фильтра")  

Фильтр текста использует следующие атрибуты:

|**Name** (Наименование)     |**Description;**                                                                                                                                        |
|--------------|--------------------------------------------------------------------------------------------------------------------------------------------------------|
| Версию    | Имя атрибута в выбранном типе сущности списка сущностей для фильтрации. *Для текстового фильтра допустимы только атрибуты со строкой типа.*                                                                                   |
| Отображаемое имя | Переопределите метку для фильтра при отображении списка сущностей. По умолчанию для этого параметра автоматически задается имя выбранного атрибута. |

**Набор фильтров атрибутов**

Набор фильтров атрибутов добавляет ряд параметров для фильтрации списка сущностей по, привязанных к одному атрибуту выбранного типа сущности списка сущностей. Когда пользователь применяет фильтр, в списке сущностей отображаются только те записи, которые точно соответствуют по крайней мере одному из выбранных параметров.

![Параметры фильтра атрибутов](../media/set-attribute-filter.png "Параметры фильтра атрибутов")

Набор фильтров атрибутов использует следующие атрибуты:

|**Name** (Наименование)     |**Description;**                                                                                                                                        |
|--------------|--------------------------------------------------------------------------------------------------------------------------------------------------------|
| Версию    | Имя атрибута в выбранном типе сущности списка сущностей для фильтрации. Для текстового фильтра допустимы только атрибуты со следующими типами: строка, BigInt, десятичное, двойное, целое число, деньги, поле выбора, DateTime и логическое значение.
|Отображаемое имя | Переопределите метку для фильтра при отображении списка сущностей. По умолчанию для этого параметра автоматически задается имя выбранного атрибута.
| Параметры |      Коллекция возможных значений для фильтрации. Дополнительные сведения см. ниже.                                                                              |

**Параметры набора фильтров атрибутов**

Набор фильтров атрибутов обычно может иметь любое количество параметров, за исключением атрибутов выбора и логического атрибута. Набор фильтров атрибутов логического типа может иметь только один или два параметра&mdash;один параметр true и один параметр false. Набор фильтров атрибутов списка выбора может иметь не более одного варианта для каждого возможного значения в поле выбора.

Параметры имеют следующие атрибуты:

|**Name** (Наименование)     |**Description;**                                                                                                                                                                                  |
|--------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Станции     | Оператор сравнения, используемый для фильтрации результатов, например Equals, less и т. д. Список операторов для параметра будет зависеть от типа атрибута, выбранного для фильтра. Например, числовые (десятичные) типы будут иметь такие операторы, как меньше или больше, тогда как строковые атрибуты будут использовать операторы, такие как, начинаются с или Contains. Поля выбора и логические операторы всегда равны.                                                                                                                                               |
| Value        | Фактическое значение, используемое для этого условия фильтра.                                                                                                                                                 |
| Отображаемое имя | Переопределяет отображаемое имя для этого параметра в поле фильтра. По умолчанию для этого параметра будет задано то же значение, что и для атрибута value.                                                             |

**Набор уточняющих запросов**

Набор уточняющих запросов добавляет ряд параметров для фильтрации списка сущностей, привязанных к связанной сущности, к выбранному типу сущности списка сущностей. Когда пользователь применяет фильтр, в списке сущностей отображаются только те записи, которые точно соответствуют по крайней мере одной из выбранных связанных записей.

![Набор уточняющих запросов](../media/lookup-set.png "Набор уточняющих запросов")  

В наборе уточняющих запросов используются следующие атрибуты:

|**Name** (Наименование)     |**Description;**                                                                                                                                           |
|--------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------|
| Связь | Имя связанной сущности для выбранного типа сущности списка сущностей, по которому производится фильтрация. В качестве параметров для этого типа фильтра отображаются только сущности со связью "один ко многим" или "многие ко многим" с выбранным типом сущности "список сущностей".          |
| Отображаемое имя | Переопределите метку для фильтра при отображении списка сущностей. По умолчанию автоматически будет задано имя выбранной связи. |
| Параметры      | Коллекция возможных значений для фильтрации. Дополнительные сведения см. ниже.                                                                                 |

**Параметры набора поиска**

Набор уточняющих запросов обычно может иметь любое количество параметров, при этом единственным ограничением является количество связанных записей выбранного связанного типа.

Параметры имеют следующие атрибуты:

|**Name** (Наименование)     |**Description;**                                                                                                                      |
|--------------|--------------------------------------------------------------------------------------------------------------------------------------|
| Value        | Запись выбранного связанного типа для фильтрации.                                                                                |
| Отображаемое имя | Переопределяет отображаемое имя для этого параметра в поле фильтра. По умолчанию для этого параметра будет задано то же значение, что и для атрибута value. |

**Набор фильтров диапазона**

Набор фильтров диапазонов добавляет ряд параметров, каждый с одним или двумя условиями, в область фильтра. Когда пользователь применяет фильтр, в списке сущностей отображаются только те записи, которые точно соответствуют всем условиям по крайней мере с одним из выбранных параметров.

![Параметры фильтра диапазона](../media/set-range-filter.png "Параметры фильтра диапазона")  

Набор фильтров диапазонов использует следующие атрибуты:

|**Name** (Наименование)     |**Description;**                                                                                                                                        |
|--------------|--------------------------------------------------------------------------------------------------------------------------------------------------------|
| Версию    | Имя атрибута в выбранном типе сущности списка сущностей для фильтрации. Для текстового фильтра допустимы только атрибуты со следующими типами: строка, BigInt, десятичное, двойное, целое число, Money, DateTime.                       |
| Отображаемое имя | Переопределите метку для фильтра при отображении списка сущностей. По умолчанию для этого параметра автоматически задается имя выбранного атрибута. |
| Параметры      | Коллекция возможных значений для фильтрации. Дополнительные сведения см. ниже.                                                                              |

**Параметры набора фильтров диапазона**

Набор фильтров диапазона может иметь любое количество параметров. Каждый параметр выдает условие фильтра с одним или двумя подсостояниями, которые должны выполняться, чтобы условие было истинным.

Параметры имеют следующие атрибуты:

|**Name** (Наименование)              |**Description;**                                                                                                                                                                                |
|---------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Оператор 1            | Первый оператор сравнения, используемый для фильтрации результатов, например Equals и меньше. Список операторов для параметра будет зависеть от типа атрибута, выбранного для фильтра. Например, числовые (десятичные) типы будут иметь такие операторы, как меньше или больше, тогда как строковые атрибуты будут использовать операторы, такие как, начинаются с или Contains. Поля выбора и логические операторы всегда равны.                                                                                                                                             |
| Значение 1               | Первое значение, используемое для этого условия фильтра.                                                                                                                                                |
| Оператор 2 (необязательно) | Второй оператор сравнения, используемый для фильтрации результатов, например Equals и меньше. Список операторов для параметра будет зависеть от типа атрибута, выбранного для фильтра. Например, числовые (десятичные) типы будут иметь такие операторы, как меньше или больше, тогда как строковые атрибуты будут использовать операторы, такие как, начинаются с или Contains. Поля выбора и логические операторы всегда равны.                                                                                                                                             |
| Значение 2 (необязательно)    | Второе значение, используемое для этого условия фильтра.                                                                                                                                               |
| Отображаемое имя          | Переопределяет отображаемое имя для этого параметра в поле фильтра. По умолчанию это значение задается динамически на основе выбранных операторов и значений.                                         |

**Динамический набор полей выбора**

Динамический набор полей выбора добавляет ряд параметров для фильтрации по, которые представляют все значения указанного поля выбора. Это отличается от выбора элемента выбора в наборе фильтров атрибутов. В наборе фильтров атрибутов необходимо указать набор параметров, которые будут доступны пользователю для фильтрации. в наборе динамических полей выбора необходимо указать только поле поля выбора, и весь набор параметров будет предоставлен автоматически. Если требуется больший контроль, рекомендуется использовать набор фильтров атрибутов.

![Параметры динамического поля выбора](../media/set-dynamic-picklist.png "Параметры динамического поля выбора")  

В поле "динамический" набора полей выбора используются следующие параметры.

|**Name** (Наименование)     |**Description;**                                                                                                                                        |
|--------------|--------------------------------------------------------------------------------------------------------------------------------------------------------|
| Версию    | Имя атрибута поля выбора в выбранном типе сущности списка сущностей для фильтрации.                                                             |
| Отображаемое имя | Переопределите метку для фильтра при отображении списка сущностей. По умолчанию для этого параметра автоматически задается имя выбранного атрибута. |

**Динамический набор уточняющих запросов**

Динамический набор уточняющих запросов добавляет динамический ряд параметров для фильтрации списка сущностей, привязанных к связанной сущности, к выбранному типу сущности списка сущностей. Когда пользователь применяет фильтр, в списке сущностей отображаются только те записи, которые точно соответствуют по крайней мере одной из выбранных связанных записей.

Это отличается от набора поиска. В наборе поиска необходимо вручную указать связанные сущности для фильтрации. В динамическом наборе уточняющих запросов необходимо указать только те связи, которые фильтруются, а список параметров будет создан на основе указанного представления связанных сущностей.

![Параметры динамического поиска](../media/set-dynamic-lookup.png "Параметры динамического поиска")  

Динамический набор уточняющих запросов использует следующие параметры.

|**Name** (Наименование)                      |**Description;**                                                                                                                                                                      |
|-------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Связь                  | Имя связанной сущности для выбранного типа сущности списка сущностей, по которому производится фильтрация. В качестве параметров для этого типа фильтра отображаются только сущности со связью "один ко многим" или "многие ко многим" с выбранным типом сущности "список сущностей".                                     |
| Режиме                          | Представление (сохраненный запрос) для использования в качестве источника динамического списка сущностей для фильтрации.                                                                                              |
| Столбец меток                  | Поле из представления, которое предоставляет значение имени каждой сущности.                                                                                                                    |
| Фильтровать поиск по связи | Задает связь между сущностью, заданной полем связи, и пользователем, выполнившего вход. Если сущность, указанная в поле связи, также имеет связь с контактом, можно сократить список параметров фильтра, указав те, которые относятся к пользователю, выполнившему вход.  |
| Отображаемое имя                  | Переопределите метку для фильтра при отображении списка сущностей. По умолчанию для этого параметра автоматически задается имя выбранной связи.                            |

**Фильтр FetchXML**

Фильтр диапазонов может создать либо простой фильтр текстового поля, например текстовый фильтр, либо набор параметров, аналогичных другим типам фильтров. Он позволяет вручную создать практически любой тип фильтра для списка сущностей с помощью FetchXML.

![Параметры фильтра FetchXML](../media/set-fetchxml-filter.png "Параметры фильтра FetchXML")

Фильтр FetchXML использует только один атрибут:

|**Name** (Наименование) |**Description;**                            |
|----------|--------------------------------------------|
| FetchXML | Инструкция XML, представляющая фильтр. |

## <a name="entity-list-map-view"></a>Представление схемы списка сущностей

С помощью списков сущностей можно включить и настроить представление карты данных на основе [!INCLUDE[pn-bing](../../../includes/pn-bing.md)] сопоставленные с функциями поиска для поиска расположений рядом с адресом. Заполняя записи значениями широты и долготы и указав необходимые параметры конфигурации, перечисленные в этом разделе, ваши записи можно визуализировать как защелки на карте. Любая запись, не имеющая значения широты или долготы, будет исключена из поиска. При начальной загрузке страницы будут отображены все записи в начальном значении поля расстояния (в милях или км в зависимости от указанных единиц расстояния) от координат центра по умолчанию широты и по умолчанию для Центральной долготы. Указанное представление игнорируется при использовании представления Map, а к набору данных применяется запрос расстояния, возвращающий результаты сопоставляемые.
>[!Note] 
>Этот параметр не поддерживается в облачной среде Германии независимых. Раздел представления карт не будет отображаться в этой среде.


## <a name="entity-list-calendar-view"></a>Представление календаря списка сущностей

Используйте представление календаря список сущностей для отображения списка сущностей в качестве календаря с каждой отдельной записью, настроенной как одно событие.

Чтобы отобразить записи с помощью календаря, эти записи должны содержать как минимум поле даты. Чтобы события имели точное время начала и окончания, должны быть установлены соответствующие поля и т. д. При условии, что эти поля настроены, на портале появится представление календаря список сущностей.

## <a name="enhanced-view-filter-for-entity-lists"></a>Расширенный фильтр просмотра для списков сущностей

Если этот флажок включен, сущность можно опубликовать в веб-канале OData. Протокол OData — это протокол уровня приложения для взаимодействия с данными через веб-службы RESTFUL. Данные из этого веб-канала можно просматривать в веб-браузере, использовать на стороне клиента или импортировать в [!INCLUDE[pn-excel-short](../../../includes/pn-excel-short.md)].

## <a name="entity-list-odata-feeds"></a>Веб-каналы OData список сущностей

Разрешения сущности можно использовать, если требуется защитить записи, но если вы хотите просто предоставить фильтр как часть набора параметров фильтра, относящегося к текущему пользователю портала, можно использовать функцию список сущностей. Эта функция поддерживает фильтрацию текущего пользователя, родительской учетной записи пользователя или веб-сайта с любой глубиной. Просто создайте фильтр представления для сопоставления с любой отдельной записью контакта, и код заменит его значение фактическим значением во время выполнения&mdash;нет необходимости назначать значения полям в разделе условий фильтра.

> [!Note]
> Публикуемый веб-канал OData является анонимным и не имеет проверок авторизации. Поэтому важно не включать каналы oData для данных, которые не подходят для анонимного доступа к порталу.

### <a name="see-also"></a>См. также

[Настройка портала](configure-portal.md)  
[Перенаправление на новый URL-адрес на портале](add-redirect-url.md)  
