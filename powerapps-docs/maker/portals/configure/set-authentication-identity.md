---
title: Задание удостоверения аутентификации для портала | MicrosoftDocs
description: Инструкции по заданию удостоверения аутентификации для портала.
author: tapanm-msft
manager: kvivek
ms.service: powerapps
ms.topic: conceptual
ms.custom: ''
ms.date: 10/18/2019
ms.author: tapanm
ms.reviewer: ''
ms.openlocfilehash: 2faab3a6f41bbcd9a239c52fb00ce27919347879
ms.sourcegitcommit: a0d069f63d2ce9496d578f81e65cd32bec2faa4d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/23/2020
ms.locfileid: "2980366"
---
# <a name="set-authentication-identity-for-a-portal"></a>Задание удостоверения аутентификации для портала

Порталы предоставляют возможность проверки подлинности, построенную на основе API [ASP.NET Identity](https://www.asp.net/identity). ASP.NET Identity в свою очередь построен на основе платформы [OWIN](https://www.asp.net/aspnet/overview/owin-and-katana), которая также является важнейшим компонентом системы проверки подлинности. Предоставляются следующие услуги:

- Вход локального пользователя (имя пользователя и пароль)
- Вход внешнего пользователя (поставщик социальных сетей) через поставщиков удостоверений третьей стороны
- Двухфакторная проверка подлинности с использованием электронной почты
- Проверка адреса электронной почты
- Восстановление пароля
- Регистрация по коду приглашения для регистрации предварительно созданных записей контактов

> [!NOTE]
> Поле **Мобильный телефон подтвержден** в форме контактов портала объекта «Контакт» в настоящий момент не служит ни для какой цели. Это поле должно использоваться только при обновлении с Adxstudio Portals.

## <a name="requirements"></a>Требования

Порталы требуют:

- База порталов
- Удостоверение [!INCLUDE[cc-microsoft](../../../includes/cc-microsoft.md)]
- Пакеты решения бизнес-процессов удостоверений [!INCLUDE[cc-microsoft](../../../includes/cc-microsoft.md)]

## <a name="authentication-overview"></a>Обзор проверки подлинности

Повторные посетители портала могут проходить проверку подлинности с помощью учетных данных локальных пользователей или учетных записей внешних поставщиков удостоверений. Новый посетитель может зарегистрироваться для новой учетной записи пользователя либо предоставив имя пользователя и пароль, либо выполнив вход через внешнего поставщика Посетители, которым был отправлен код приглашения (от администратора портала), могут использовать этот код в процессе регистрации для новой учетной записи пользователя.

**Связанные параметры сайта:**

- `Authentication/Registration/Enabled`
- `Authentication/Registration/LocalLoginEnabled`
- `Authentication/Registration/ExternalLoginEnabled`
- `Authentication/Registration/OpenRegistrationEnabled`
- `Authentication/Registration/InvitationEnabled`
- `Authentication/Registration/RememberMeEnabled`
- `Authentication/Registration/ResetPasswordEnabled`

### <a name="sign-in-by-using-a-local-identity-or-external-identity"></a>Вход с помощью локального или внешнего удостоверения

![Вход с использованием локальной учетной записи](../media/sign-in-local-account.png "Вход с использованием локальной учетной записи")  

### <a name="sign-up-by-using-a-local-identity-or-external-identity"></a>Регистрация с помощью локального или внешнего удостоверения

![Регистрация новой локальной учетной записи](../media/register-new-local-account.png "Регистрация новой локальной учетной записи")  

### <a name="redeem-an-invitation-code-manually"></a>Использование кода приглашения вручную

![Регистрация с использованием кода приглашения](../media/sign-up-invitation-code.png "Регистрация с использованием кода приглашения")  

## <a name="forgot-password-or-password-reset"></a>Забыли пароль или сброс пароля 

Повторные посетители, которым требуется сбросить пароль (и которые ранее указали адрес электронной почты в своем профиле пользователя) могут запросить, чтобы на их учетную запись электронной почты был отправлен токен сброса пароля. Токен сброса позволяет его владельцу выбрать новый пароль. Также можно не использовать токен, тогда исходный пароль пользователя останется без изменений.

**Связанные параметры сайта:**

- `Authentication/Registration/ResetPasswordEnabled`
- `Authentication/Registration/ResetPasswordRequiresConfirmedEmail`

**Связанный процесс:** отправка сброса пароля контакту

1.  Настройка электронной почты в бизнес-процессе по мере необходимости.
2.  Отправка сообщения электронной почты, чтобы запустить процесс.
3.  Посетителю предлагается проверить электронную почту.
4.  Посетитель получает сообщение электронной почты с инструкциями по сбросу пароля.
5.  Посетитель возвращается к форме сброса.
6.  Сброс пароля завершен.

## <a name="redeem-an-invitation"></a>Активировать приглашение

Активирование кода приглашения позволяет связать регистрацию посетителя с существующей записью контакта, которая была подготовлена заранее специально для этого посетителя. Обычно коды приглашений отправляются по электронной почте, однако вы можете использовать общую форму отправки кода для отправки кодов по другим каналам. После предоставления действительного кода приглашения выполняется обычный процесс регистрации пользователя, чтобы настроить новую учетную запись пользователя.

**Связанные параметры сайта:**

`Authentication/Registration/InvitationEnabled`

**Связанный процесс:** отправка приглашения

Сообщение электронной почты, отправленное этим бизнес-процессом, необходимо настроить, указав URL-адрес страницы активирования приглашения на портале: https://portal.contoso.com/register/?returnurl=%2f&invitation={Invitation Code(Invitation)}

1. Создание приглашения для нового контакта.

    ![Создание приглашения для нового контакта](../media/create-invitation.png "Создание приглашения для нового контакта")  

2. Настройка и сохранении нового приглашения.

    ![Настройка нового приглашения](../media/customize-new-invitation.png "Настройка нового приглашения")  

3. Процесс: отправка приглашения
4. Настройте сообщение электронной почты с приглашением.
5. Сообщение электронной почты с приглашением открывает страницу активирования.
6. Пользователь регистрируется с помощью отправленного кода приглашения.

    ![Регистрация с использованием кода приглашения](../media/sign-up-invitation-code.png "Регистрация с использованием кода приглашения")  

## <a name="manage-user-accounts-through-profile-pages"></a>Управление учетными записями пользователя через страницы профиля

Пользователя, прошедшие проверку подлинности, управляют своими учетными записями пользователя с помощью панели навигации **Безопасность** страницы профиля. Пользователи не ограничены одной местной учетной записью или одной внешней учетной записью, выбранной во время регистрации пользователя. Пользователи с внешними учетными записями могут создать локальную учетную запись, указав имя пользователя и пароль. Пользователи, которые начали с локальной учетной записи, могут связать несколько внешних удостоверений со своей учетной записью. Также на странице профиля пользователю выводится напоминание о необходимости подтвердить свой адрес электронной почты, запросив отправку сообщения электронной почты с подтверждением по адресу электронной почты из учетной записи.

**Связанные параметры сайта:**

- `Authentication/Registration/LocalLoginEnabled`
- `Authentication/Registration/ExternalLoginEnabled`
- `Authentication/Registration/TwoFactorEnabled`

## <a name="set-or-change-a-password"></a>Задание или смена пароля

Пользователь с существующей локальной учетной записью может применять новый пароль, указав первоначальный пароль. Пользователь без локальной учетной записи может выбрать имя пользователя и пароль, чтобы настроить новую локальную учетную запись. Заданное имя пользователя изменить невозможно.

**Связанные параметры сайта:**

`Authentication/Registration/LocalLoginEnabled`

**Связанный процесс:**
- Создание имени пользователя и пароля.
- Изменение существующего пароля.

## <a name="confirm-an-email-address"></a>Подтверждение адреса электронной почты

Изменение адреса электронной почты (или задание его в первый раз) переводит его в неподтвержденное состояние. Пользователь может запросить, чтобы на новый адрес электронной почты было отправлено сообщение электронной почты с подтверждением, и это сообщение будет содержать инструкции пользователю по выполнении процесса подтверждения адреса электронной почты.

**Связанный процесс:** отправка подтверждающего сообщения электронной почты контакту

1. Настройка электронной почты в бизнес-процессе по мере необходимости. 
2. Пользователь отправляет новое сообщение электронной почты, которое находится в неподтвержденном состоянии.
3. Пользователь проверяет электронную почту для подтверждения.
4. Процесс: отправка подтверждающего сообщения электронной почты контакту
5. Настройка сообщения электронной почты для подтверждения.
6. Пользователь нажимает ссылку подтверждения для завершения процесса подтверждения.

> [!NOTE]
> Убедитесь, что основной адрес электронной почты указан для контакта, поскольку электронная почта с подтверждением будет отправляться только по основному адресу электронной почты (emailaddress1) контакта. Сообщение электронной почты с подтверждением не отправляется на дополнительный (emailaddress2) или альтернативный адрес электронной почты (emailaddress3) в записи контакта.

## <a name="enable-two-factor-authentication"></a>Включение двухфакторной проверки подлинности

Функция двухфакторной проверки подлинности повышает безопасность учетной записи пользователя путем запроса подтверждения владения подтвержденным адресом электронной почты помимо стандартного входа в локальную или внешнюю учетную запись. Пользователю, пытающемуся войти в учетную запись с включенной двухфакторной проверкой подлинности, отправляется код безопасности на подтвержденный адрес электронной почты, связанный с его учетной записью. Код безопасности должен быть отправлен для завершения процесса входа. Пользователь может выбрать, чтобы система запомнила браузер, который успешно прошел проверку, чтобы код безопасности не требовался для последующих входов из того же браузера. Каждая учетная запись пользователя включает эту функцию отдельно и требует подтвержденного адреса электронной почты.

> [!WARNING]
> При создании и включении параметра сайта **Authentication/Registration/MobilePhoneEnabled** с целью включить устаревшую функциональность возникает ошибка. Этот параметр сайта не представляется в готовом виде и не поддерживается порталами.

**Связанные параметры сайта:**

- `Authentication/Registration/TwoFactorEnabled`
- `Authentication/Registration/RememberBrowserEnabled`

**Связанный процесс:** отправка сообщения электронной почты с кодом двухфакторной проверки подлинности контакту

1. Включите двухфакторную проверку подлинности.
2. Выбор получения кода безопасности по электронной почте.
3. Дождитесь сообщения электронной почты, содержащее код безопасности.
4. Процесс: отправка контакту сообщения электронной почты с кодом двухфакторной проверки подлинности.
5. Двухфакторная проверка подлинности может быть отключена.

## <a name="manage-external-accounts"></a>Управление внешними учетными записями

Пользователь, прошедший проверку подлинности может подключить (зарегистрировать) несколько внешних удостоверений к своей учетной записи, по одному для каждого настроенного поставщика удостоверений. После подключения удостоверений пользователь может выбрать вход с использованием любого из подключенных удостоверений. Существующие удостоверения можно также отключить, если остается хотя бы одно внешнее или локальное удостоверение.

**Связанные параметры сайта:**

- `Authentication/Registration/ExternalLoginEnabled`

**Параметры сайта внешнего поставщика удостоверений**

1.  Выберите поставщика для подключения к вашей учетной записи пользователя.

    ![Управление внешними учетными записями](../media/manage-external-accounts.png "Управление внешними учетными записями")  

2.  Выполните вход с использованием поставщика, к которому требуется подключиться.

Теперь поставщик подключен. Поставщика можно также отключить.

## <a name="enable-aspnet-identity-authentication"></a>Включение проверки подлинности ASP.NET identity

Ниже рассматриваются параметры для включения и отключения различных функций и поведения проверки подлинности.


|                        Имя настройки сайта                        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|-----------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|          Authentication/Registration/LocalLoginEnabled          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     Включает или отключает вход с локальной учетной записью, основанный на имени пользователя (или электронной почте) и пароле. Значение по умолчанию: false                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|          Authentication/Registration/LocalLoginByEmail          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               Включает или отключает вход по локальной учетной записи с использованием поля адреса электронной почты вместо поля имени пользователя. Значение по умолчанию: false                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|        Authentication/Registration/ExternalLoginEnabled         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  Включает или отключает вход и регистрацию внешней учетной записи. Значение по умолчанию: true                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|          Authentication/Registration/RememberMeEnabled          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Выбирает или сбрасывает флажок "Запомнить меня?" для локального входа, который позволяет сохранять сеансы проверки подлинности даже при закрытии веб-браузера. Значение по умолчанию: true                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|          Authentication/Registration/TwoFactorEnabled           |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        Включает или отключает для пользователей возможность включения двухфакторной проверки подлинности. Пользователи с подтвержденным адресом электронной почтой могут выбрать дополнительную безопасность двухфакторной проверки подлинности. Значение по умолчанию: false                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|       Authentication/Registration/RememberBrowserEnabled        |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Выбирает или сбрасывает флажок "Запомнить этот браузер?" при двухфакторной проверке (код по электронной почте), чтобы сохранить двухфакторную проверку подлинности для текущего браузера. Пользователю не потребуется проходить двухфакторную проверку при последующих входах, если используется этот же браузер. Значение по умолчанию: true                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|        Authentication/Registration/ResetPasswordEnabled         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Включает или отключает функцию сброса пароля. Значение по умолчанию: true                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Authentication/Registration/ResetPasswordRequiresConfirmedEmail |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               Включает или отключает сброс пароля только для подтвержденных адресов электронной почты. Если включено, неподтвержденные адреса электронной почты нельзя использовать для отправки инструкций по сбросу пароля. Значение по умолчанию: false                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|   Authentication/Registration/TriggerLockoutOnFailedPassword    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Включает или отключает запись неудачных попыток ввода пароля. Если отключено, учетные записи пользователей не блокируются. Значение по умолчанию: true.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|             Authentication/Registration/IsDemoMode              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Включает или отключает использование флага демонстрационного режима только в средах разработки или демонстрации. Не включайте эту настройку в производственных средах. Для режим демонстрации также является обязательным, чтобы веб-браузер был запущен локально на сервере веб-приложения. При включенном режиме демонстрации код сброса пароля и код двухфакторной проверки подлинности отображаются пользователю для быстрого доступа. Значение по умолчанию: false                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|    Authentication/Registration/LoginButtonAuthenticationType    | Если портал требует только одного внешнего поставщика удостоверений (для обработки всей проверки подлинности), это позволяет, чтобы кнопка **Войти** в панели навигации верхнего колонтитула была связано непосредственно со страницей входа этого внешнего поставщика удостоверений (вместо связывания с промежуточной формой локального входа и страницей выбора поставщика удостоверений). Только одного поставщика удостоверений можно выбрать для этого действия. Укажите значение [AuthenticationType](https://msdn.microsoft.com/library/microsoft.owin.security.authenticationoptions.authenticationtype.aspx) поставщика.<br>Для конфигурации единого входа с помощью OpenIdConnect, например Azure Active Directory B2C, пользователь должен предоставить право доступа.<br>Для поставщиков, основанных на OAuth2, допускаются следующие значения: `Facebook, Google, Yahoo, [!INCLUDE[cc-microsoft](../../../includes/cc-microsoft.md)], LinkedIn, Yammer,` или `Twitter`<br>Для поставщиков, основанных на WS-Federation, используйте значение, указанное для параметров сайта `Authentication/WsFederation/ADFS/AuthenticationType` и `Authentication/WsFederation/[!INCLUDE[pn-azure-shortest](../../../includes/pn-azure-shortest.md)]/\[provider\]/AuthenticationType`. Примеры: https://adfs.contoso.com/adfs/services/trust, Facebook-0123456789, Google, Yahoo!, uri:[!INCLUDE[pn-ms-windows-short](../../../includes/pn-ms-windows-short.md)]LiveID. |
|                                                                 |                                                                                                                                                                                                                                                                                                  |

## <a name="enable-or-disable-user-registration"></a>Включение или отключение регистрации пользователей

Ниже рассматриваются настройки для включения и отключения параметров регистрации пользователя.

| Имя настройки сайта                                   | Описание                                                                                                                                                                             |
|-----------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Authentication/Registration/Enabled                 | Включает или отключает все формы регистрации пользователя. Регистрация должна быть включена для других параметров в этом разделе, чтобы она вступила в силу. Значение по умолчанию: true                                   |
| Authentication/Registration/OpenRegistrationEnabled | Включает или отключает форму регистрации для создания новых локальных пользователей. Форма регистрации позволяет любому анонимному посетителю портала создать новую учетную запись пользователя. Значение по умолчанию: true |
| Authentication/Registration/InvitationEnabled       | Включает или отключает форму активирования кода приглашения для регистрации пользователей, которые обладают кодами приглашения. Значение по умолчанию: true                                                               |
|Authentication/Registration/CaptchaEnabled|Включение или отключение кода captcha на странице регистрации пользователей. Значение по умолчанию: false<br>**Примечание**. Эта настройка сайта может быть недоступна по умолчанию. Для включения функции captcha необходимо создать этот параметр сайта и задать для него значение true. |
||

> [!NOTE]
> Убедитесь, что для пользователя указан основной адрес электронной почты, поскольку регистрация выполняется с использованием основного адреса электронной почты (emailaddress1) пользователя. Пользователь не может быть зарегистрирован с использованием дополнительного (emailaddress2) или альтернативного адреса электронной почты (emailaddress3) в записи контакта.

## <a name="user-credential-validation"></a>Проверка учетных данных пользователя

Ниже рассматриваются параметры для настройки параметров проверки имени пользователя и пароля. Проверка выполняется, когда пользователи регистрируют новую локальную учетную запись или изменяют пароль.

| Имя настройки сайта                                                       | Описание                                                                                                                                                                                         |
|-------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Authentication/UserManager/PasswordValidator/EnforcePasswordPolicy      | Содержит ли пароль символы из трех категорий ниже:<br><ul><li>Заглавные буквы европейских языков (с A по Z, с диакритическими знаками, буквы греческого или кириллического алфавита)</li><li>Строчные буквы европейских языков (с a по z, эсцет, с диакритическими знаками, буквы греческого или кириллического алфавита)</li><li>Десять цифр (от 0 до 9)</li><li>Не алфавитно-буквенные символы (специальные символы, например !, $, \#, %)</li></ul>Значение по умолчанию: true. Для получения дополнительных сведений: [Политика паролей](https://technet.microsoft.com/library/hh994562(v=ws.10).aspx).                                                                                                           |  
| Authentication/UserManager/UserValidator/AllowOnlyAlphanumericUserNames | Разрешаются ли только буквы и цифры в имени пользователя. Значение по умолчанию: false. Дополнительные сведения: [UserValidator<TUser, TKey>.AllowOnlyAlphanumericUserNames](https://msdn.microsoft.com/library/dn613211.aspx).                                                          |  
| Authentication/UserManager/UserValidator/RequireUniqueEmail             | Требуется ли для проверки пользователя уникальный адрес электронной почты. Значение по умолчанию: true. Дополнительные сведения: [UserValidator<TUser, TKey>.RequireUniqueEmail](https://msdn.microsoft.com/library/dn613213.aspx).                                                                   |  
| Authentication/UserManager/PasswordValidator/RequiredLength             | Минимальная требуемая длина пароля. По умолчанию: 8. Дополнительные сведения: [PasswordValidator.RequiredLength](https://msdn.microsoft.com/library/microsoft.aspnet.identity.passwordvalidator.requiredlength.aspx).                                       |  
| Authentication/UserManager/PasswordValidator/RequireNonLetterOrDigit    | Требуется ли в пароле символ, отличный от буквы или цифры. Значение по умолчанию: false. Дополнительные сведения: [PasswordValidator.RequireNonLetterOrDigit](https://msdn.microsoft.com/library/microsoft.aspnet.identity.passwordvalidator.requirenonletterordigit.aspx). |  
| Authentication/UserManager/PasswordValidator/RequireDigit               | Требуется ли в пароле цифра (от 0 до 9). Значение по умолчанию: false. Дополнительные сведения: [PasswordValidator.RequireDigit](https://msdn.microsoft.com/library/microsoft.aspnet.identity.passwordvalidator.requiredigit.aspx).                |  
| Authentication/UserManager/PasswordValidator/RequireLowercase           | Требуется ли в пароле буква в нижнем регистре (от "a" до "z"). Значение по умолчанию: false. Дополнительные сведения: [PasswordValidator.RequireLowercase](https://msdn.microsoft.com/library/microsoft.aspnet.identity.passwordvalidator.requirelowercase.aspx).        |  
| Authentication/UserManager/PasswordValidator/RequireUppercase           | Требуется ли в пароле буква в верхнем регистре (от "A" до "Z"). Значение по умолчанию: false. Дополнительные сведения: [PasswordValidator.RequireUppercase](https://msdn.microsoft.com/library/microsoft.aspnet.identity.passwordvalidator.requireuppercase.aspx).       | 
|| 

## <a name="user-account-lockout-settings"></a>Параметры блокировки учетной записи пользователя

Ниже рассматриваются параметры, определяющие, как и когда учетная запись блокируется в системе проверки подлинности. Если определенное число неудачных попыток ввода пароля обнаружено в течение короткого периода времени, учетная запись пользователя блокируется на некоторый период времени. Пользователь может повторить попытку после завершения периода блокировки.

| Имя настройки сайта                                               | Описание                                                                                                                                                                                                                                     |
|-----------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Authentication/UserManager/UserLockoutEnabledByDefault          | Указывает, включена ли блокировка пользователя при создании пользователей. Значение по умолчанию: true. Дополнительные сведения: [UserManager<TUser, TKey>.UserLockoutEnabledByDefault](https://msdn.microsoft.com/library/dn613214.aspx).                                                                                                  |  
| Authentication/UserManager/DefaultAccountLockoutTimeSpan        | Период по умолчанию, на который пользователь блокируется после достижения Authentication/UserManager/MaxFailedAccessAttemptsBeforeLockout. По умолчанию: 24:00:00 (1 сутки). Дополнительные сведения: [UserManager<TUser, TKey>.DefaultAccountLockoutTimeSpan](https://msdn.microsoft.com/library/dn613201.aspx).                 |  
| Authentication/UserManager/MaxFailedAccessAttemptsBeforeLockout | Максимальное количество разрешенных попыток доступа, прежде чем пользователь блокируется (если блокировка разрешена). По умолчанию: 5. Дополнительные сведения: [UserManager<TUser, TKey>.MaxFailedAccessAttemptsBeforeLockout](https://msdn.microsoft.com/library/dn613202.aspx).                                                                        |  
| Authentication/ApplicationCookie/ExpireTimeSpan                 | Количество времени по умолчанию, в течение которого действуют сессии проверки подлинности cookie. По умолчанию: 24:00:00 (1 сутки). Дополнительные сведения: [CookieAuthenticationOptions.ExpireTimeSpan](https://msdn.microsoft.com/library/microsoft.owin.security.cookies.cookieauthenticationoptions.expiretimespan(v=vs.113).aspx). |
||  

## <a name="cookie-authentication-site-settings"></a>Параметры сайта проверки подлинности файлов cookie

Параметры для изменения поведения по умолчанию файлов cookie проверки подлинности. Определено классом [CookieAuthenticationOptions](https://msdn.microsoft.com/library/microsoft.owin.security.cookies.cookieauthenticationoptions.aspx).

| Имя настройки сайта   | Описание       |
|----------------------|------------------------------------------------|
| Authentication/ApplicationCookie/AuthenticationType                      | Тип файла cookie проверки подлинности приложения. По умолчанию: ApplicationCookie. Дополнительные сведения: [AuthenticationOptions::AuthenticationType](https://msdn.microsoft.com/library/dn300391.aspx).  |
| Authentication/ApplicationCookie/CookieName                              | Указывает имя файла cookie, которое используется для сохранения удостоверения. По умолчанию: .AspNet.Cookies. Дополнительные сведения: [CookieAuthenticationOptions::CookieName](https://msdn.microsoft.com/library/dn385537.aspx).  |
| Authentication/ApplicationCookie/CookieDomain                            | Определяет домен, используемый для создания файла cookie. Дополнительные сведения: [CookieAuthenticationOptions::CookieDomain](https://msdn.microsoft.com/library/dn385536.aspx).  |
| Authentication/ApplicationCookie/CookiePath                              | Определяет путь, используемый для создания файла cookie. По умолчанию: /. Дополнительные сведения: [CookieAuthenticationOptions::CookiePath](https://msdn.microsoft.com/library/dn385539.aspx). |
| Authentication/ApplicationCookie/CookieHttpOnly                          | Определяет, должен ли браузер разрешать доступ к файлу cookie для кода JavaScript на стороне клиента. Значение по умолчанию: true. Дополнительные сведения: [CookieAuthenticationOptions::CookieHttpOnly](https://msdn.microsoft.com/library/dn385540.aspx).                     |
| Authentication/ApplicationCookie/CookieSecure                            | Определяет, должен ли файл cookie передаваться только по запросу HTTPS. По умолчанию: SameAsRequest. Дополнительные сведения: [CookieAuthenticationOptions::CookieSecure](https://msdn.microsoft.com/library/dn385538.aspx).  |
| Authentication/ApplicationCookie/ExpireTimeSpan                          | Определяет, сколько времени файл cookie приложения будет оставаться допустимым с момента его создания. По умолчанию: 14 дней. Дополнительные сведения: [CookieAuthenticationOptions::ExpireTimeSpan](https://msdn.microsoft.com/library/microsoft.owin.security.cookies.cookieauthenticationoptions.expiretimespan(v=vs.113).aspx).  |
| Authentication/ApplicationCookie/SlidingExpiration                       | Для параметра SlidingExpiration устанавливается значение True, чтобы проинструктировать промежуточное программное обеспечение, чтобы повторно создавать новый файл cookie с новым временем окончания срока действия каждый раз, когда оно обрабатывает запрос, для которого истекло более половины окна окончания срока действия. Значение по умолчанию: true. Дополнительные сведения: [CookieAuthenticationOptions::SlidingExpiration](https://msdn.microsoft.com/library/dn385548.aspx). |
| Authentication/ApplicationCookie/LoginPath                               | Свойство LoginPath уведомляет промежуточное программное обеспечение, что оно должно изменять исходящий код состояния 401 Unauthorized status (Не авторизовано) на 302 Перенаправление на указанный путь входа. По умолчанию: ~/signin. Дополнительные сведения: [CookieAuthenticationOptions::LoginPath](https://msdn.microsoft.com/library/dn385541.aspx).                                            |
| Authentication/ApplicationCookie/LogoutPath                              | Если атрибут LogoutPath указан промежуточному программному обеспечению, затем запрос по этому пути будет перенаправлен на основе параметра ReturnUrlParameter. Дополнительные сведения: [CookieAuthenticationOptions::LogoutPath](https://msdn.microsoft.com/library/dn385545.aspx).               |
| Authentication/ApplicationCookie/ReturnUrlParameter                      | Параметр ReturnUrlParameter указывает имя параметра строки запроса, который добавляется промежуточным программным обеспечением при изменении кода 401 Не авторизовано на код 302 перенаправления на путь входа. Дополнительные сведения: [CookieAuthenticationOptions::ReturnUrlParameter](https://msdn.microsoft.com/library/dn385546.aspx).                           |
| Authentication/ApplicationCookie/SecurityStampValidator/ValidateInterval | Период времени между проверками отметки безопасности. По умолчанию: 30 минут. Дополнительные сведения: [SecurityStampValidator::OnValidateIdentity](https://msdn.microsoft.com/library/microsoft.aspnet.identity.owin.securitystampvalidator.onvalidateidentity.aspx).                    |
| Authentication/TwoFactorCookie/AuthenticationType                        | Тип файла cookie двухфакторной проверки подлинности. По умолчанию: TwoFactorCookie. Дополнительные сведения: [AuthenticationOptions::AuthenticationType](https://msdn.microsoft.com/library/dn300391.aspx).            |
| Authentication/TwoFactorCookie/ExpireTimeSpan                            | Определяет, сколько времени двухфакторный файл cookie будет оставаться допустимым с момента его создания. По умолчанию: 5 минут. Дополнительные сведения: [CookieAuthenticationOptions::ExpireTimeSpan](https://msdn.microsoft.com/library/dn385543.aspx).     |
|||

### <a name="see-also"></a>См. также

[Настройка проверки подлинности портала](configure-portal-authentication.md)  
[Параметры поставщика OAuth2 для порталов](configure-oauth2-settings.md)  
[Параметры поставщика Open ID Connect для порталов](configure-openid-settings.md)  
[Параметры поставщика WS-Federation для порталов](configure-ws-federation-settings.md)  
[Параметры поставщика SAML 2.0 для порталов](configure-saml2-settings.md)  
