---
title: Добавление диаграммы на веб-страницу портала | MicrosoftDocs
description: Инструкции по добавлению диаграммы, созданной в приложении на основе модели, на веб-страницу или в портал.
author: tapanm-msft
manager: kvivek
ms.service: powerapps
ms.topic: conceptual
ms.custom: ''
ms.date: 01/29/2020
ms.author: tapanm
ms.reviewer: ''
ms.openlocfilehash: 3d9a2ec3ef4e2589c51717629213dfe73d3418eb
ms.sourcegitcommit: 4349eefb1fd788f5e27d91319bc878ee9aba7a75
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/03/2020
ms.locfileid: "3012590"
---
# <a name="add-a-chart-created-in-a-model-driven-app-to-a-webpage-in-portal"></a>Добавление диаграммы, созданной в приложении на основе модели, на веб-страницу или в портал

Диаграмма добавляется на веб-страницу с помощью тега Liquid с названием [Chart](../liquid/portals-entity-tags.md#chart). Можно добавить тег Liquid "chart" в поле **Копировать** на веб-странице или в поле **Источник** на [веб-шаблоне](../liquid/store-content-web-templates.md).
 
Например: {% chart id:EE3C733D-5693-DE11-97D4-00155DA3B01E %}

![Пример диаграммы](../media/dynamics365-chart-example.png "Пример диаграммы")

Можно также указать идентификатор представления (сохраненный запрос) для фильтрации запроса. Например:

<!—Leads by Source – Open Leads -->

{% chart id:"EE3C733D-5693-DE11-97D4-00155DA3B01E" viewid:"00000000-0000-0000-00AA-000010001006" %}

## <a name="get-the-id-of-a-chart"></a>Получение идентификатора диаграммы

1.  Перейдите к целевой сущности, например **Продажи** > **Интересы**.
2.  Разверните область **Диаграммы**.
3.  Выберите необходимую диаграмму.
4.  Выберите **Дополнительные команды**, затем выберите **Экспорт диаграммы**.

    ![Экспорт диаграммы](../media/export-dynamics365-chart.png "Экспорт диаграммы")

5. Откройте XML-файл экспортированной диаграммы в текстовом редакторе.
6. Скопируйте значение тега \<visualizationid\>.

    ![Получение идентификатора диаграммы для диаграммы](../media/dynamics365-chart-chartid.png "Получение идентификатора диаграммы для диаграммы")

7. Вставьте значение visualizationid в объявление Liquid-тега "chart" для параметра идентификатора диаграммы, например:

    {% chart id:EE3C733D-5693-DE11-97D4-00155DA3B01E %}.

## <a name="get-the-id-of-a-view"></a>Получение идентификатора представления

Необходимо открыть редактор представления, чтобы получить идентификатор представления для использования с Liquid-тегом "chart".
 
1. Перейдите на сайт make.powerapps.com и выберите подходящую среду.
1. На левой панели навигации выберите "Данные" > "Сущности".
1. Выберите соответствующую сущность и перейдите на вкладку "Представления".
1. Вы увидите список представлений. Перейдите к параметрам (...) и выберите "Изменить представление".
1. Скопируйте значение идентификатора из адресной строки окна "Представления".

    ![Просмотр идентификатора формы](../media/dynamics365-chart-viewid.png)

1. Вставьте этот идентификатор в объявление Liquid-тега "chart" для параметра "viewid", например:

    ```
    <!—Leads by Source – Open Leads -->
    {% chart id:"EE3C733D-5693-DE11-97D4-00155DA3B01E" viewid:"00000000-0000-0000-00AA-000010001004" %}
    ```

## <a name="entity-permission-requirement"></a>Требование разрешения сущности

Проверяется привилегия чтения для целевого объекта, который запрашивается в диаграмме. Чтобы анонимные пользователи или пользователи, прошедшие проверку подлинности, получили возможность просматривать диаграмму, необходимо убедиться, что соответствующие записи [Разрешение сущности](assign-entity-permissions.md) созданы и назначены нужным [веб-ролям](create-web-roles.md). 
 
Если разрешение не предоставлено, пользователь получает сообщение "доступ запрещен".

## <a name="unsupported-charts-and-chart-types"></a>Неподдерживаемые диаграммы и типы диаграмм

Следующие типы диаграмм в настоящее время не поддерживается на порталах:
- Кольцевая
- Тег

В следующей таблице перечислены диаграммы, которые в настоящее время не поддерживается на порталах.

| Название диаграммы                              | Идентификатор диаграммы                             | Тип объекта      |
|-----------------------------------------|--------------------------------------|------------------|
| Организации по владельцу — теговая диаграмма           | be178262-6142-4b41-85b7-4ccedc62cfd9 | account          |
| Действия по ответственному - теговая диаграмма         | c83b331e-87c7-488c-b8e7-89a6098ea102 | activitypointer  |
| Действия по приоритету - кольцевая диаграмма | d3f6c1eb-2e4b-428b-8949-682a311ae057 | activitypointer  |
| Контакты по организации                     | 2ff3ebea-6310-4dde-b3a1-e1144ea42b7b | contact          |
| Контакты по стране                     | ea89e2ad-2602-4333-8724-aa5775d66b77 | contact          |
| Контакты по предпочтительному способу связи    | 751b7456-308e-4568-a3a9-47135aae833a | contact          |
| Выполнение цели (количество)                   | a93b8f7b-9c68-df11-ae90-00155d2e3002 | goal             |
| Выполнение цели (деньги)                   | aec6d51c-ea67-df11-ae90-00155d2e3002 | goal             |
| Сравнение целевых и фактических значений (количество)      | 1b697c8e-9a6f-df11-986c-00155d2e3002 | goal             |
| Сравнение целевых и фактических значений (деньги)      | 1e697c8e-9a6f-df11-986c-00155d2e3002 | goal             |
| Обращения по организации                        | 38872e4f-ac99-e511-80da-00155dc1b253 | инцидент         |
| Обращения по приоритету                       | 0f0fb995-9d6f-453c-b26d-8f443e42e676 | инцидент         |
| Обращения по продукту                        | 17c3f166-5b22-4476-819b-b05da2e8d24f | инцидент         |
| Статьи со сроком действия, истекающим в этом месяце, по владельцу   | 47d696ad-7c3b-e511-80d1-00155db10d2b | knowledgearticle |
| По владельцу                                | 330068fd-833b-e511-80d1-00155db10d2b | knowledgearticle |
| По теме                              | bcd3f9a5-913b-e511-80d1-00155db10d2b | knowledgearticle | 
| | |
