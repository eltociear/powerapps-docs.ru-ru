---
title: Настройка примечаний на формах сущностей и веб-формах для портала | MicrosoftDocs
description: Инструкции для добавления и настройки примечаний на формах сущностей и веб-формах для портала.
author: tapanm-msft
manager: kvivek
ms.service: powerapps
ms.topic: conceptual
ms.custom: ''
ms.date: 03/24/2020
ms.author: tapanm
ms.reviewer: ''
ms.openlocfilehash: 11bd758bae85e8af91dc8c821d9a7083755e30b5
ms.sourcegitcommit: ee95def32000accdb58a13492f0d0cec1770d98c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/25/2020
ms.locfileid: "3165551"
---
# <a name="configure-notes-for-entity-forms-and-web-forms-on-portals"></a>Настройка примечаний для форм сущностей и веб-форм на порталах

Также как и в случае вложенных сеток, добавлять примечания к вашим управляемым формам на портале легко &mdash; просто добавьте элемент управления примечаниями в формы приложения на основе модели с помощью [конструктора форм](../model-driven-apps/create-design-forms.md), и все готово. Можно настроить поведение элемента управления примечаниями с помощью метаданных.

> [!Note]                                                           
> Явные [Разрешения сущности](configure/assign-entity-permissions.md) обязательны для всех примечаний, которые отображаются на портале. Для чтения и изменения должны быть предоставлены привилегии "Чтение" и "Запись". Для создания должны иметься два разрешения, разрешение с привилегиями "Создание" и "Добавление" должны быть предоставлены для сущности примечания (аннотации), второе разрешение должно быть назначено типу сущности, к которой прикрепляется примечание, с предоставленной привилегией "Добавить к". Флажок **Включить разрешения сущности** необходимо установить в форме соответствующей сущности или на шаге веб-формы, чтобы разрешения сущности вступили в силу.

## <a name="notes-configuration-for-entity-forms"></a>Конфигурация примечаний для форм сущностей

1. Откройте [Приложение управления порталом](configure/configure-portal.md).
2. Откройте **Порталы** > **Содержимое** > **Формы сущностей**. Отображается список активных форм сущностей.
3. Выберите форму сущности, к которой необходимо добавить конфигурацию примечаний.
4. Перейдите к пункту **Метаданные форм сущностей** с помощью верхнего раскрывающегося списка или вложенной сетки на основной форме записи формы сущности, с которой вы работаете.
5. Выберите **Добавить новые метаданные формы сущности**, чтобы добавить новую запись.
6. В раскрывающемся списке **Тип** выберите **Примечания**. Отображаются параметры, относящиеся к конфигурации примечаний. Большинство параметров по умолчанию свернуто. Можно развернуть раздел, чтобы просмотреть дополнительные параметры.
7. Заполните поля, введя соответствующие значения. [!include[](../../includes/proc-more-information.md)] [Атрибуты](#attributes), [Параметры диалога создания](#create-dialog-options), [Параметры диалога изменения](#edit-dialog-options) и [Параметры диалога удаления](#delete-dialog-options)
8. Сохранение формы.

    ![Добавление конфигурации примечаний для форм сущностей](media/add-note-configuration.png "Добавление конфигурации примечаний для форм сущностей")  

    После добавления конфигурации элемент управления "Примечание" будет отображаться с соответствующими параметрами, включенными на портале.

## <a name="attributes"></a>Атрибуты


| Имя                  | Описание                                                                                                                                                  |
|-----------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Основные параметры**    |                                                                                                                                                              |
| Создание разрешено        | Предоставляет возможность добавлять новые примечания к сущности.                                                                                                          |
| Параметры диалога создания | Содержит параметры для настройки диалогового окна, если параметр **Создание разрешено** имеет значение "истина". См. параметры создания диалога для получения дополнительных сведений.                                    |
| Изменение разрешено          | Предоставляет возможность изменять существующие примечания для сущности.                                                                                                    |
| Параметры диалога изменения   | Содержит параметры для настройки диалогового окна, если параметр **EditEnabled** имеет значение "истина". См. параметры изменения диалога для получения дополнительных сведений.                                         |
| Удаление разрешено        | Предоставляет возможность удалять примечания из сущности.                                                                                                         |
| Параметры диалога удаления | Содержит параметры для настройки диалогового окна, если параметр **DeleteEnabled** имеет значение "истина". См. параметры удаления диалога для получения дополнительных сведений.                                     |
|Расположение вложенных файлов | Выберите расположение вложения файла:<ul><li>Вложенное примечание</li><li>хранилище BLOB-объектов Azure</li></ul>|
|Принимать типы MIME | Позволяет определить список принятых типов MIME. |
|Ограничить типы MIME | Выберите, следует ли разрешить или ограничить типы MIME.|
|Максимальный размер файла (в килобайтах) |Позволяет определить максимальный размер файла, который можно вложить. |
| **Дополнительные параметры** |                                                                                                                                                              |
| Заголовок списка            | Переопределяет заголовок над областью примечаний.                                                                                                                     |
| Метка кнопки \"Добавить примечание\" | Переопределяет метку на кнопке добавления примечаний.                                                                                                                 |
| Метка \"Конфиденциальность примечания\"    | Переопределяет метку, обозначающую частное примечание.                                                                                                         |
| Загрузка сообщения       | Переопределяет сообщение, отображаемое во время загрузки списка примечаний.                                                                                              |
| Сообщение         | Переопределяет сообщение, выводимое при возникновении ошибки при попытке загрузить список примечаний.                                                                     |
| Сообщение об отказе в доступе | Переопределяет сообщение, выводимое, если у пользователя нет достаточных разрешений на просмотр списка примечаний.                                                    |
| Пустое сообщение         | Переопределяет сообщение, отображаемое, когда текущая сущность не имеет примечаний, которые можно просмотреть.                                                              |
| Порядок списка           | Позволяет задать порядок отображения примечаний. Параметр порядка списков позволяют указать следующее: <ul><li>Атрибут: логическое имя столбца, по которому требуется выполнить сортировку</li><li>Псевдоним: псевдоним атрибута в запросе</li><li>Направление: по возрастанию (от меньшего к большему или от первого к последнему) или по убыванию (от большего к меньшему или от последнего к первому).</li></ul>  ![Задание атрибутов для порядков списка](media/set-attributes-list-orders.png "Задание атрибутов для порядков списков") Чтобы добавить правило сортировки, выберите "Столбец" (4) и задайте сведения. Порядки списка будут обрабатываться в порядке с начала списка, имеющего самый высокий приоритет.|
||


## <a name="create-dialog-options"></a>Параметры диалога создания

| Имя                               | Описание                                                                                                                                 |
|------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------|
| **Основные параметры**                 |                                                                                                                                             |
| Показать поле параметров конфиденциальности      | Включает флажок в диалоговом окне добавления примечания, который позволяет пользователю пометить примечание как частное.                                                   |
| Значение по умолчанию поля параметров конфиденциальности | Указывает значение по умолчанию для флажка "Показать поле параметров конфиденциальности". Значение по умолчанию этого поля — "ложь".                     |
| Показать файл вложения                | Включает поле отправки файла в диалоговом окне добавления примечания, что позволяет пользователям вкладывать файлы в примечание.                                             |
| Вложить файл — принять                 | Тип MIME, принимаемый входными данными отправки файла.                                                                                            |
| **Дополнительные параметры**              |                                                                                                                                             |
| Метка поля \"Примечание\"                   | Переопределяет метку для поля примечания в диалоговом окне добавления примечания.                                                                              |
| Столбцы поля \"Примечание\"                 | Задает значение столбцов в &lt;textarea&gt; примечания                                                                                            |
| Строки поля \"Примечание\"                    | Задает значение строк в &lt;textarea&gt; примечания                                                                                            |
| Метка поля параметров конфиденциальности         | Переопределяет метку для поля параметров конфиденциальности (если включено).                                                                              |
| Вложить файл — метка                  | Переопределяет метку для поля вложения файла (если включено)                                                                                  |
| Класс CSS левого столбца              | Добавляет класс или классы CSS в левый столбец, содержащий метки в диалоговом окне добавления примечания.                                                  |
| Класс CSS правого столбца             | Добавляет класс или классы CSS в правый столбец, содержащий входные данные полей в диалоговом окне добавления примечания.                                           |
| Заголовок                              | Переопределяет текст HTML в заголовке диалоговом окне добавления примечания.                                                                               |
| Текст основной кнопки                | Переопределяет HTML, который отображается на основной кнопке (Добавить примечание) в диалоговом окне.                                                           |
| Текст средства чтения с экрана кнопки "Закрыть"             | Переопределяет текст средства чтения с экрана, связанный с кнопкой "Закрыть" диалогового окна.                                                               |
| Текст кнопки \"Закрыть\"                  | Переопределяет код HTML, который отображается на кнопке закрытия (Отмена) в диалоговом окне.                                                               |
| Размер                               | Определяет размер диалогового окна добавления примечания. Варианты — по умолчанию, большой и небольшой. Для диалогового окна добавления примечания размер по умолчанию — "По умолчанию". |
| Класс CSS                          | Укажите класс или классы CSS, которые будут применяться к получающемуся диалоговому окну.                                                                |
| Класс CSS заголовка                    | Укажите класс или классы CSS, которые будут применяться к строке заголовка получающегося диалогового окна.                                                    |
| Класс CSS основной кнопки           | Укажите класс или классы CSS, которые будут применяться к основной кнопке (Добавить примечание) диалогового окна.                                            |
| Класс CSS кнопки "Закрыть"             | Укажите класс или классы CSS, которые будут применяться к кнопке закрытия (Отмена) диалогового окна.                                                |
|||

## <a name="edit-dialog-options"></a>Параметры диалога изменения

| Имя                               | Описание                                                                                                                                   |
|------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------|
| **Основные параметры**                 |                                                                                                                                               |
| Показать поле параметров конфиденциальности      | Включает флажок в диалоговом окне изменения примечания, который позволяет пользователю пометить примечание как частное.  |
| Значение по умолчанию поля параметров конфиденциальности | Указывает значение по умолчанию для флажка "Показать поле параметров конфиденциальности". Значение по умолчанию этого поля — "ложь".   |
| Показать файл вложения                | Включает поле отправки файла в диалоговом окне изменения примечания, что позволяет пользователям вкладывать файлы в примечание.                      |
| Вложить файл — принять                 | Тип MIME, принимаемый входными данными отправки файла. |
| **Дополнительные параметры**              |                                                                                              |
| Метка поля \"Примечание\"                   | Переопределяет метку для поля примечания в диалоговом окне изменения примечания.|
| Столбцы поля \"Примечание\"                 | Задает значение столбцов в &lt;textarea&gt; примечания                                                                                             |
| Строки поля \"Примечание\"                    | Задает значение строк в &lt;textarea&gt; примечания                                                                                             |
| Метка поля параметров конфиденциальности         | Переопределяет метку для поля параметров конфиденциальности (если включено).                                                                                
| Вложить файл — метка                  | Переопределяет метку для поля вложения файла (если включено)                                                                                   |
| Класс CSS левого столбца              | Добавляет класс или классы CSS в левый столбец, содержащий метки в диалоговом окне изменения примечания.                                                  |
| Класс CSS правого столбца             | Добавляет класс или классы CSS в правый столбец, содержащий входные данные полей в диалоговом окне изменения примечания.                                           |
| Заголовок                              | Переопределяет текст HTML в заголовке диалогового окна изменения примечания.                                                                               |
| Текст основной кнопки                | Переопределяет HTML, который отображается на основной кнопке (Обновить примечание) в диалоговом окне.                                                         |
| Текст средства чтения с экрана кнопки "Закрыть"             | Переопределяет текст средства чтения с экрана, связанный с кнопкой "Закрыть" диалогового окна.                                                                |
| Текст кнопки \"Закрыть\"                  | Переопределяет код HTML, который отображается на кнопке закрытия (Отмена) в диалоговом окне.                                                                |
| Размер                               | Определяет размер диалогового окна изменения примечания. Варианты — по умолчанию, большой и небольшой. Для диалогового окна изменения примечания размер по умолчанию — "По умолчанию".|
| Класс CSS                          | Укажите класс или классы CSS, которые будут применяться к получающемуся диалоговому окну.                                                                 |
| Класс CSS заголовка                    | Укажите класс или классы CSS, которые будут применяться к строке заголовка получающегося диалога.                                                     |
| Класс CSS основной кнопки           | Укажите класс или классы CSS, которые будут применяться к основной кнопке (Обновить примечание) диалогового окна.                                          |
| Класс CSS кнопки "Закрыть"             | Укажите класс или классы CSS, которые будут применяться к кнопке закрытия (Отмена) диалогового окна.                                                 |
|||

## <a name="delete-dialog-options"></a>Параметры диалога удаления

| Имя                     | Описание                                                                                                                                       |
|--------------------------|------------------------------|
| **Основные параметры**       |                                                                                                                                                   |
| Подтверждение             | Переопределение сообщения подтверждения для удаления примечания.                                                                                             |
| **Дополнительные параметры**    |                                                                                                                                                   |
| Заголовок                    | Переопределяет текст HTML в заголовке диалогового окна удаления примечания.                                                                                  |
| Текст основной кнопки      | Переопределяет код HTML, который отображается на основной кнопке (Удалить) в диалоговом окне.                                                                   |
| Текст средства чтения с экрана кнопки "Закрыть"   | Переопределяет текст средства чтения с экрана, связанный с кнопкой "Закрыть" диалогового окна.                                                                     |
| Текст кнопки \"Закрыть\"        | Переопределяет код HTML, который отображается на кнопке закрытия (Отмена) в диалоговом окне.                                                                     |
| Размер                     | Определяет размер диалогового окна удаления примечания. Варианты — по умолчанию, большой и небольшой. Для диалогового окна удаления примечания размер по умолчанию — "По умолчанию". |
| Класс CSS                | Укажите класс или классы CSS, которые будут применяться к получающемуся диалоговому окну.                                                                      |
| Класс CSS заголовка          | Укажите класс или классы CSS, которые будут применяться к строке заголовка получающегося диалогового окна.                                                          |
| Класс CSS основной кнопки | Укажите класс или классы CSS, которые будут применяться к основной кнопке (Удалить) диалогового окна.                                                    |
| Класс CSS кнопки "Закрыть"   | Укажите класс или классы CSS, которые будут применяться к кнопке закрытия (Отмена) диалогового окна.                                                      |
|||

### <a name="assign-entity-permissions"></a>Назначение разрешений сущности

Необходимо создать и назначить соответствующее разрешение сущности для записей, как указано ниже; в противном случае кнопки **Добавить**, **Изменить** и **Удалить** для примечаний будут скрыты:

- Привилегии чтения, записи, создания, добавления и добавления к для сущности **Действие (activitypointer)** с областью действия **Глобальный**. Это разрешение сущности необходимо связать с веб-ролью для пользователя.
- Привилегии чтения, записи, создания, добавления и добавления к для сущности, в которой включен элемент управления "Примечание". Область действия должна быть установлена **Глобальный**. Это разрешение сущности необходимо связать с веб-ролью для пользователя.

    ![Добавление разрешений сущностей](media/entity-permission.png "Добавление разрешений сущностей")

    ![Добавление веб-ролей к разрешению сущности](media/entity-permission-web-roles.png "Добавление веб-ролей к разрешению сущности")

Если вы создали настраиваемую форму и добавили раздел примечаний в него, обязательно выберите **Примечания** как вкладку по умолчанию, которая должна быть видимой.

![Примечания в настраиваемой форме](media/notes-activities-tab.png "Примечания в настраиваемой форме")

## <a name="notes-configuration-for-web-forms"></a>Конфигурация примечаний для веб-форм

Примечания веб-форм настраиваются аналогично [примечаниям формы сущности](#notes-configuration-for-entity-forms). Сначала необходимо создать запись метаданных для шага веб-формы, которая имеет примечания, затем добавьте метаданные конфигурации примечаний.

> [!NOTE]
> Описание примечаний должно начинаться с префикса **\*WEB\*** (*ключевое слово "WEB" со звездочкой (\*) до и после него*) для отображения на портале.
