---
title: Настройка примечаний в формах сущностей и веб-формах для портала | MicrosoftDocs
description: Инструкции по добавлению и настройке примечаний к формам сущностей и веб-формам на портале.
author: sbmjais
manager: shujoshi
ms.service: powerapps
ms.topic: conceptual
ms.custom: ''
ms.date: 10/07/2019
ms.author: shjais
ms.reviewer: ''
ms.openlocfilehash: 59ed66842874414737b7bdc04f0f4dfa51d212c8
ms.sourcegitcommit: d9cecdd5a35279d78aa1b6c9fc642e36a4e4612c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/04/2019
ms.locfileid: "73542850"
---
# <a name="configure-notes-for-entity-forms-and-web-forms-on-portals"></a>Настройка примечаний для форм сущностей и веб-форм на порталах

Как и в случае с вложенными сетками, Добавление примечаний к управляемым формам на портале несложно&mdash;просто добавить элемент управления "Заметки" к формам приложения-устройства модели с помощью [конструктора форм](../model-driven-apps/create-design-forms.md) , и все готово. Поведение элемента управления Notes можно настроить с помощью метаданных.

> [!Note]                                                           
> Для отображения примечаний на портале требуются явные [разрешения на сущность](configure/assign-entity-permissions.md) . Для операций чтения и редактирования необходимо предоставить права на чтение и запись. Для создания необходимо иметь два разрешения: разрешение с привилегиями на создание и добавление для сущности заметки (заметки) должно быть назначено типу сущности, к которому прикрепляется Примечание с дополнением к предоставленным привилегиям. Чтобы разрешения сущности вступили в силу, необходимо установить флажок **Включить разрешения для сущности** на соответствующей форме сущности или на шаге веб-формы.

## <a name="notes-configuration-for-entity-forms"></a>Настройка заметок для форм сущностей

1. Откройте [приложение управления портала](configure/configure-portal.md).
2. Перейдите на **порталы** > **содержимое** > **Entity Forms**. Отобразится список активных форм сущностей.
3. Выберите форму сущности, для которой необходимо добавить конфигурацию заметок.
4. Перейдите к **метаданным формы сущности** либо с помощью верхнего раскрывающегося списка, либо из вложенной сетки в основной форме записи сущности, с которой вы работаете.
5. Выберите **Добавить новые метаданные формы сущности** , чтобы добавить новую запись.
6. В раскрывающемся списке **тип** выберите **Примечания**. Отобразятся настройки заметок,&ndash;конкретные параметры. Большинство параметров по умолчанию свернуты. Вы можете развернуть раздел, чтобы просмотреть дополнительные параметры.
7. Заполните поля, введя соответствующие значения. [!include[](../../includes/proc-more-information.md)] [атрибуты](#attributes), [Создание параметров диалогового окна](#create-dialog-options), [изменение параметров диалогового](#edit-dialog-options)окна и [Удаление параметров диалогового](#delete-dialog-options) окна
8. Сохранить форму.

    ![Добавление конфигурации заметок для форм сущностей](media/add-note-configuration.png "Добавление конфигурации заметок для форм сущностей")  

    После добавления конфигурации элемент управления "Примечание" будет отображен с помощью соответствующих параметров, включенных на портале.

## <a name="attributes"></a>Атрибуты


| Имя                  | Description                                                                                                                                                  |
|-----------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Основные параметры**    |                                                                                                                                                              |
| Создание включено        | Позволяет добавлять новые заметки в сущность.                                                                                                          |
| Создание параметров диалогового окна | Содержит параметры для настройки диалогового окна, если для параметра **создать включено** задано значение true. Дополнительные сведения см. в разделе Создание параметров диалогового окна.                                    |
| Редактирование включено          | Позволяет изменять существующие заметки сущности.                                                                                                    |
| Изменение параметров диалогового окна   | Содержит параметры для настройки диалогового окна, если **едитенаблед** имеет значение true. Дополнительные сведения см. в разделе Изменение параметров диалогового окна.                                         |
| Удаление включено        | Позволяет удалять заметки из сущности.                                                                                                         |
| Параметры диалогового окна удаления | Содержит параметры для настройки диалогового окна, если **делетинаблед** имеет значение true. Дополнительные сведения см. в разделе Удаление параметров диалогового окна.                                     |
|Расположение вложенного файла | Выберите расположение вложенного файла:<ul><li>Примечание. вложение</li><li>Хранилище BLOB-объектов Azure</li></ul>|
|Принимать типы MIME | Позволяет указать список допустимых типов MIME. |
|Ограничить типы MIME | Укажите, следует ли разрешить или запретить типы MIME.|
|Максимальный размер файла (КБ) |Позволяет указать максимальный размер файла, который можно присоединить. |
| **Дополнительные параметры** |                                                                                                                                                              |
| Заголовок списка            | Переопределяет заголовок для области заметок.                                                                                                                     |
| Добавить метку для кнопки заметки | Переопределяет метку на кнопке Добавить заметки.                                                                                                                 |
| Примечание о конфиденциальности    | Переопределяет метку, чтобы заметка была закрытой.                                                                                                         |
| Идет загрузка сообщения       | Переопределяет сообщение, отображаемое во время загрузки списка заметок.                                                                                              |
| Сообщение об ошибке         | Переопределяет сообщение, отображаемое при возникновении ошибки при попытке загрузить список заметок.                                                                     |
| Сообщение об отказе в доступе | Переопределяет сообщение, отображаемое, когда у пользователя недостаточно разрешений для просмотра списка заметок.                                                    |
| Пустое сообщение         | Переопределяет сообщение, отображаемое, если у текущей сущности нет заметок, которые можно просмотреть.                                                              |
| Список заказов           | Позволяет задать порядок, в котором будут отображаться заметки. Параметр список заказов позволяет задать следующие параметры: <ul><li>Attribute: логическое имя столбца, по которому необходимо выполнить сортировку.</li><li>Alias: псевдоним для атрибута в запросе.</li><li>Направление: по возрастанию (от наименьшего до самого крупного или первого до последнего) или по убыванию (от большего к меньшему или по крайней мере до первого).</li></ul> ![Задание атрибутов для заказов в списке](media/set-attributes-list-orders.png "Sатрибуты et для заказов списка ") Чтобы добавить правило сортировки, выберите "столбец" (4) и введите сведения. Заказы списка будут обрабатываться по порядку в верхней части списка с наивысшим приоритетом.|
||


## <a name="create-dialog-options"></a>Создание параметров диалогового окна

| Имя                               | Description                                                                                                                                 |
|------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------|
| **Основные параметры**                 |                                                                                                                                             |
| Отображение поля параметров конфиденциальности      | Включает флажок в диалоговом окне "Добавление заметки", позволяющей пользователю пометить заметку как частную.                                                   |
| Значение поля параметра конфиденциальности по умолчанию | Задает значение по умолчанию для поля "Отображать параметры конфиденциальности". Значением по умолчанию для этого поля является false.                     |
| Отобразить файл вложения                | Включает поле отправки файла в диалоговом окне "Добавление заметки", позволяя пользователю вложить файл в заметку.                                             |
| Присоединить файл Accept                 | Тип MIME, принимаемый входными данными передачи файла.                                                                                            |
| **Дополнительные параметры**              |                                                                                                                                             |
| Метка поля примечания                   | Переопределяет метку для поля примечания в диалоговом окне "Добавление заметки".                                                                              |
| Столбцы полей примечаний                 | Задает значение Колс в тексте заметки &lt;textarea&gt;                                                                                            |
| Строки полей примечаний                    | Задает значение строк в тексте заметки &lt;textarea&gt;                                                                                            |
| Метка поля "параметр конфиденциальности"         | Переопределяет метку для поля параметра конфиденциальности (если включено).                                                                              |
| Добавить метку файла                  | Переопределяет метку для поля присоединения файла (если включено)                                                                                  |
| Класс CSS левого столбца              | Добавляет класс или классы CSS в крайний левый столбец, содержащий метки в диалоговом окне Добавление примечания.                                                  |
| Класс CSS правого столбца             | Добавляет класс или классы CSS в крайний правый столбец, содержащий входные данные поля в диалоговом окне Добавление примечания.                                           |
| Title                              | Переопределяет текст HTML в заголовке диалогового окна "Добавить заметку".                                                                               |
| Текст основной кнопки                | Переопределяет HTML-код, отображаемый в основной кнопке (добавить примечание) в диалоговом окне.                                                           |
| Кнопка "Закрыть" текст SR             | Переопределяет текст средства чтения с экрана, связанный с кнопкой закрытия диалогового окна.                                                               |
| Закрыть текст кнопки                  | Переопределяет HTML-код, отображаемый в кнопке Закрыть (Отмена) в диалоговом окне.                                                               |
| Размер                               | Задает размер диалогового окна «Добавление заметки». Параметры по умолчанию, Large и малый. Для диалогового окна Добавить заметку размер по умолчанию — Default. |
| Класс CSS                          | Укажите класс CSS или классы, которые будут применены к результирующему диалоговому окну.                                                                |
| Класс CSS Title                    | Укажите класс CSS или классы, которые будут применяться к строке заголовка результирующего диалогового окна.                                                    |
| Класс CSS первичной кнопки           | Укажите класс CSS или классы, которые будут применены к основной кнопке (добавить примечание) диалогового окна.                                            |
| Класс CSS кнопки закрытия             | Укажите класс CSS или классы, которые будут применены к кнопке Закрыть (Отмена) диалогового окна.                                                |
|||

## <a name="edit-dialog-options"></a>Изменение параметров диалогового окна

| Имя                               | Description                                                                                                                                   |
|------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------|
| **Основные параметры**                 |                                                                                                                                               |
| Отображение поля параметров конфиденциальности      | Включает флажок в диалоговом окне Изменение заметки, позволяющей пользователю пометить заметку как частную.  |
| Значение поля параметра конфиденциальности по умолчанию | Задает значение по умолчанию для поля "Отображать параметры конфиденциальности". Значением по умолчанию для этого поля является false.   |
| Отобразить файл вложения                | Включает поле отправки файла в диалоговом окне Изменение заметки, позволяя пользователю прикреплять файл к заметке.                      |
| Присоединить файл Accept                 | Тип MIME, принимаемый входными данными передачи файла. |
| **Дополнительные параметры**              |                                                                                              |
| Метка поля примечания                   | Переопределяет метку для поля "Примечание" в диалоговом окне "изменение заметки".|
| Столбцы полей примечаний                 | Задает значение Колс в тексте заметки &lt;textarea&gt;                                                                                             |
| Строки полей примечаний                    | Задает значение строк в тексте заметки &lt;textarea&gt;                                                                                             |
| Метка поля "параметр конфиденциальности"         | Переопределяет метку для поля параметра конфиденциальности (если включено).                                                                                
| Добавить метку файла                  | Переопределяет метку для поля присоединения файла (если включено)                                                                                   |
| Класс CSS левого столбца              | Добавляет класс или классы CSS в крайний левый столбец, содержащий метки в диалоговом окне Изменение примечания.                                                  |
| Класс CSS правого столбца             | Добавляет класс или классы CSS в крайний правый столбец, содержащий входные данные поля в диалоговом окне Изменение примечания.                                           |
| Title                              | Переопределяет текст HTML в заголовке диалогового окна "изменение заметки".                                                                               |
| Текст основной кнопки                | Переопределяет HTML-код, отображаемый в основной кнопке (обновление заметки) в диалоговом окне.                                                         |
| Кнопка "Закрыть" текст SR             | Переопределяет текст средства чтения с экрана, связанный с кнопкой закрытия диалогового окна.                                                                |
| Закрыть текст кнопки                  | Переопределяет HTML-код, отображаемый в кнопке Закрыть (Отмена) в диалоговом окне.                                                                |
| Размер                               | Задает размер диалогового окна «Изменение заметки». Параметры по умолчанию, Large и малый. Для диалогового окна Изменение заметки по умолчанию используется размер по умолчанию.|
| Класс CSS                          | Укажите класс CSS или классы, которые будут применены к результирующему диалоговому окну.                                                                 |
| Класс CSS Title                    | Укажите класс CSS или классы, которые будут применены к заголовку окна результирующего диалога.                                                     |
| Класс CSS первичной кнопки           | Укажите класс CSS или классы, которые будут применяться к основной кнопке (обновление заметки) диалогового окна.                                          |
| Класс CSS кнопки закрытия             | Укажите класс CSS или классы, которые будут применены к кнопке Закрыть (Отмена) диалогового окна.                                                 |
|||

## <a name="delete-dialog-options"></a>Параметры диалогового окна удаления

| Имя                     | Description                                                                                                                                       |
|--------------------------|------------------------------|
| **Основные параметры**       |                                                                                                                                                   |
| Операций             | Переопределите сообщение с подтверждением, чтобы удалить Примечание.                                                                                             |
| **Дополнительные параметры**    |                                                                                                                                                   |
| Title                    | Переопределяет текст HTML в заголовке диалогового окна «Удаление заметки».                                                                                  |
| Текст основной кнопки      | Переопределяет HTML-код, который отображается в основной кнопке (удалить) в диалоговом окне.                                                                   |
| Кнопка "Закрыть" текст SR   | Переопределяет текст средства чтения с экрана, связанный с кнопкой закрытия диалогового окна.                                                                     |
| Закрыть текст кнопки        | Переопределяет HTML-код, отображаемый в кнопке Закрыть (Отмена) в диалоговом окне.                                                                     |
| Размер                     | Указывает размер диалогового окна «Удаление заметки». Параметры по умолчанию, Large и малый. Для диалогового окна «Удаление заметки» размер по умолчанию — Default. |
| Класс CSS                | Укажите класс CSS или классы, которые будут применены к результирующему диалоговому окну.                                                                      |
| Класс CSS Title          | Укажите класс CSS или классы, которые будут применяться к строке заголовка результирующего диалогового окна.                                                          |
| Класс CSS первичной кнопки | Укажите класс CSS или классы, которые будут применены к основной кнопке (удалить) диалогового окна.                                                    |
| Класс CSS кнопки закрытия   | Укажите класс CSS или классы, которые будут применены к кнопке Закрыть (Отмена) диалогового окна.                                                      |
|||

### <a name="assign-entity-permissions"></a>Назначение разрешений сущности

Необходимо создать и назначить соответствующее разрешение сущности для записей следующим образом, в противном случае кнопки **Добавить**, **изменить**и **Удалить** для примечания будут скрыты.

- Чтение, запись, создание, Добавление и Добавление разрешений для сущности **Activity (активитипоинтер)** с областью **Global**. Это разрешение сущности должно быть связано с веб-ролью пользователя.
- Чтение, запись, создание, Добавление и Добавление разрешений для сущности, в которой включен элемент управления Notes. Для области необходимо задать значение **Global**. Это разрешение сущности должно быть связано с веб-ролью пользователя.

    ![Добавление разрешений сущности](media/entity-permission.png "Добавление разрешений сущности")

    ![Добавление веб-ролей к разрешению сущности](media/entity-permission-web-roles.png "Добавление веб-ролей к разрешению сущности")

Если вы создали пользовательскую форму и добавили в нее раздел "Примечания", обязательно выберите **Примечания** в качестве вкладки по умолчанию, которую требуется отобразить.

![Примечания в пользовательской форме](media/notes-activities-tab.png "Примечания в пользовательской форме")

## <a name="notes-configuration-for-web-forms"></a>Настройка заметок для веб-форм

Заметки веб-форм настраиваются таким же образом, как и [Примечания к форме субъекта](#notes-configuration-for-entity-forms). Сначала необходимо создать запись метаданных для шага веб-формы с заметками, а затем добавить метаданные конфигурации Notes.