---
title: Использование объектов Liquid для портала | MicrosoftDocs
description: Узнайте о доступных объектах Liquid на портале.
author: tapanm-msft
manager: kvivek
ms.service: powerapps
ms.topic: conceptual
ms.custom: ''
ms.date: 10/07/2019
ms.author: tapanm
ms.reviewer: ''
ms.openlocfilehash: 4f741c8db2c0f73df8ee10c16793df78d4d58625
ms.sourcegitcommit: a1b54333338abbb0bc3ca0d7443a5a06b8945228
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/13/2020
ms.locfileid: "3126336"
---
# <a name="available-liquid-objects"></a>Доступные объекты Liquid

Объекты Liquid содержат атрибуты для вывода динамического содержимого на страницу. Например, объект page имеет атрибут с именем title, который можно использовать для вывода заголовка текущей страницы.

Чтобы получить доступ с атрибуту объекта по имени, используйте точку . Для отображения атрибута объекта в шаблоне заключите его в {{ и }}.

```
{{ page.title }}
```
Доступ к атрибутам объекта также можно получить с использованием имени строки и \[\]. Этот удобно в случаях, когда необходимый атрибут определяется динамически или имя атрибута содержит символы , пробелы, специальные символы и т. д,, недопустимые при использовании синтаксиса "." .

```
{{ page[title] }}

{% assign attribute_name = Name with spaces %}

{{ object[attribute_name] }}
```

Следующие объекты могут использоваться и доступны в любом месте, в любом шаблоне.


|   Объект    |                                                                                                                                                                                          Описание                                                                                                                                                                                           |
|-------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  Объекты   |                                                                                                 Позволяет загрузить любую сущность Power Apps по идентификатору. [!INCLUDE[proc-more-information](../../../includes/proc-more-information.md)] [сущности](#entities)                                                                                                 |
|     now     |                                          Объект даты и времени, который указывает текущее время UTC во время обработки шаблона для отображения.<br>**Примечание**. Это значение кэшируется веб-приложением портала и не обновляется каждый раз. [!INCLUDE[proc-more-information](../../../includes/proc-more-information.md)] [Фильтры по дате](liquid-filters.md#date-filters)                                          |
|    страница     | Указывает на текущую страницу запроса портала. Объект page предоставляет доступ к таким вещам, как навигационные цепочки для текущей страницы, заголовок или URL-адрес текущей страницы и все другие атрибуты или связанные сущности основной записи Power Apps. [!INCLUDE[proc-more-information](../../../includes/proc-more-information.md)] [страница](#page) |
|   params    |                                                                                                                             Удобное сокращение для request.params. [!INCLUDE[proc-more-information](../../../includes/proc-more-information.md)] [запрос](#request)                                                                                                                              |
|   запрос   |                                                                                                                        Содержит сведения о текущем HTTP-запросе. [!INCLUDE[proc-more-information](../../../includes/proc-more-information.md)] [запрос](#request)                                                                                                                        |
|  параметры   |                                                                                                            Позволяет загружать любые [параметры сайта](../configure/configure-site-settings.md) по имени. [!INCLUDE[proc-more-information](../../../includes/proc-more-information.md)] [параметры](#settings)                                                                                                            |
|   карта сайта   |                                                                                                                               Предоставляет доступ к карте сайта портала. [!INCLUDE[proc-more-information](../../../includes/proc-more-information.md)] [карта сайта](#sitemap)                                                                                                                                |
| sitemarkers |                                                                                                                        Позволяет загружать любые маркеры сайта по имени. [!INCLUDE[proc-more-information](../../../includes/proc-more-information.md)] [sitemarkers](#sitemarkers)                                                                                                                        |
|  snippets   |                                                                                                         Позволяет загружать любые [фрагменты кода](../configure/customize-content-snippets.md) содержимого по имени. [!INCLUDE[proc-more-information](../../../includes/proc-more-information.md)] [snippets](#snippets)                                                                                                         |
|    Пользователь     |                             Указывает на текущего пользователя портала, обеспечивая доступ ко всем атрибутам базовой записи контакта Power Apps. Если нет пользователя, выполнившего вход, эта переменная будет иметь значение [null](liquid-types.md#null). [!INCLUDE[proc-more-information](../../../includes/proc-more-information.md)] [пользователь](#user)                              |
|  weblinks   |                                                                                                                        Позволяет загрузить любой набор веб-ссылок по имени или идентификатору. [!INCLUDE[proc-more-information](../../../includes/proc-more-information.md)] [weblinks](#weblinks)                                                                                                                        |
|   website   |                                                      Указывает на запись веб-сайта портала, обеспечивая доступ ко всем атрибутам записи веб-сайта Power Apps (adx\_website) для портала. [!INCLUDE[proc-more-information](../../../includes/proc-more-information.md)] [website](#website)                                                       |

## <a name="ads"></a>ads


Предоставляет возможность получить доступ к рекламному объявлению и обработать его для отображения.

Объект ads позволяет выбрать конкретное рекламное объявление или размещение рекламного объявления.

```
<div>

{% assign ad = ads[Ad Name] %}

<h4>{{ ad.title }}</h4>

<a href={{ ad.redirect_url }}>

<img src={{ ad.image.url }} alt={{ ad.image.alternate_text }} />

</a>

</div>
```

### <a name="ads-attributes"></a>Атрибуты рекламных объявлений

|Атрибут   |Описание   |
|---|---|
| placements        | Возвращает объект adplacements.    |
| \[имя или идентификатор рекламного объявления\] | Можно получить доступ к любому рекламному объявлению по его свойствам "Имя" или "Идентификатор". <br> `{% assign ad = ads[Ad Name] %}`<br>`{% assign ad = ads["da8b8a92-2ee6-476f-8a21-782b047ff460"] %}`  |


### <a name="ad-placements-attributes"></a>Атрибуты размещений рекламных объявлений

|Атрибут   |Описание   |
|---|---|
| \[имя или идентификатор размещения рекламного объявления\] | Можно получить доступ к любому объекту adplacement по его свойствам "Имя" или "Идентификатор".<br>`{% assign placement = ads.placements[Placement Name or Id] %}`<br>`{% assign placement = ads.placements[2423d713-abb3-44c3-8a7d-c445e16fccad] %}`  |

### <a name="ad-placement-attributes"></a>Атрибуты размещения рекламных объявлений

Размещение рекламного объявления — это объект сущности, со всеми теми же атрибутами в дополнение к перечисленным ниже.

|Атрибут   |Описание   |
|---|---|
| Рекламные объявления            | Возвращает коллекцию связанных объектов рекламных объявлений с размещением.  С этой коллекцией можно использовать [теги итерирования](iteration-tags.md) и [фильтры массива](liquid-filters.md#array-filters).  |  
| Полное имя           | Возвращает поле имени для размещения рекламных объявлений.                                                                |
| placement\_url | URL-адрес, который может использоваться для извлечения размещения рекламного объявления, полностью отображаемого шаблоном.                         |
| random\_url    | URL-адрес, который может использоваться для извлечения случайного рекламного объявления из размещения, полностью отображаемого шаблоном.           |

### <a name="ad-attributes"></a>Атрибуты рекламного объявления

> [!Note]
> Рекламное объявление — это объект сущности, со всеми теми же атрибутами в дополнение к перечисленным ниже.

|Атрибут   |Описание   |
|---|---|
| ad\_url |  URL-адрес, который может использоваться для извлечения рекламного объявления, полностью отображаемого шаблоном.   |
| Копировать| Возвращает поле копии для рекламного объявления.|
| image| Возвращает объект изображения (если имеется) для рекламного объявления.|
| Полное имя| Возвращает поле имени для рекламного объявления.|
| open\_in\_new\_window | Возвращает значение true, если URL-адрес, указанный в redirect\_url, должен открываться в новом окне. |
| redirect\_url| URL-адрес, на который будет направлен пользователь при выборе объявления.|

### <a name="ad-image-attributes"></a>Атрибуты изображения рекламного объявления

|Атрибут   |Описание   |
|---|---|
| alternate\_text | Возвращает текст, который должен появляться в атрибуте alt тега. |
| height          | Возвращает высоту в пикселях для изображения                             |
| URL-адрес             | Возвращает источник URL-адреса изображения.                                  |
| width           | Возвращает ширину в пикселях для изображения                              |


## <a name="blogs"></a>блоги

Предоставляет возможность получить доступ и отображать блоги и записи блогов.

Объект blogs позволяет выбрать конкретный блог или записи блога.

```
{% assign posts = blogs.posts | paginate: 0,4 %}

<div class=content-panel panel panel-default>

<div class=panel-heading>

{% assign sitemarker = sitemarkers[Blog Home] %}

{% assign snippet = snippets[Home Blog Activity Heading] %}

<a class=pull-right href={{sitemarker.url}}> All Blogs </a>

<h4>

<a class=feed-icon fa fa-rss-square href={{ blogs.feedpath }} />

{{ snippet.adx_value }}

</h4>

</div>

<ul class=list-group>

{% for post in posts.all %}

<li class=list-group-item >

<a class=user-avatar href={{ post.author_url }}>

<img src={{ post.user_image_url }} />

</a>

<h4 class=list-group-item-heading>

<a href={{ post.app_relative_path }}>{{ post.title }}</a>

</h4>

<div class=content-metadata>

<abbr class=timeago>{{ post.publish_date }}</abbr>

&ndash;

<a href={{ post.author_url }}> {{ post.author_name }} </a>

&ndash;

<a href={{ post.application_path }}#comments>

<span class=fa fa-comment aria-hidden=true></span> {{ post.comment_count }}

</a>

</div>

</li>

{% endfor %}

</ul>

</div>
```

### <a name="blogs-object"></a>Объект blogs

Объект blogs позволяет получить доступ к любому определенным блогу на портале или получить доступ ко всем записям блога на портале (независимо от блога).

В следующей таблице поясняются атрибуты, связанные с объектом blogs.

|Атрибут   |Описание   |
|---|---|
| posts               | Возвращает объект blogposts, содержащий все записи блога на портале.     |
| \[имя или идентификатор блога\] | Можно получить доступ к любому блогу по его свойствам "Имя" или "Идентификатор".                   

```
{% assign blog = blogs[Blog Name] %}                             

{% assign blog = blogs[da8b8a92-2ee6-476f-8a21-782b047ff460] %}  |
```

### <a name="blog-object"></a>Объект blog

Объект blog позволяет работать с одним блогом для получения доступа к записям для этого блога.

В следующей таблице поясняются различные атрибуты, связанные с объектом blog.

|Атрибут   |Описание   |
|---|---|
| posts | Возвращает объект blogposts, содержащий все записи блога для блога. |
| Полное имя  | Имя блога.                                              |
| title | Заголовок блога.                                             |
| URL-адрес   | URL-адрес блога.                                               |

### <a name="blogposts-object"></a>Объект blogposts

Объект blogposts позволяет получить доступ к коллекции объектов записей блога. Можно упорядочивать записи блога и достигать разбиения на страницы в дополнение к использованию фильтров Liquid:

{% assign blogposts = blogs.posts | order\_by “adx\_name”, “desc” | paginate: 0,4 | all %} Обратите внимание, что blogs.posts.all также является допустимым способом получить все записи блога. Также можно использовать blogs.posts | from\_index: 0 | take: 2

В следующей таблице поясняются различные атрибуты, связанные с объектом blogposts.

|Атрибут   |Описание   |
|---|---|
| Все | Возвращает все объекты blogpost в коллекции. |

### <a name="blogpost-object"></a>Объект blogpost

Ссылается на отдельную запись блога.

В следующей таблице поясняются различные атрибуты, связанные с объектом blogpost.

|Атрибут   |Описание   |
|---|---|
| URL-адрес            | URL-адрес записи.                                                                |
| content        | Возвращает поле содержимого для записи.                                             |
| content        | Возвращает поле содержимого для записи.                                             |
| author         | Возвращает authorf для записи (представляет собой просто объект сущности контакта).          |
| title          | Заголовок записи.                                                              |
| comment\_count | Возвращает целое число, означающее количество комментариев для определенной записи. |
| publish\_date  | Дата публикации записи.                                           |

## <a name="entities"></a>Объекты

Позволяет загрузить любую сущность Power Apps по идентификатору. Если сущность существует, возвращается объект сущности. Если сущность с указанным идентификатором не найдена, возвращается значение [null](liquid-types.md#null).  

```
{% assign account = entities.account['936DA01F-9ABD-4d9d-80C7-02AF85C822A8'] %}

{% if account %}

{{ account.name }} ({{ account.statecode.label }})

{% endif %}

{% assign entity_logical_name = 'contact' %}

{% assign contact = entities[entity_logical_name][request.params.contactid] %}

{% if contact %}

{{ contact.fullname }} ({{ contact.parentcustomerid.name }})

{% endif %}
```

### <a name="entity"></a>Entity

Объект сущности предоставляет доступ к атрибутам записи сущности Power Apps.


|             Атрибут              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|                 Артикул                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Идентификатор GUID сущности, в виде строки. Например, 936DA01F-9ABD-4d9d-80C7-02AF85C822A8                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|           logical\_name            |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Логическое имя Power Apps сущности.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|               Заметки                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Загружает все примечания (annotation), связанные с сущностью, в порядке от более старых до более новых (createdon). Примечания возвращается как объекты примечания.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|            Разрешения             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Загружает результаты утверждения разрешения сущности для сущности. Результаты возвращаются как объект разрешений.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|                URL-адрес                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Возвращает URL-путь системы управления содержимым порталов Power Apps для сущности. Если сущность не имеет допустимого URL-адреса на текущем веб-сайте, возвращается значение NULL. Обычно возвращается только значение для определенных типов сущностей, которые были интегрированы в портал CMS , если только вы не настроили поставщика URL-адреса в вашем приложении.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| \[имя атрибута или отношения\] | Можно получить доступ к любому атрибуту сущности Power Apps по логическому имени. `{{ entity.createdon }}{% assign attribute_name = 'name' %}{{ entity[attribute_name] }}` <br>Значения большинства атрибутов сущности сопоставляются непосредственно с [типами Liquid](liquid-types.md): поля типа "Два параметра" сопоставляются логическим значениям, текстовые поля сопоставляются строкам, числовые/валютные поля сопоставляются числам, поля даты и времени сопоставляются объектам даты. Однако некоторые типы атрибутов возвращается как объекты:<ul><li>Поля поиска (Ссылка на сущность) возвращаются как объекты ссылки на сущность.</li><li>Поля набора параметров или списка выбора возвращаются как объекты значения набора параметров.</li><li>Также можно загрузить все связанные сущности по имени схемы отношения.</li>`{{ page.adx_webpage_entitylist.adx_name }}`В случае, если отношение рефлексивно (т. е., ссылается на себя), возвращается объект рефлексивного отношения. (В противном случае результат будет неоднозначным.)`{{ page.adx_webpage_webpage.referencing.adx_name }}` <br>**Примечание**. Загрузка большого числа связанных сущностей или доступ к большому количеству отношений в одном шаблоне могут иметь отрицательное влияние на производительность обработки шаблона. Избегайте загрузку связанных сущностей для каждого элемента в массиве в цикле. По возможности старайтесь использовать [теги сущностей Common Data Service Power Apps](portals-entity-tags.md) для загрузки коллекции сущностей. |

### <a name="entity-reference"></a>Ссылка на сущность

Значения атрибута поиска возвращается как объекты ссылки на сущность со следующими атрибутами.


|   Атрибут   |                                                Описание                                                |
|---------------|-----------------------------------------------------------------------------------------------------------|
|      Артикул       | Идентификатор GUID ссылочной сущности, в виде строки. <br> Например, 936DA01F-9ABD-4d9d-80C7-02AF85C822A8 |
| logical\_name |  Логическое имя Power Apps для ссылочной сущности.   |
|     Полное имя      |                           Атрибут основного имени ссылочной сущности.                            |

### <a name="note"></a>Примечание

Примечание представляет собой объект сущности, который предоставляет доступ к атрибутам и отношениям записи annotation. В дополнение ко всем атрибутам объекта сущности, примечание имеет следующие дополнительные атрибуты.


|  Атрибут   |                                                                                                                                                                                                                                  Описание                                                                                                                                                                                                                                  |
|--------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| documentbody | Загружает атрибут documentbody записи примечания annotation в виде строки с кодировкой Base64. Так как содержимое этого атрибута может быть большим, он не загружается с остальными атрибутами примечания, а загружается только по запросу. <br> **Примечание**. Использование атрибута documentbody может иметь отрицательное влияние на производительность обработки шаблона, и его следует использовать с осторожностью.<br>Вместо этого по возможности используйте атрибут url для предоставления ссылки на вложение примечания. |
|     URL-адрес      |                                                                                                                                   Возвращает URL-путь для встроенного обработчика вложений примечаний портала. Если у пользователя есть разрешения и примечание содержит вложенный файл, запрос по этому URL-адресу приводит к загрузке вложенного файла примечания.                                                                                                                                    |

>[!Note]
> [Дополнительные фильтры](liquid-filters.md#additional-filters)                     

### <a name="option-set-value"></a>Значение набора параметров

Значения атрибута набора параметров/списка выбора возвращается как объекты ссылки на сущность со следующими атрибутами.

| Атрибут | Описание                                                     |
|-----------|-----------------------------------------------------------------|
| Название     | Локализованная надпись значения набора параметров или списка выбора. Например, "Активный"|
| Значение     | Целое значение значения набора параметров или списка выбора. Например, 0                                                           |

### <a name="entity-permissions"></a>Разрешения сущности

Объект разрешений сущности предоставляет доступ к сводным результатам утверждения разрешений для сущности.

| Атрибут       | Описание                                                                                                                                                                                                              |
|-----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| can\_append     | Возвращает значение true, если текущий пользователь имеет разрешение на дополнение записей в отношения этой записи. В противном случае возвращает значение false.                                                                                              |
| can\_append\_to | Возвращает значение true, если текущий пользователь имеет разрешение на дополнение записей в отношения другой сущности. В противном случае возвращает значение false.                                                                                      |
| can\_create     | Возвращает значение true, если текущий пользователь имеет разрешение на создание новых записей для этого типа сущностей. В противном случае возвращает значение false.                                                                                                      |
| can\_delete     | Возвращает true, если текущий пользователь обладает правами удаления этой записи. В противном случае возвращает значение false.                                                                                                                          |
| can\_read       | Возвращает true, если текущий пользователь обладает правами чтения этой записи. В противном случае возвращает значение false.                                                                                                                            |
| can\_write      | Возвращает true, если текущий пользователь обладает правами обновления этой записи. В противном случае возвращает значение false.                                                                                                                          |
| rules\_exist    | Возвращает true, если результаты разрешения, представленные этим объектом, являются результатом явно определенных правил разрешения. Возвращает false, если они являются результатами по умолчанию при отсутствии явно определенных разрешений. |

### <a name="reflexive-relationship"></a>Рефлексивное отношение

Попытки загрузить рефлексивные (т. е., ссылающиеся на себя) отношения сущностей возвращаются как объекты со следующими атрибутами.

| Атрибут     | Описание                                                                                                   |
|---------------|---------------------------------------------------------------------------------------------------------------|
| is\_reflexive | Возвращает значение true. Может использоваться для проверки, является ли объект, возвращенный отношением, объектом рефлексивного отношения. |
| referenced    | Возвращает массив ссылочных сущностей для определенного отношения.                                           |
| referencing   | Возвращает ссылающуюся сущность для определенного отношения. Возвращает NULL, если ссылающаяся сущность не существует. Для отношений типа многие-ко-многим (N:N) возвращает массив ссылающихся сущностей.                          

## <a name="entitylist"></a>entitylist

Объект entitylist используется внутри [тегов сущности Common Data Service Power Apps](portals-entity-tags.md). Он предоставляет доступ ко всем атрибутам определенного списка сущностей.  

> [!Note]                                                       
> [Обработка списка сущностей, связанных с текущей страницей](render-entity-list-current-page.md)

### <a name="attributes"></a>Атрибуты

> [!Note]
> [entities](#entities)

|               Атрибут               |                                                                                                                            Описание                                                                                                                            |
|---------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|            create\_enabled            |                                                                                Возвращает значение true, если для списка сущностей настроено создание новых записей. В противном случае возвращает значение false.                                                                                |
|              create\_url              |                                                                                          Возвращает настроенный URL-путь для ссылки или кнопки создания для списка сущностей.                                                                                          |
|            detail\_enabled            |                                                                         Возвращает значение true, если для списка сущностей настроено представление сведений для отдельных записей. В противном случае возвращает значение false.                                                                          |
|         detail\_id\_parameter         |               Возвращает имя параметра строки запроса для использования идентификатора записи при создании URL-адреса представления сведений о записи. Сведения по использованию фильтров Liquid для создания URL-адресов см. в разделе [Фильтры URL-адресов](liquid-filters.md#url-filters). Например, id                |
|             detail\_label             |                                                                                     Возвращает настроенную локализованную подпись для ссылок или кнопок представления сведений для списка сущностей.                                                                                     |
|              detail\_url              |                                                                                       Возвращает настроенный URL-путь для ссылок или кнопок представления сведений для списка сущностей.                                                                                        |
|           empty\_list\_text           |                                                                                Возвращает настроенный локализованный текст, который отображается, когда представление списка сущностей не возвращает никаких результатов.                                                                                |
|      enable\_entity\_permissions      |                                                                               Возвращает значение true, если включена фильтрация разрешения сущности для данного списка сущностей. В противном случае возвращает значение false.                                                                               |
|         entity\_logical\_name         |                                                 Возвращает логическое имя сущности Power Apps для записей, которые будет отображаться этим списком сущностей. Например, contact                                                 |
|   filter\_account\_attribute\_name    |                                            Возвращает логическое имя атрибута для поиска в организации, которое будет использоваться для фильтрации записей результатов по родительской организации текущего пользователя портала. Например, accountid                                            |
|         filter\_apply\_label          |                                                            Возвращает настроенную локализованную подпись, предназначенную для кнопки или ссылки, которая применяет расширенный фильтр атрибутов к результатам списка сущностей.                                                            |
|          filter\_definition           |                      Возвращает определение фильтра атрибута JSON для списка сущностей. См. раздел [Фильтры списка сущностей](liquid-filters.md#entity-list-filters), в котором приведены дополнительные сведения о порядке использования фильтра metafilters Liquid для обработки этого определения.                       |
|            filter\_enabled            |                                                                               Возвращает значение true, если расширенная фильтрация атрибутов для списка сущностей. В противном случае возвращает значение false.                                                                               |
| filter\_portal\_user\_attribute\_name |                                                 Возвращает логическое имя атрибута для поиска в контакте, которое будет использоваться для фильтрации записей результатов по контакту текущего пользователя портала. Например, contactid                                                  |
|   filter\_website\_attribute\_name    |                                              Возвращает логическое имя атрибута для поиска в adx\_website, которое будет использоваться для фильтрации записей результатов по текущему веб-сайту портала. Например, adx\_websiteid                                              |
|            language\_code             |                                               Возвращает код языка Power Apps в виде целого числа, который будет использоваться для выбора всех локализованных подписей для данного списка сущностей.                                                |
|              page\_size               |                                                                                                   Возвращает настроенный размер страницы результатов для списка сущностей.                                                                                                    |
|          primary\_key\_name           |                                                                                  Возвращает логическое имя атрибута первичного ключа для записей, которые будет отображаться этим списком сущностей.                                                                                  |
|            search\_enabled            |                                                                                         Возвращает значение true, если включен поиск для данного списка сущностей. В противном случае возвращает значение false.                                                                                          |
|          search\_placeholder          |                                                                                        Возвращает настроенный локализованный текст для местозаполнителя поля поиска списка сущностей.                                                                                        |
|            search\_tooltip            |                                                                                             Возвращает настроенный локализованный текст для подсказки поиска списка сущностей.                                                                                             |
|                 просмотров                 |                                                                                           Возвращает доступные представления для списка сущностей в виде объектов представления списка сущностей.                                                                                           |
|      \[логическое имя атрибута\]       | Доступ к любому атрибуту записи Power Apps списка сущностей (adx\_entitylist) можно получить по логическому имени, таким же образом, как к объекту [entity](liquid-objects.md#entity). Например, {{ entitylist.adxname\_name }} |

### <a name="entity-list-view-attributes"></a>Атрибуты представления списка сущностей

|          Атрибут          |                                                                                     Описание                                                                                     |
|-----------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|           columns           |                                                         Возвращает столбцы представления в виде объектов столбцов представления списка сущностей.                                                         |
|    entity\_logical\_name    |               Возвращает логическое имя сущности Power Apps для записей, входящих в представление. Например, contact                |
|             Артикул              |                                                                          Возвращает идентификатор GUID представления.                                                                           |
|       language\_code        | Возвращает код языка Power Apps в виде целого числа, который будет использоваться для выбора всех локализованных подписей (заголовков столбцов и т. д.) для представления. |
|            Полное имя             |                                          Возвращает отображаемое имя Power Apps для представления.                                          |
| primary\_key\_logical\_name |        Возвращает логическое имя первичного ключа сущности Power Apps для записей, входящих в представление. Например, contactid         |
|      sort\_expression       |                                               Возвращает выражение сортировки по умолчанию для представления. Например, name ASC, createdon DESC                                               |

### <a name="entity-list-view-column-attributes"></a>Атрибуты столбца представления списка сущностей

|    Атрибут     |                                                                                    Описание                                                                                    |
|------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| attribute\_type  | Возвращает имя типа атрибутов Power Apps для столбца, в виде строки. Например, Lookup, Picklist, String, Boolean, DateTime |
|  logical\_name   |                       Возвращает логическое имя атрибута Power Apps для столбца. Например, createdon                       |
|       Полное имя       |                      Возвращает локализованное отображаемое имя Power Apps для столбца. Например, "Когда создано"                       |
| sort\_ascending  |                                      Возвращает строку выражения сортировки для сортировки столбца в порядке возрастания. Например, createdon ASC                                       |
| sort\_descending |                                     Возвращает строку выражения сортировки для сортировки столбца в порядке убывания. Например, createdon DESC                                      |
|  sort\_disabled  |                                                   Возвращает значение true, если сортировка отключена для столбца. В противном случае возвращает значение false.                                                    |
|  sort\_enabled   |                                                    Возвращает значение true, если сортировка включена для столбца. В противном случае возвращает значение false.                                                    |
|      width       |                                                              Возвращает настроенную ширину столбца в пикселях.                                                              |

## <a name="entityview"></a>entityview

Объект entityview используется в теге entityview и предоставляет доступ к метаданным для представления, в дополнение к записям результата представления.

### <a name="attributes"></a>Атрибуты

|          Атрибут          |                                                                               Описание                                                                                |
|-----------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|           columns           |                         Возвращает столбцы в представлении в виде [объектов столбцов представления сущности](liquid-objects.md#entity-list-view-column-attributes).                          |
| entity\_permission\_denied  | Возвращает true, если в доступе к результатам представления было отказано из-за недостаточных разрешений сущности для текущего пользователя. Возвращает false, если доступ на чтение результатов представления был предоставлен. |
|    entity\_logical\_name    |                   Логическое имя сущности Power Apps записей результатов представления. Например, contact                   |
|         first\_page         |                 Номер первой страницы результатов представления. Это будет 1, кроме случая, когда никакие результаты не возвращены, тогда это будет NULL.                  |
|             Артикул              |                            Идентификатор GUID представления Power Apps, который задает этот объект entityview.                             |
|       language\_code        |             Целый код языка Power Apps, используемого для загрузки локализованных меток для текущего представления.              |
|         last\_page          |                                 Номер последней страницы результатов представления. Если нет возвращенных результатов, это будет NULL.                                  |
|            имя             |              Имя представления Power Apps, которое определяет данный объект entityview, например "Активные контакты".               |
|         next\_page          |                                Номер следующей страницы результатов представления. Если следующая страница результатов отсутствует, это будет NULL.                                 |
|            Страница             |                                                           Номер текущей страницы результатов представления.                                                           |
|            pages            |                                          Возвращает массив номеров страниц, содержащий все страницы результатов для текущего представления.                                          |
|         page\_size          |                                                      Количество результатов, возвращенных на каждой странице для текущего представления.                                                       |
|       previous\_page        |                              Номер следующей страницы результатов представления. Если предыдущая страница результатов отсутствует, это будет NULL.                               |
| primary\_key\_logical\_name |  Логическое имя Power Apps основного ключевого атрибута сущности результата для этого представления. Например, contactid.   |
|           Записи           |                                                   Текущая страница записей результатов для представления, как объекты сущностей.                                                    |
|      sort\_expression       |                                             Выражение сортировки по умолчанию для представления. Например, name ASC, createdon DESC.                                              |
|        total\_pages         |                                                              Общее число страниц результатов для представления.                                                              |
|       total\_records        |                                                       Общее число результатов для представления (на всех страницах).                                                       |

## <a name="events"></a>события

Предоставляет возможность получить доступ и обработать события. Объект events позволяет выбрать конкретное событие или все события.

### <a name="events-object"></a>Объект events

Объект events позволяет получить доступ к любому определенным событию на портале или получить доступ ко всем событиям на портале (независимо от события).

Объект events имеет следующие атрибуты:

|Атрибут   |Описание   |
|---|---|
|occurences |Возвращает объект eventoccurances, содержащий все случаи событий на портале |
|[имя или идентификатор события] |Можно получить доступ к любому событию по его свойствам "Имя" или "Идентификатор".<br>{% assign event = events[&quot;Имя события&quot;] %}<br>{% assign event = events[&quot;da8b8a92-2ee6-476f-8a21-782b047ff460&quot;] %} |

### <a name="event-object"></a>Объект event

Объект event позволяет работать с одним событием для получения доступа к расписаниям и случаям для этого события.

Объект event имеет следующие атрибуты:

|Атрибут   |Описание   |
|---|---|
| повторений | Возвращает объект eventoccurances, содержащий все случаи для этого события |
| имя       | Имя события.                                                     |
| URL-адрес        | URL-адрес события.                                                      |

### <a name="eventoccurences-object"></a>Объект eventoccurences

Объект eventoccurrences позволяет получить доступ к коллекции объектов случаев возникновения события. Можно упорядочить случаи возникновения события и задать диапазон дат для извлекаемых случаев возникновения, а также получить разбиение на страницы с помощью фильтров Liquid

```
{% assign occurances = event.occurrences.from[today].to[advance_date] %}
```

обратите внимание, что

```
{% assign occurances = event.occurrences.min[today].max[advance_date] %}
```

также возможен.

Следующие атрибуты связаны с объектом eventoccurrences

|Атрибут   |Описание   |
|---|---|
| Все | Возвращает все объекты eventoccurance в коллекции. |

### <a name="eventoccurence-object"></a>Объект eventoccurence

Представляет один случай возникновения события. Связанные атрибуты даются ниже:

|Атрибут   |Описание   |
|---|---|
| URL-адрес                 | URL-адрес случая возникновения события.    |
| is\_all\_day\_event | Это событие на весь день?     |
| start\_time         | Время начала для события. |
| end\_time           | Время завершения для события.   |


## <a name="forloop"></a>forloop

Содержит свойства, полезные в блоке цикла [for](iteration-tags.md#for).  

> [!Note]
> forloop может использоваться только в теге [for](iteration-tags.md#for).

**Код**

```
{% for child in page.children %}

{% if forloop.first %}

This is the first child page!

{% else %}

This is child page number {{ forloop.index }}.

{% endif %}

{% endfor %}
```

**Вывод**

```
This is the first child page!

This is child page number 2.

This is child page number 3.
```

### <a name="attributes"></a>Атрибуты

|Атрибут   |Описание   |
|---|---|
| первая   | Возвращает true, если это первая итерация цикла. Возвращает false, если это не первая итерация цикла.       |
| index   | Расположение текущего элемента в коллекции, где первый элемент имеет расположение 1.                   |
| index0  | Расположение текущего элемента в коллекции, где первый элемент имеет расположение 0.                   |
| Последняя    | Возвращает true, если это последняя итерация цикла. Возвращает false, если это не последняя итерация цикла.         |
| length  | Возвращает число итераций для цикла ߝ число элементов в коллекции, по которой производится итерация. |
| rindex  | Число элементов, оставшихся в цикле (длина - индекс), где 1 — это индекс последнего элемента.              |
| rindex0 | Число элементов, оставшихся в цикле (длина - индекс), где 0 — это индекс последнего элемента.              |


## <a name="forums"></a>forums

Предоставляет возможность получить доступ и отображать форумы и дискуссии форумов. Обратите внимание, что возможность использовать Liquid для отображения данных форума расширяется на записи, но для создания новой записи или дискуссии необходимо использовать шаблон страницы веб-форм ASP.NET со встроенной указанной возможностью (например, шаблоны страниц дискуссии форума и записи форума по умолчанию).

Объект forums позволяет выбрать форум или дискуссии форума:

```
<div class=content-panel panel panel-default>

<div class=panel-heading>

<h4>

<span class=fa fa-comments aria-hidden=true></span>

{{ snippets[Home Forum Activity Heading] | default: Forum Activity | h }}

</h4>

</div>

{% for forum in website.forums %}

<ul class=list-group>

<li class=list-group-item>

<div class=row>

<div class=col-sm-6>

<h4 class=list-group-item-heading><a href="{{ forum.url | h }}"> {{ forum.name | h }}</a></h4>

<div class=list-group-item-text content-metadata>{{ forum.adx_description | h }}</div>

</div>

<div class=col-sm-3 content-metadata>{{ forum.thread_count }} threads</div>

<div class=col-sm-3 content-metadata>{{ forum.post_count }} posts</div>

</div>

</li>

</ul>

{% endfor %}

</div>
```

### <a name="forums-object"></a>Объект forums

Объект forums позволяет получить доступ к любому определенного форуму на портале или получить доступ ко всем дискуссиям форума на портале (независимо от форума).

Объект forum позволяет работать с одним форумом для получения доступа к дискуссиям для этого форума.

Объект forumthreads позволяет получить доступ к коллекции объектов forumthread. Можно упорядочивать дискуссии форума и достигать разбиения на страницы также с помощью фильтров Liquid.

```
{% assign threads = forum.threads | order_by adx_name, desc | paginate: 0,4 | all %}
```

Одна дискуссия форума

Объект forumposts позволяет получить доступ к коллекции объектов forumpost.

### <a name="attributes"></a>Атрибуты

|Атрибут   |Описание   |
|---|---|
| threads              | Возвращает объект forumthreads, содержащий все объекты forumthread на портале.             |
| Все                  | Возвращает все объекты forum на портале. Обратите внимание, что website.forums также эквивалентен.    |
| thread\_count        | Возвращает целое значение числа дискуссий, которые имеются на всем веб-сайте. |
| post\_count          | Возвращает общее количество записей на портале в виде целого значения.                       |
| \[имя или идентификатор форума\] | Можно получить доступ к любому форуму по его свойствам "Имя" или "Идентификатор". <br>`{% assign forum = forums[Имя форума] %}<br>{% assign forum = forums[da8b8a92-2ee6-476f-8a21-782b047ff460] %} 

### <a name="forum-object"></a>Объект forum

### <a name="attributes"></a>Атрибуты

> [!Note]
> [entities](#entities)

|Атрибут   |Описание   |
|---|---|
| threads       | Возвращает объект forumthreads, содержащий все дискуссии форума для форума.               |
| Полное имя          | Имя форума.                                                                  |
| thread\_count | Возвращает целое значение числа дискуссий, которые имеются в форуме.      |
| post\_count   | Возвращает целое значение числа записей, которые имеются во всем форуме. |

### <a name="forumthreads-object"></a>Объект forumthreads

### <a name="attributes"></a>Атрибуты

|Атрибут   |Описание   |
|---|---|
| Все | Возвращает все объекты forumthread в коллекции. |

### <a name="forumthread-object"></a>Объект forumthread

### <a name="attributes"></a>Атрибуты

> [!Note]
> [entities](#entities)

|Атрибут   |Описание   |
|---|---|
| posts        | Возвращает объект forumposts, содержащий все записи для дискуссии.            |
| author       | Возвращает автора для дискуссии (который представляет собой просто объект сущности контакта).      |
| latest\_post | Возвращает самую последнюю запись в дискуссии.                                            |
| first\_post  | Возвращает первую запись в дискуссии.                                             |
| post\_count  | Возвращает целое значение числа записей, которые имеются в дискуссии. |
| is\_answered | Имеется ли ответ в дискуссии?                                                    |
| is\_sticky   | Является ли дискуссия фиксированной?                                                    |

### <a name="forumposts-object"></a>Объект forumposts

### <a name="attributes"></a>Атрибуты

|Атрибут   |Описание   |
|---|---|
| Все | Возвращает все объекты forumthread в коллекции. |

Одна запись форума

### <a name="attributes"></a>Атрибуты

> [!Note] 
> [entities](#entities)

|Атрибут   |Описание   |
|---|---|
| author     | Возвращает автора для записи (представляет собой просто объект сущности контакта). |
| content    | Содержимое записи.                                                   |
| is\_answer | Является ли эта запись ответом для дискуссии?                                      |


## <a name="knowledge"></a>знание

Предоставляет доступ к записям сущностей knowledgearticle и category Power Apps для отрисовки статей и категорий на портале.

### <a name="attributes"></a>Атрибуты

|Атрибут|Описание|
|---|---|
|articles|Возвращает объект articles, содержащий объекты статей для записей сущностей knowledgearticle, доступных на портале.|
|категории|Возвращает объект categories, содержащий объекты категорий для записей сущностей категорий, доступных на портале.|
|||

### <a name="articles-object"></a>объект articles

Объект articles позволяет получить доступ к коллекции объектов статей. Можно упорядочивать статьи и достигать разбиения на страницы также с помощью фильтров Liquid.

```
{% assign count = count | default: 3 %}
{% assign languagecode = website.selected_language.code %}
{% assign popular_articles = knowledge.articles | popular: count,languagecode  %}
{% if popular_articles %}
    <div class=list-group>
    {% for article in popular_articles %}
      <div class=list-group-item clearfix>
        <a class=title href={{ article.url | escape }}>{{ article.title | escape }}</a>
        <p class=description>{{ article.description | escape }}</p>
      </div>
    {% endfor %}
    </div>
{% endif %}
```

### <a name="attributes"></a>Атрибуты

|Атрибут|Описание|
|---|---|
|популярные |Возвращает коллекцию объектов статей с самым большим числом просмотров. `{% assign popular_articles = knowledge.articles.popular %}` |
|последние |Возвращает коллекцию объектов статей с самой последней датой изменения. `{% assign recent_articles = knowledge.articles.recent %}` |
|популярное |Возвращает коллекцию объектов статей с наивысшей оценкой. `{% assign top_articles = knowledge.articles.top  %}` |
| | |

### <a name="filters"></a>Фильтры

Следующие фильтры могут принимать дополнительные параметры для языка и размера страницы. Первый параметр является числом или записью для извлечения. Размер страницы по умолчанию — 5. Второй параметр является кодом языка для извлечения статей на данном языке. Фильтры могут быть объединены с другими [фильтрами Liquid](liquid-filters.md).

```
{% assign page_size = 5 %}
{% assign language_code = website.selected_language.code %}
{% assign recent_articles = knowledge.articles | recent: page_size, language_code %}
```

|Атрибут|Описание|
|---|---|
|популярные |Возвращает коллекцию объектов статей с самым большим числом просмотров. `{% assign popular_articles = knowledge.articles \| popular: 10, en-US %}` |
|последние |Возвращает коллекцию объектов статей с самой последней датой изменения. `{% assign recent_articles = knowledge.articles \| recent: 5 %}` |
|популярное |Возвращает коллекцию объектов статей с наивысшей оценкой. `{% assign top_articles = knowledge.articles \| top: 3, en-US %}` |
| | |

### <a name="categories-object"></a>объект categories

Объект categories позволяет получить доступ к коллекции объектов категорий. Можно упорядочивать категории и достигать разбиения на страницы также с помощью фильтров Liquid.

```
{% assign category_url = sitemarkers['Category'].url %}
  {% assign count = count | default: 0 %}  
  {% assign categories = knowledge.categories | top_level: count %}
  {% if categories %}
    <div class=list-group unstyled>
    {% for category in categories %}
      <a href={{ category_url | add_query: 'id', category.categorynumber }} class=list-group-item>
        {{ category.title }}
      </a>
    {% endfor %}
    </div>
  {% endif %}
```

### <a name="attributes"></a>Атрибуты

|Атрибут|Описание|
|---|---|
|последние |Возвращает коллекцию объектов категорий с самой последней датой изменения. |
|top_level |Возвращает коллекцию объектов категорий, не имеющих родительскую категорию. |
|||

### <a name="filters"></a>Фильтры

Следующие фильтры могут принимать дополнительный параметр, указывающий размер страницы. Размер страницы по умолчанию — 5. Фильтры могут быть объединены с другими [фильтрами Liquid](liquid-filters.md).

```
{% assign page_size = 5 %}
{% assign recent_categories = knowledge.categories | recent: page_size %}
```

|Атрибут|Описание|
|---|---|
|последние |Возвращает коллекцию объектов категорий с самой последней датой изменения. Можно указать параметры `{% assign recent_categories = knowledge.categories \| recent: 10 %}` |
|top_level |Возвращает коллекцию объектов категорий, не имеющих родительскую категорию. `{% assign root_categories = knowledge.categories \| top_level %}` |
|||

### <a name="article-object"></a>объект article

Объект article позволяет работать с одной сущностью knowledgearticle для отображения сведений этой статьи на портале.

### <a name="attributes"></a>Атрибуты

article — это объект [entity](#entity) со всеми теми же атрибутами в дополнение к перечисленным ниже.

|Атрибут|Описание|
|---|---|
|article_public_number| Общий номер статьи.|
|comment_count| Целое число, означающее количество комментариев для определенной статьи.|
|content|Содержания статьи.|
|current_user_can_comment|Возвращает логическое значение, указывающее, может ли текущий пользователь добавлять комментарии в статье.|
|is_rating_enabled|Возвращает логическое значение, указывающее, включена ли оценка в статье.|
|ключевые слова|Ключевые слова в статье.|
|имя|Альтернативный псевдоним для заголовка статьи.|
|оценка|Десятичное значение оценки в статье.|
|title|Заголовок статьи.|
|view_count|Целое значение количества просмотров статьи.|
|||

### <a name="category-object"></a>объект category

Объект category позволяет работать с одной сущностью category для отображения ее сведений на портале.

### <a name="attributes"></a>Атрибуты

category — это объект [entity](#entity) со всеми теми же атрибутами в дополнение к перечисленным ниже.

|Атрибут|Описание|
|---|---|
|categorynumber|Номер категории.|
|имя|Альтернативный псевдоним для заголовка категории.|
|title|Заголовок категории.|
|||

## <a name="page"></a>страница

Указывает на текущую страницу запроса портала. Данный объект объединяет атрибуты [sitemap](#sitemap) и [entities](#entities) текущего запроса (обычно webpage).  

Объект page предоставляет доступ к таким вещам, как навигационные цепочки для текущей страницы, заголовок или URL-адрес текущей страницы и все другие атрибуты или связанные сущности основной записи Power Apps.

```
<ul class=breadcrumb>

{% for crumb in page.breadcrumbs %}

<li><a href={{ crumb.url | escape }}>{{ crumb.title | escape }}</a></li>

{% endfor %}

<li class=active>{{ page.title | escape }}</li>

</ul>

<div class=page-header>

<h1>{{ page.title | escape }}</h1>

</div>

<div class=page-copy>

{{ page.adx_copy }}

</div>

<div class=list-group>

{% for child in page.children %}

<a class=list-group-item href={{ child.url | escape }}>

{{ child.title | escape }}

</a>

{% endfor %}

</div>

<!-- Page {{ page.id }} was last modified on {{ page.modifiedon }}. -->
```

### <a name="page-attributes"></a>Атрибуты страницы

> [!Note]  
> [entities](#entities)

|             Атрибут              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|            breadcrumbs             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 Возвращает объекты навигации узла карты сайта для страницы, начиная с корневого узла карты сайта и заканчивая на родительском узле.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|              children              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 Возвращает дочерние объекты узла карты сайта для страницы.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|               parent               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           Возвращает родительский узел карты сайта для страницы. Если страница является домашней, parent будет иметь значение NULL.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|               title                |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Заголовок страницы.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|                URL-адрес                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 URL-адрес страницы.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| \[имя атрибута или отношения\] | Можно получить доступ к любому атрибуту страницы базовой записи Power Apps по логическому имени.<br>`{{ page.createdon }}`<br>`{% assign attribute_name = 'name' %}`<br>`{{ page[attribute_name] }}`<br>Значения большинства атрибутов сущности сопоставляются непосредственно с [типами Liquid](liquid-types.md): поля типа "Два параметра" сопоставляются логическим значениям, текстовые поля сопоставляются строкам, числовые/валютные поля сопоставляются числам, поля даты и времени сопоставляются объектам даты. Однако некоторые типы атрибутов возвращается как объекты:<ul><li>Поля поиска (Ссылка на сущность) возвращаются как [объекты ссылки на сущность](#entity-reference).</li><li>Поля набора параметров или списка выбора возвращаются как [объекты значения набора параметров](#option-set-value).</li> Также можно загрузить все связанные сущности по имени схемы отношения. <br> `{{ page.adx_webpage_entitylist.adx_name }}`<br>В случае, если отношение рефлексивно (т. е., ссылается на себя), возвращается объект [entities](#entities). (В противном случае результат будет неоднозначным.)`{{ page.adx_webpage_webpage.referencing.adx_name }}` <br>**Примечание**. Загрузка большого числа связанных сущностей или доступ к большому количеству отношений в одном шаблоне могут иметь отрицательное влияние на производительность обработки шаблона. Избегайте загрузку связанных сущностей для каждого элемента в массиве в цикле. По возможности предпочитайте использовать [теги сущностей Common Data Service Power Apps](portals-entity-tags.md) для загрузки коллекции сущностей. |

## <a name="polls"></a>polls

Предоставляет возможность получить доступ к опросу и обработать его для отображения.

Объект polls позволяет выбрать конкретный опрос или размещение опроса:

```
<div>

{% assign poll = polls[Poll Name] %}

<h4>{{ poll.question }}</h4>

{% for option in poll.options %}

<div>

<input type=radio name={{ poll.name }} id={{ option.id }} />

<label for={{ option.id }}>{{ option.answer }}</label>

</div>

{% endfor %}

<button type=button>{{ poll.submit_button_label }}</button>

</div>
```

### <a name="polls-attributes"></a>Атрибуты опросов

|Атрибут   |Описание   |
|---|---|
| placements          | Возвращает объект pollplacements.                                      |
| \[имя или идентификатор опроса\] | Можно получить доступ к любому опросу по его свойствам "Имя" или "Идентификатор". `{% assign poll = polls[Poll Name] %}`<br>`{% assign poll = polls["41827a5c-33de-49b8-a0c7-439e6a02eb98"] %}`  |

### <a name="poll-placements-attributes"></a>Атрибуты размещений опросов

|Атрибут   |Описание   |
|---|---|
| \[имя или идентификатор размещения опроса\] | Можно получить доступ к любому размещению опросов по его свойствам "Имя" или "Идентификатор".`{% assign placement = polls.placements[Placement Name or Id] %}`<br>`{% assign placement = polls.placements[7677c5d4-406e-4b6c-907c-916ac17dba0f] %} `|

### <a name="poll-placement-attributes"></a>Атрибуты размещения опроса

> [!Note] 
> [entities](#entities)                                       

|Атрибут   |Описание   |
|---|---|
| Полное имя           | Возвращает поле имени для размещения опроса.                            
| placement\_url | URL-адрес, который может использоваться для извлечения размещения опроса, полностью отображаемого шаблоном.                       |
| polls          | Возвращает коллекцию связанных объектов опроса с размещением. С этой коллекцией можно использовать [теги итерирования](iteration-tags.md) и [фильтры массива](liquid-filters.md#array-filters).  |  
| random\_url    | URL-адрес, который может использоваться для извлечения случайного опроса из размещения, полностью отображаемого шаблоном.         |
| submit\_url    | URL-адрес, по которому отправляется заполненный опрос.                                                             |

### <a name="poll-attributes"></a>Атрибуты опроса

> [!Note] 
> [entities](#entities)                                          

|Атрибут   |Описание   |
|---|---|
| has\_user\_voted       | Возвращает значение true, если текущий пользователь (вошедший в систему или анонимный) уже голосовал в этом опросе.         |
| Полное имя                   | Возвращает поле имени для опроса.                                                              |
| options                | Возвращает коллекцию объектов параметров опроса, связанных с опросом. С этой коллекцией можно использовать [теги итерации](iteration-tags.md) и [сущности](#entities).  |  
| poll\_url              | URL-адрес, который может использоваться для извлечения опроса, полностью отображаемого шаблоном.                       |
| question               | Возвращает поле "Вопрос" для опроса.                                                          |
| submit\_button\_label  | Возвращает строку, которую можно использовать для переопределения подписи на кнопке отправки для опроса.               |
| submit\_url            | URL-адрес, по которому отправляется заполненный опрос.                                                   |
| user\_selected\_option | Возвращает объект polloption, выбранный пользователем (если они уже голосовали).                  |
| votes                  | Возвращает число голосов, которые были включены в таблицу для опроса.                                |

### <a name="poll-option-attributes"></a>Атрибуты варианта в опросе

>[!Note]
> [entities](#entities)                                         

|Атрибут   |Описание   |
|---|---|
| answer     | Возвращает поле "Ответ" для опроса. |
| percentage | Возвращает процент голосов в опросе для варианта в виде десятичного числа в диапазоне от 0 до 100. |
| votes      | Возвращает число голосов, которые были включены в таблицу для варианта ответа.                              |


## <a name="request"></a>запрос

Содержит сведения о текущем HTTP-запросе.

```
{% assign id = request.params['id'] %}

<a href={{ request.url | add_query: 'foo', 1 }}>Link</a>
```

> [!Note]
> Можно создавать URL-адреса динамически в Liquid с помощью URL-фильтров. 

### <a name="attributes"></a>Атрибуты

|Атрибут   |Описание   |
|---|---|
| params           | Именованные значения параметров для текущего запроса. params представляют собой сочетание параметров строки запроса URL-адреса, параметров формы записи и файлов cookie.  |
| Путь             | Путь URL-адрес текущего запроса. <br> /profile/|
| path\_and\_query | Путь и запрос URL-адреса текущего запроса.<br> /profile/?foo=1&bar=something|
| query            | Часть запроса URL-адреса текущего запроса. <br> ?foo=1&bar=something |
| URL-адрес              | Полный URL-адрес текущего запроса.<br>  https://www.example.com/profile/?foo=1&bar=something  |


## <a name="searchindex"></a>searchindex

Объект searchindex используется внутри [тегов сущностей Common Data Service Power Apps](portals-entity-tags.md) и предоставляет доступ к результатам запроса.  

```
{% searchindex query: 'support', page: params.page, page_size: 10 %}

{% if searchindex.results.size > 0 %}

<p>Found about {{ searchindex.approximate_total_hits }} matches:</p>

<ul>

{% for result in searchindex.results %}

<li>

<h3><a href={{ result.url | escape }}>{{ result.title | escape }}</a></h3>

<p>{{ result.fragment }}</p>

</li>

{% endfor %}

</ul>

{% else %}

<p>Your query returned no results.</p>

{% endif %}

{% endsearchindex %}
```

### <a name="attributes"></a>Атрибуты

|Атрибут   |Описание   |
|---|---|
| approximate\_total\_hits | Возвращает приблизительное общее количество совпадений, соответствующих запросу индекса. Обратите внимание, что из-за способа работы индекса поиска в отношении фильтрации безопасности и других конструктивных факторов это число является только приблизительным и может не вполне совпадать с общим числом результатов, доступных текущему пользователю в некоторых ситуациях.  |
| Страница                     | Возвращает номер страницы текущего запроса.                                                                                                                                                                                                           |
| page\_size               | Возвращает максимальный размер страницы текущего запроса. Учтите, что если требуется, чтобы возвращалось фактическое количество результатов для текущей страницы (так как это может быть меньше, чем указанный максимальный размер страницы), используйте results.size.                                                                                           |
| Результаты                  | Возвращает страницу результата запроса в виде объектов результатов индекса поиска.                                                                                                                                                                                          |

### <a name="search-index-results"></a>Результаты индекса поиска

|   Атрибут   |                                                                                                                                                Описание                                                                                                                                                 |
|---------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|    Сущность     |                                                                                                                            Базовый объект [entities](#entities) для результата.                                                                                                                            |
|   fragment    | Соответствующий короткий текстовый фрагмент для результата, с терминами, соответствующие указанному запросу, выделенными с помощью HTML-тега &lt;em&gt;. Обратите внимание, что некоторые типы запросов не поддерживают выделенные фрагменты, например нечеткие запросы (~) и запросы с подстановочными символами (\*). В этих случаях данное свойство будет иметь значение NULL. |
|      Артикул       |                                                             Идентификатор сущности Power Apps базовой записи для результата, в виде строки. Например, 936DA01F-9ABD-4d9d-80C7-02AF85C822A8                                                              |
| logical\_name |                                                                           Логическое имя сущности Power Apps базовой записи для результата. Например, adx\_webpage                                                                           |
|    Номер     |                                                            Номер результата, в рамках всех страниц результатов, начиная с 1. Например, для первого результата второй страницы результатов с размером страницы 10 это значение будет равно 11.                                                             |
|     score     |                                                                                                 Балл Lucene результата, в виде значения с плавающей точкой. Результаты будут возвращены упорядоченными по этому значению.                                                                                                 |
|     title     |                                                                                                                                          Заголовок результата.                                                                                                                                          |
|      URL-адрес      |                                                            URL-адрес для результата. Обычно &mdash; но не обязательно &mdash; это будет абсолютный путь для текущего приложения, а не полный URL-адрес. Например: /articles/article1/                                                             |

## <a name="settings"></a>параметры

Позволяет загружать любые [параметры сайта](../configure/configure-site-settings.md) по имени. Если настройка с указанным именем не найдена, возвращается значение [null](liquid-types.md#null).  

> [!Note]
> Настройки возвращаются как [strings](liquid-types.md#string), но можно использовать [Фильтры типов](liquid-filters.md#type-filters) для преобразования их в другие типы.

```
{{ settings[My Setting] }}

{% assign search_enabled = settings[Search/Enabled] | boolean %}

{% if search_enabled %}

Search is enabled.

{% endif %}

{% assign pagesize = settings['page size'] | integer | default: 10 %}

{% if pagesize > 10 %}

Page size is greater than 10.

{% endif %}
```

> [!Note]
> [Отображение заголовка веб-сайта и основной навигационной панели](render-site-header-primary-navigation.md)


## <a name="sitemap"></a>карта сайта

Предоставляет доступ к карте сайта портала.

```
<h1>{{ sitemap.root.title }}</h1>

<ul class=breadcrumb>

{% for crumb in sitemap.current.breadcrumbs %}

<li><a href={{ crumb.title }}>{{ crumb.title }}</a></li>

{% endfor %}

<li class=active>{{ sitemap.current.title }}</li>

</ul>

{% for child in sitemap.current.children %}

<a href={{ child.url }}>{{ child.title }}</a>

{% endfor %}

It's also possible to load a site map node by URL path:

{% assign node = sitemap[/content/page1/] %}

{% if node %}

{% for child in node.children %}

<a href={{ child.url }}>{{ child.title }}</a>

{% endfor %}

{% endif %}
```

### <a name="site-map-attributes"></a>Атрибуты карты сайта

|Атрибут   |Описание   |
|---|---|
| Текущие | Возвращает объект узла карты сайта для текущей страницы.                    |
| Корень    | Возвращает объект узла карты сайта для корневой (домашней) страницы веб-сайта. |

### <a name="site-map-node-attributes"></a>Атрибуты узла карты сайта

|Атрибут   |Описание   |
|-------|-------|
| Навигационные цепочки           | Возвращает объекты навигации узла карты сайта для узла, начиная с корневого узла карты сайта и заканчивая на родительском узле. |
| Потомки              | Возвращает дочерние объекты узла карты сайта для узла.                                                                  |
| Описание           | Описание/общее содержимое для узла. (Это поле может содержать HTML.)                                          |
| Сущность                | Возвращает базовый объект [entities](#entities) узла. Если узел не имеют базовой сущности, это значение будет NULL.                                                         |
| is\_sitemap\_ancestor | Возвращает значение true, если узел карты сайта является предшественником текущего узла; в противном случае возвращает значение false.                                                                                                         |
| is\_sitemap\_current  | Возвращает значение true, если узел карты сайта является текущим узлом; в противном случае возвращает значение false.                                                                                                         |
| Родительский объект                | Возвращает родительский узел карты сайта для узла. Если узел является корневым, parent будет иметь значение NULL.                                                                     |
| Должность                 | Заголовок узла.                                                                                                |
| URL-адрес                   | URL-адрес узла.                                                                                                  |


## <a name="sitemarkers"></a>sitemarkers

Позволяет загружать любые маркеры сайта по имени. Если маркер сайта существует, возвращается объект sitemarker. Если маркер сайта sitemarker с указанным именем не найден, возвращается значение [null](liquid-types.md#null).  

```
{{ sitemarkers[Login].url }}

{% assign my_sitemarker = sitemarkers[My Site Marker] %}

{% if my_sitemarker %}

<a href={{ my_sitemarker.url }}>{{ my_sitemarker.adx_name }}</a>

{% else %}

Site marker My Site Marker does not exist.

{% endif %}
```

> [!Note]
> [Отображение заголовка веб-сайта и основной навигационной панели](render-site-header-primary-navigation.md)  

### <a name="sitemarker-attributes"></a>Атрибуты Sitemarker

|         Атрибут          |                                                                                    Описание                                                                                    |
|----------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|            URL-адрес             |                                                                         URL-адрес цели маркера сайта.                                                                         |
| \[логическое имя атрибута\] | Можно получить доступ к любому атрибуту записи Power Apps цели маркера сайта по логическому имени. Например, {{ sitemarker.adx\_name }} |

## <a name="snippets"></a>snippets

Позволяет загружать любые фрагменты кода содержимого по имени. Если фрагмент кода с указанным именем не найден, возвращается значение [null](liquid-types.md#null).  

```
{{ snippets[Header] }}

{% assign footer = snippets[Footer] %}

{% if footer %}

{{ footer }}

{% else %}

No footer snippet was found.

{% endif %}
```


## <a name="tablerowloop"></a>tablerowloop

Содержит свойства, полезные в блоке цикла [тегов итерации](iteration-tags.md).  

> [!Note] 
> tablerowloop может использоваться только в теге [тегов итерации](iteration-tags.md).

### <a name="attributes"></a>Атрибуты

|Атрибут   |Описание   |
|---|---|
| Col        | Возвращает индекс текущей строки, начиная с 1.                                                       |
| col0       | Возвращает индекс текущей строки, начиная с 0.                                                       |
| col\_first | Возвращает true, если текущий столбец является первым столбцом строки; в противном случае возвращает false.               |
| col\_last  | Возвращает true, если текущий столбец является последним столбцом строки; в противном случае возвращает false.                |
| Первая      | Возвращает true, если это первая итерация цикла. Возвращает false, если это не первая итерация цикла.       |
| Индекс      | Расположение текущего элемента в коллекции, где первый элемент имеет расположение 1.                   |
| index0     | Расположение текущего элемента в коллекции, где первый элемент имеет расположение 0.                   |
| Последняя       | Возвращает true, если это последняя итерация цикла. Возвращает false, если это не последняя итерация цикла.         |
| Длина     | Возвращает число итераций для цикла ߝ число элементов в коллекции, по которой производится итерация. |
| Rindex     | Число элементов, оставшихся в цикле (длина - индекс), где 1 — это индекс последнего элемента.              |
| rindex0    | Число элементов, оставшихся в цикле (длина - индекс), где 0 — это индекс последнего элемента.              |



## <a name="user"></a>Пользователь

Указывает на текущего пользователя портала, обеспечивая доступ ко всем атрибутам базовой записи контакта Power Apps. Если нет пользователя, выполнившего вход, эта переменная будет иметь значение [null](liquid-types.md#null).  

пользователь является объектом [entity](#entity).  

```
{% if user %}

Hello, {{ user.fullname }}!

{% else %}

Hello, anonymous user!

{% endif %}
```

### <a name="attributes"></a>Атрибуты

Помимо всех атрибутов объекта [entity](#entity), user имеет следующие атрибуты.


|    Атрибут     |                                                                                                                                                                                     Описание                                                                                                                                                                                     |
|------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|      roles       |                                                      Возвращает роли, к которым пользователь принадлежит, в виде [array](liquid-types.md#array).<br>`{% if user.roles contains 'Administrators' %} User is an administrator. {% endif %}`<br>**Примечание**. Вы также можете использовать фильтр `has_role`, чтобы проверить членство отдельной роли.                                                       |
| basic_badges_url | Возвращает URL-адрес сервиса для извлечения значков пользователей.<br>Чтобы отрисовать значки для пользователя необходимо включить тег с атрибутами "data-badge" и "data-uri". Для отрисовки значков текущего пользователя:<br>`<div data-badge data-uri='{{user.basic_badges_url }}'></div>`<br>Для отрисовки значков пользователя по идентификатору (переменной userid):<br>\`<div data-badge data-uri='{{user.basic_badges_url |
|                  |                                                                                                                                                                                                                                                                                                                                                                                     |

## <a name="weblinks"></a>weblinks

Позволяет загрузить любой объект weblinks по имени или идентификатору.  

Если набор веб-ссылок существует, возвращается [объект набора веб-ссылок](#web-link-set-attributes). Если набор веб-ссылок с указанным именем или идентификатором не найден, возвращается значение [null](liquid-types.md#null).


```
<!-- Load web link set by ID -->

{{ weblinks[page.adx_navigation.id].name }}

<!-- Load web link set by name -->

{% assign nav = weblinks[Primary Navigation] %}

{% if nav %}

<h1>{{ nav.title | escape }}</h1>

<ul>

{% for link in nav.weblinks %}

<li>

<a href={{ link.url | escape }} title={{ link.tooltip | escape }}>

{% if link.image %}

<img src={{ link.image.url | escape }} alt={{ link.image.alternate_text | escape }} />

{% endif %}

{{ link.name | escape }}

</a>

</li>

{% endfor %}

</ul>

{% endif %}
```

> [!Note]
> [Отображение заголовка веб-сайта и основной навигационной панели](render-site-header-primary-navigation.md) |  

### <a name="web-link-set-attributes"></a>Атрибуты набора веб-ссылок

> [!Note]
> Набор веб-ссылок — это объект [entity](#entity) со всеми теми же атрибутами в дополнение к перечисленным ниже.                                         

|         Атрибут          |                                                                                 Описание                                                                                  |
|----------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|            Копировать            |                                                                      HTML-копия набора веб-ссылок.                                                                      |
|            Полное имя            |                                                                        Имя набора веб-ссылок.                                                                         |
|           Должность            |                                                                        Заголовок набора веб-ссылок.                                                                        |
|          Weblinks          |                                                       Массив объектов веб-ссылок, связанный с набором веб-ссылок.                                                        |
| \[логическое имя атрибута\] | Можно получить доступ к любому атрибуту записи Power Apps набора веб-ссылок по логическому имени. Например, {{ weblinkset.createdon }} |

### <a name="web-link-attributes"></a>Атрибуты веб-ссылки

> [!Note]
> Веб-ссылка — это объект [entity](#entity) со всеми теми же атрибутами в дополнение к перечисленным ниже.

|          Атрибут          |                                                                              Описание                                                                              |
|-----------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         Описание         |                                                                 HTML-описание веб-ссылки.                                                                 |
|    display\_image\_only     |                              Логический атрибут, указывающий, должна ли веб-ссылка отображаться только как изображение, без текста ссылки.                               |
| display\_page\_child\_links |            Логический атрибут, указывающий, должна ли веб-ссылка показывать ссылки на дочерние страницы [*sitemap*](#sitemap) связанной страницы в виде вложенных ссылок.             |
|            Изображение            |                                     Объект изображения веб-ссылки для этой ссылки. Этот атрибут будет иметь значение NULL, если изображение отсутствует.                                      |
|        is\_external         |                 Логический атрибут, указывающий, ведет ли целевой URL-адрес веб-ссылки на внешний сайт (а не на внутреннюю страницу портала).                  |
|    is\_sitemap\_ancestor    |                                Возвращает значение true, если URL-адрес веб-ссылки ссылается на предка текущего узла карты сайта; в противном случае возвращает значение false.                                 |
|    is\_sitemap\_current     |                                        Возвращает значение true, если URL-адрес веб-ссылки ссылается на текущий узел карты сайта; в противном случае возвращает значение false.                                        |
|            Полное имя             |                                                                    Имя/заголовок веб-ссылки.                                                                    |
|          Nofollow           |                                         Логический атрибут, указывающий, должна ли веб-ссылка быть отмечена как rel=nofollow.                                         |
|    open\_in\_new\_window    |                             Логический атрибут, указывающий, должна ли веб-ссылка при выборе открываться в новом окне или вкладке браузера.                             |
|           Подсказка           |                                                                    Текст подсказки для веб-ссылки.                                                                     |
|             URL-адрес             |                                                                       URL-адрес веб-ссылки.                                                                        |
|          Weblinks           |                                                   Массив дочерних объектов веб-ссылки, связанный с веб-ссылкой.                                                   |
| \[логическое имя атрибута\]  | Можно получить доступ к любому атрибуту записи Power Apps веб-ссылки по логическому имени. Например, {{ weblink.createdon }} |

### <a name="web-link-image-attributes"></a>Атрибуты изображения веб-ссылки

| alternate\_text | Альтернативный текст для изображения.                                                                                       |
|-----------------|---------------------------------------------------------------------------------------------------------------------|
| Высота          | Целое число, содержащее указанную высоту изображения. Если значение высоты не указано, этот атрибут имеет значение NULL. |
| URL-адрес             | URL-адрес изображения.                                                                                               |
| Ширина           | Целое число, содержащее указанную ширину изображения. Если значение ширины не указано, этот атрибут имеет значение NULL.   |


## <a name="website"></a>website

Указывает на веб-сайт портала, обеспечивая доступ ко всем атрибутам записи веб-сайта Power Apps (adx\_website) для портала.  

> [!Note]
> Веб-сайт — это объект [entity](#entity), со всеми теми же атрибутами.

**Код**

```
{{ website.adx_name }} ({{ website.id }})
```

**Вывод**

```
Community Portal (936DA01F-9ABD-4d9d-80C7-02AF85C822A8)
```


### <a name="see-also"></a>См. также

[Типы Liquid](liquid-types.md)  
[Теги Liquid](liquid-tags.md)  
[Фильтры Liquid](liquid-filters.md)  
