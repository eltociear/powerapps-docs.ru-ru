---
title: Функция IfError | Документация Майкрософт
description: Справочные сведения, включая синтаксис и примеры, для функции IfError в Power Apps
author: gregli-msft
manager: kvivek
ms.service: powerapps
ms.topic: reference
ms.custom: canvas
ms.reviewer: tapanm
ms.date: 03/21/2018
ms.author: gregli
search.audienceType:
- maker
search.app:
- PowerApps
ms.openlocfilehash: fc114688b3a12e842d3107220c0a8967593e18c0
ms.sourcegitcommit: 6b27eae6dd8a53f224a8dc7d0aa00e334d6fed15
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/03/2019
ms.locfileid: "74730813"
---
# <a name="iferror-function-in-power-apps"></a>Функция IfError в Power Apps

Обнаруживает ошибки и предоставляет альтернативное значение или выполняет действие.

## <a name="description"></a>Description

> [!NOTE]
> Эта функция является экспериментальной и может быть изменена. Поведение, описанное в этом разделе, доступно только в том случае, если включена функция *управления ошибками на уровне формул* . Этот параметр уровня приложения по умолчанию отключен. Чтобы включить эту функцию, откройте вкладку " *файл* ", выберите " *Параметры приложения* " в меню слева, а затем выберите " *экспериментальные функции*". Ваши отзывы очень ценны для нас. Сообщите нам о том, что вы думаете на [форумах сообщества Power Apps](https://powerusers.microsoft.com/t5/Expressions-and-Formulas/bd-p/How-To).

Функция **IfError** проверяет одно или несколько значений до тех пор, пока не обнаружит результат ошибки. Если функция находит ошибку, функция возвращает соответствующее значение. В противном случае функция возвращает значение по умолчанию. В любом случае функция может возвращать строку для отображения, формулу для вычисления или другую форму результата. Функция **IfError** похожа на функцию **If** : **IfError** проверяет наличие ошибок, а **Если** проверяет **значение true**.

Используйте **IfError** для замены значений ошибок допустимыми значениями. Например, используйте эту функцию, если ввод пользователя может привести к делению на нуль. Создайте формулу, чтобы заменить результат 0 или другим значением, подходящим для вашего приложения, чтобы можно было продолжить выполнение подчиненных вычислений. В этом примере формула может быть такой же простой:

```powerapps-dot
IfError( 1/x, 0 )
```

Если значение **x** не равно нулю, формула возвращает **1/x**. В противном случае **1/x** выдает ошибку, а формула возвращает 0.

Используйте **IfError** в [формулах поведения](../working-with-formulas-in-depth.md) , чтобы выполнить действие и проверить наличие ошибки перед выполнением дополнительных действий, как в следующем шаблоне:

```powerapps-dot
IfError(
    Patch( DS1, ... ), Notify( "problem in the first action" ),
    Patch( DS2, ... ), Notify( "problem in the second action" )
)
```

Если первое исправление обнаруживает проблему, первый запуск **уведомления** выполняется, дальнейшая обработка не выполняется, а второе обновление не выполняется. Если первое исправление завершилось с ошибкой, выполняется второе исправление, а при возникновении проблемы выполняется второе **уведомление** .

Если формула не обнаруживает ошибки и вы указали необязательный аргумент *дефаултресулт* , формула возвращает значение, указанное для этого аргумента. Если формула не обнаруживает ошибки и вы не указали этот аргумент, формула возвращает последний аргумент *значения* , вычисленный последним.

## <a name="syntax"></a>Синтаксис

**IfError**( *Значение1*, *Fallback1* [, *Значение2*, *Fallback2*,... [, *Дефаултресулт* ]] )

* *Значения* — обязательные. Формулы, которые необходимо проверить на значение ошибки.
* *Fallback(n)* — обязательный параметр. Формулы для вычисления и возвращаемые значения, если совпадающие аргументы *значения* возвращают ошибку.
* Аргумент *результат_по_умолчанию* является необязательным.  Формулы для вычисления, если формула не обнаруживает ошибки.

## <a name="examples"></a>Примеры

| Формула | Description | Возвращаемый результат |
| --- | --- | --- |
| **IfError( 1, 2 )** |Первый аргумент не является ошибкой. Функция не имеет других ошибок для проверки и не имеет возвращаемого значения по умолчанию. Функция возвращает последний вычисленный аргумент *значения* .   | 1 |
| **IfError( 1/0, 2 )** | Первый аргумент возвращает значение ошибки (из-за деления на ноль). Функция вычисляет второй аргумент и возвращает его в качестве результата. | 2 |
| **IfError(1/0, Notify( "Возникла внутренняя проблема", NotificationType.Error ) )** | Первый аргумент возвращает значение ошибки (из-за деления на ноль). Функция вычисляет второй аргумент и отображает сообщение пользователю. Возвращаемое значение функции **IfError** представляет собой возвращаемое значение функции **Notify**, приведенное к типу первого аргумента функции **IfError** (число). | 1 |
| **IfError (1, 2, 3, 4, 5)** | Первый аргумент не является ошибкой, поэтому функция не вычисляет соответствующий откат аргумента. Третий аргумент не является ошибкой либо, поэтому функция не вычисляет соответствующий откат аргумента. Пятый аргумент не имеет соответствующего резервного и является результатом по умолчанию. Функция возвращает этот результат, так как формула не содержит ошибок. | 5 |

### <a name="step-by-step"></a>Шаг за шагом

1. Добавьте элемент управления **[Text input](../controls/control-text-input.md)** с именем **TextInput1** (возможно, такое имя будет указано по умолчанию).

2. Добавьте элемент управления **[Label](../controls/control-text-box.md)** с именем **Label1** (возможно, такое имя будет указано по умолчанию).

3. Установите следующую формулу для свойства **Text** элемента управления **Label1**:

    **IfError( Value( TextInput1.Text ), –1 )**

4. В поле **TextInput1** введите **1234**.  

    В метке Label1 будет отображаться значения **1234**, так как это значение является допустимым для функции Value.

5. В поле **TextInput1** введите **ToInfinity**.

    В метке управления Label1 будет отображаться значение **–1**, так как это значение не является допустимым для функции Value.  Если не обернуть функцию Value в IfError, в метке не будет отображаться значение, так как ошибочное значение считается *пустым*. 

