---
title: Функция IfError | Документация Майкрософт
description: Справочные сведения о функции IfError в PowerApps, включая описание синтаксиса и примеры
author: gregli-msft
manager: kvivek
ms.service: powerapps
ms.topic: reference
ms.custom: canvas
ms.reviewer: anneta
ms.date: 03/21/2018
ms.author: gregli
search.audienceType:
- maker
search.app:
- PowerApps
ms.openlocfilehash: 63a837eff2944569f5f66223690b11ddcfd399f6
ms.sourcegitcommit: aa9f78c304fe46922aecfe3b3fadb6bda72dfb23
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/24/2019
ms.locfileid: "66215926"
ms.PowerAppsDecimalTransform: true
---
# <a name="iferror-function-in-powerapps"></a>Функция IfError в PowerApps

Обнаруживает ошибки и предоставляет альтернативное значение или выполняет действие.

## <a name="description"></a>Описание

> [!NOTE]
> Эта функция является экспериментальной и может быть изменена. Поведение, описанной в этом разделе будет доступно, только если *управление обработкой ошибок уровня формула* включены. Этот параметр на уровне приложения по умолчанию отключены. Чтобы включить эту функцию, откройте *файл* выберите *параметры приложения* в меню слева, а затем выберите *экспериментальные функции*. Ваш отзыв очень важен для нас — сообщите нам свое мнение на [форумах сообщества PowerApps](https://powerusers.microsoft.com/t5/Expressions-and-Formulas/bd-p/How-To).

**IfError** функция проверяет одно или несколько значений, пока не найдет результат ошибки. Если функция не обнаруживает ошибку, функция возвращает соответствующее значение. В противном случае функция возвращает значение по умолчанию. В любом случае функция может возвратить строки, чтобы показать, формула для вычисления или результат иного вида. **IfError** похож на функцию **Если** функции: **IfError** тесты для ошибки, хотя **Если** тесты для **true**.

Используйте **IfError** для замены значений ошибки с допустимыми значениями. Например можно Используйте эту функцию, если ввод данных пользователем может привести к делению на ноль. Построение формулы для замены результат на 0 или другое значение, которое подходит для вашего приложения, что позволит продолжить вычисления. Теперь ваша формула может быть сложнее, чем в этом примере:

```powerapps-comma
IfError( 1/x; 0 )
```

Если значение **x** не нулю, то формула возвращает **1 / x**. В противном случае **1 / x** создает ошибку и формула возвращает 0.

Используйте **IfError** в [формулах поведения](../working-with-formulas-in-depth.md) для выполнения действий и проверки для ошибок, прежде чем выполнять дополнительные действия, как и в этот шаблон:

```powerapps-comma
IfError(
    Patch( DS1; ... ); Notify( "problem in the first action" );
    Patch( DS2; ... ); Notify( "problem in the second action" )
)
```

Если первое его исправление обнаруживает проблему, то первое **Notify** запусков, дальнейшая обработка не происходит, и второй исправление не выполняется. Если первое его исправление завершается успешно, выполняется второй patch и, при обнаружении проблемы, второй **Notify** выполняется.

Если формула не находит все ошибки, и вы указали необязательное *Результат_по_умолчанию* аргумент, формула возвращает значение, которое указано для этого аргумента. Если формула не находит все ошибки, и этот аргумент не указан, формула возвращает последние *значение* вычисления аргумента.

## <a name="syntax"></a>Синтаксис

**IfError**( *значение1*; *Fallback1* [; *Value2*; *Fallback2*;... [; *Результат_по_умолчанию* ]])

* *Значения* — обязательный. Формулы, которые необходимо проверить на значение ошибки.
* *Fallback(n)* — обязательный параметр. Формулы для вычисления и значения, возвращаемое, если сопоставление *значение* аргументы были ошибочными.
* Аргумент *DefaultResult* является необязательным.  Формулы для оценки, если формула не находит все ошибки.

## <a name="examples"></a>Примеры

| Формула | Описание | Возвращаемый результат |
| --- | --- | --- |
| **IfError( 1; 2 )** |Первый аргумент не является ошибкой. Функция имеет без ошибок, чтобы проверить и вернуть значение по умолчанию. Функция возвращает последние *значение* вычисления аргумента.   | 1 |
| **IfError( 1/0; 2 )** | Первый аргумент возвращает значение ошибки (из-за деления на ноль). Функция принимает второй аргумент и возвращает его как результат. | 2 |
| **IfError(1/0; Notify( "Возникла внутренняя проблема"; NotificationType.Error ) )** | Первый аргумент возвращает значение ошибки (из-за деления на ноль). Функция принимает второй аргумент и отображает сообщение для пользователя. Возвращаемое значение функции **IfError** представляет собой возвращаемое значение функции **Notify**, приведенное к типу первого аргумента функции **IfError** (число). | 1 |
| **IfError (1, 2, 3, 4, 5)** | Первый аргумент не является ошибкой, поэтому функция не вычисляет, что аргумент соответствующему резервный. Третий аргумент, не является ошибкой, поэтому функция не вычисляет, что аргумент соответствующему резервный. Пятый аргумент не имеет соответствующего отката и является результатом по умолчанию. Функция возвращает полученный результат, поскольку формула не содержит ошибок. | 5 |

### <a name="step-by-step"></a>Шаг за шагом

1. Добавьте элемент управления **[Text input](../controls/control-text-input.md)** с именем **TextInput1** (возможно, такое имя будет указано по умолчанию).

2. Добавьте элемент управления **[Label](../controls/control-text-box.md)** с именем **Label1** (возможно, такое имя будет указано по умолчанию).

3. Установите следующую формулу для свойства **Text** элемента управления **Label1**:

    **IfError( Value( TextInput1.Text ); –1 )**

4. В поле **TextInput1** введите **1234**.  

    В метке Label1 будет отображаться значения **1234**, так как это значение является допустимым для функции Value.

5. В поле **TextInput1** введите **ToInfinity**.

    В метке управления Label1 будет отображаться значение **–1**, так как это значение не является допустимым для функции Value.  Если не обернуть функцию Value в IfError, в метке не будет отображаться значение, так как ошибочное значение считается *пустым*. 

