---
title: Типы данных | Документация Майкрософт
description: Типы данных в приложениях на основе холста
author: gregli-msft
manager: kvivek
ms.service: powerapps
ms.topic: reference
ms.custom: canvas
ms.reviewer: anneta
ms.date: 05/19/2019
ms.author: gregli
search.audienceType:
- maker
search.app:
- PowerApps
ms.openlocfilehash: f9acc04a9159349075647ca4e318f15939a230f7
ms.sourcegitcommit: aa9f78c304fe46922aecfe3b3fadb6bda72dfb23
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/24/2019
ms.locfileid: "66216633"
ms.PowerAppsDecimalTransform: true
---
# <a name="data-types-in-canvas-apps"></a>Типы данных в приложениях на основе холста

Сведения, проходит через приложение в небольшой, дискретные значения, очень похожую ячейки электронной таблицы. Например, данные в **день рождения** поля и **Годовщина** поля и передаются через как **даты** значением, которое содержит года, месяца и дня. Приложение знает, как форматировать эти значения, ограничить ввод данных определяется разрешениями, подходящими для каждого и используют значения с базой данных. Дни рождения отличаются от годовщины людям, а система обрабатывает их точно таким же образом. В этом случае **даты** является примером [тип данных](https://en.wikipedia.org/wiki/Data_type).

Эта статья содержит сведения для типов данных, поддержка приложений на основе холста. Когда приложение подключается к внешнему источнику данных, каждого типа данных в указанном источнике сопоставляется с типом данных для приложений на основе холста.

| Тип данных | Описание | Примеры |
|-----------|-------------|---------|
| **Логическое значение** | Объект *true* или *false* значение.  Можно использовать непосредственно в **Если**, **фильтра** и других функций без сравнение.  | *true* |
| **Гиперссылки** | Текстовая строка, которая содержит гиперссылку. | **"http://powerapps.microsoft.com"** |
| **Валюта** | Значение валюты, которые хранятся в число с плавающей запятой. Значения валют: так же, как числовые значения с параметрами форматирования денежных единиц.  | **123**<br>**4.56** |
| **Изображение** | Объект [универсальный идентификатор ресурса (URI)](https://en.wikipedia.org/wiki/Uniform_Resource_Identifier) форматирует текстовую строку к изображению в .jpeg, .png, .svg, GIF и других распространенных веб-образ. | **MyImage** добавлен в качестве ресурса приложения<br>**"https://northwindtraders.com/logo.jpg"**<br>**«appres://blobmanager/7b12ffa2...»** |
| **Цвет** | Спецификация цвет, включая альфа-канал. | **Color.Red**<br>**ColorValue( "#102030" )**<br>**RGBA (255, 128, 0, 0,5)** |
| **Дата** | Дата без времени, часовой пояс пользователя приложения. | **Дата (2019 г., 5, 16)** |
| **Даты и времени** | Дата с временем, в часовом поясе пользователя приложения. | **DateTimeValue («16 мая 2019 г. 13:23:09: 00»)** |
| **ИДЕНТИФИКАТОР GUID** | Объект [глобальный уникальный идентификатор](https://en.wikipedia.org/wiki/Universally_unique_identifier). | **GUID()**<br>**GUID( "123e4567-e89b-12d3-a456-426655440000" )** |
| **Мультимедиа** | Текстовая строка URI, чтобы запись звука и видео. | **MyVideo** добавлен в качестве ресурса приложения<br>**"https://northwindtraders.com/intro.mp4"**<br>**"appres://blobmanager/3ba411c..."** |
| **номер** | Число с плавающей запятой. | **123**<br>**-4.567**<br>**8.903e121** |
| **Набор параметров** | Выбор из набора параметров, поддерживаемый номер. Этот тип данных объединяет локализуемый текст метки с числовым значением. Подпись отображается в приложении, а числовое значение хранится и используется для сравнения. | **ThisItem.OrderStatus** |
| **Запись** | Запись значений данных. Этот составной тип данных содержит экземпляры других типов данных, которые перечислены в этом разделе. Дополнительные сведения: [Работа с таблицами](../working-with-tables.md). | **{Компании: «Борей»;<br>сотрудников: 35; <br>некоммерческих организаций: false}** |
| **Ссылка на запись** | Ссылка на запись в сущности. Такие ссылки часто используются с полиморфным уточняющих запросов. Дополнительные сведения: [Работа со ссылками на](../working-with-references.md).| **First(Accounts). Владелец** |
| **Таблицы** | Таблица записей.  Все записи должны иметь те же имена их полей с теми же типами данных и пропущенные поля обрабатываются как *пустой*. Этот составной тип данных содержит экземпляры других типов данных, которые перечислены в этом разделе. Дополнительные сведения: [Работа с таблицами](../working-with-tables.md). | **Таблицы ({FirstName: «Сидни»;<br>LastName: «Хига»}; <br>{FirstName: «Иван»;<br>LastName: «Андерсон»})**
| **Текст** | Текстовая строка Юникода. | **«Hello, World»** |
| **время** | Время без даты в часовом поясе пользователя приложения. | **Время (11, 23, 45)** |
| **Два параметра** | Выбор из набора вариантов, поддерживаемый логическое значение. Этот тип данных объединяет локализуемый текст метки с логическим значением. Подпись отображается в приложении, и логическое значение, которое хранится и используется для сравнения. | **ThisItem.Taxable** |

Многие из этих типов данных похожи и иметь аналогичным базовым представлением, такие как **Hyperlink** поле, которые обрабатываются как **текст**.  Дополнительные типы данных предоставляют лучшую по умолчанию взаимодействие в формах и других элементов управления.

## <a name="blank"></a>Blank

Все типы данных могут иметь значение *пустой* (другими словами, без значения). Термин «null» часто используется в базах данных для этой концепции.  

Используйте **пустой** функционировать с **задать** или **Patch** функции, чтобы задать переменную или поле *пустой*. Например **набора (x; Blank())** удаляет любое значение в глобальной переменной **x**.  

Для проверки *пустой* значение с помощью [ **IsBlank** ](function-isblank-isempty.md) функции. Можно заменить *пустой* значения которых отлично от*пустой* значения с помощью [ **Coalesce** ](function-isblank-isempty.md) функции.

Так как все типы данных поддерживают *пустой*, **логическое** и **два параметра** типы данных эффективно имеют три возможных значения.

## <a name="text-hyperlink-image-and-media"></a>Текст, гиперссылку, изображения и мультимедиа

Все четыре этих типов данных основаны на [Юникода](https://en.wikipedia.org/wiki/Unicode) текстовую строку.

### <a name="image-and-media-resources"></a>Ресурсы изображения и мультимедиа

Через **файл** меню, добавляемые файлы изображений, видео и аудио в качестве ресурсов приложения. Имя импортируемого файла становится имя ресурса в приложении. На этом графике, логотип Northwind Traders, которая называется **nwindlogo**, был добавлен в приложение:

![](media/data-types/nwind-resource.png)

Чтобы использовать этот ресурс в приложении, укажите его в **изображение** свойство [ **изображение** ](../controls/control-image.md) управления:

![](media/data-types/nwind-image.png)

### <a name="uris-for-images-and-other-media"></a>URI для изображения и другие файлы мультимедиа

Вы можете углубленно в последнего примера, задав **текст** свойство [ **метка** ](../controls/control-text-box.md) управления **nwindlogo**. В метке строку текста:

![](media/data-types/nwind-text.png)

Приложения на основе холста ссылаться на каждое изображение или другого файла мультимедиа, в облаке или добавить в качестве ресурса приложения, URI текстовой строкой.

Например **изображение** свойство элемента управления image принимает не только ресурсы приложения, но и ссылки на изображения в Интернете, такие как "https://northwindtraders.com/logo.jpg«. Свойство также принимает встроенные изображения, использующих [схема URI данных](https://en.wikipedia.org/wiki/Data_URI_scheme), как показано в этом примере:

```powerapps-comma
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAFAQMAAACtnVQoAAAABlBMVEUAAAB0J3UMNU6VAAAAAXRSTlMAQObYZgAAABRJREFUCNdjUGJgCGVg6GgAkkA2AA8/AffqCEBsAAAAAElFTkSuQmCC"
```

Этот URI отображает версию масштабируемых сиреневый бубен:

![](media/data-types/double-diamonds.png)

Можно отобразить последние изображение, создаваемое в [ **камеры** ](../controls/control-camera.md) управления, если задать **изображение** свойство элемента управления изображения для **Photo** свойство элемента управления камеры. Приложение хранит изображения в памяти и **Photo** свойство элемента управления камеры возвращает URI-ссылка в образ. Например, может потребоваться изображения и камеры **Photo** свойство может возвращать **«appres://blobmanager/7b12ffa2ea4547e5b3812cb1c7b0a2a0/1»** .

Используйте URI для ссылки на изображение или другой файл мультимедиа, хранимых в базе данных. Таким образом, приложение не извлекает фактические данные, пока он фактически потребуется. Например, может возвращать вложения в сущности Common Data Service **«appres://datasources/Contacts/table/...»** Как показано в примере камеры, этот образ можно отобразить, задав **изображение** свойство элемента управления к этой ссылке, который извлекает двоичные данные изображения.

При сохранении данных тип мультимедиа, например изображения, в базе данных, приложение отправляет фактически заданного изображения или мультимедиа-данных, не URI-ссылка.

### <a name="size-limits"></a>Ограничения размера

Как текстовые строки и коды URI эти типы данных не имеют Предустановленные ограничения на их длины.

Двоичные данные, которые ссылаются на эти типы данных, также может не ограничено размера. Например, образа, записанного через элемент управления камеры, который теперь есть ссылки как **«appres: / /...»** может быть как большой высоким разрешением и, как можно muster камеры устройства. Разрешение, частоту кадров и другие атрибуты файлов мультимедиа не ограничиваются типом данных, но определенные элементы управления для воспроизведения и записи мультимедиа может иметь свои собственные ограничения.

Тем не менее все размеры данных подвержены объем доступной памяти в приложении. Браузеры, работающих на настольном компьютере, обычно поддерживают более чем 100 МБ. Однако объем доступной памяти на устройстве, например телефон может быть гораздо ниже, обычно в диапазоне 30 – 70 МБ. Чтобы определить, будет ли приложение работать в рамках этих ограничений, протестируйте распространенные сценарии на всех устройствах, на которых он должен выполняться.

Рекомендуется хранят данные в памяти только при условии необходимости. Отправка образов в базу данных, как только вы можете; Скачайте образы только в том случае, когда пользователь приложения запрашивает их.

## <a name="number-and-currency"></a>Номер и валюты

**Номер** и **валюты** используйте типы данных [standard с плавающей запятой двойной точности IEEE 754](https://en.wikipedia.org/wiki/IEEE_754). Этот стандарт предоставляет очень большой диапазон чисел, в котором будет работать, от –1.79769 x 10<sup>308</sup> 1.79769 x 10<sup>308</sup>. Наименьшее значение, которое может быть представлено — 5 x 10<sup>–324</sup>.

Приложения на основе холста точно может представлять целые числа (или целые числа) между –9,007,199,254,740,991 (– (2<sup>53</sup> – 1)) и 9,007,199,254,740,991 (2<sup>53</sup> – 1) включительно. Этот диапазон больше, чем баз данных обычно используют типы данных 32-разрядных (или 4-байтовое) целое число. Тем не менее приложения на основе холста, не может представлять 64-разрядных (или 8-байтное) целочисленные типы данных. Вы можете хранить числа в текстовом поле или использовать вычисляемый столбец, чтобы скопировать числа в текстовом поле, чтобы он отображался в **текст** тип данных в приложении canvas. Таким образом вы можете удерживать клавишу, отображения и ввести эти значения, а также сравнение их, чтобы определить, является ли они равны; Тем не менее не может выполнять числовые вычисления на них в этой форме.

Арифметические операции с плавающей запятой являются приблизительными, поэтому она иногда может привести к неожиданным результатам с множество примеров документированных. Можно предположить, формула **55 / 100 * 100** для возврата точно 55 и **(55 / 100 * 100) - 55** для возврата равной нулю. Тем не менее, последний формула возвращает 7.1054 x 10<sup>-15</sup>, который слишком мало, но не равно 0. Этот различие не вызывает проблема обычно, и приложение округляет его немедленно при отображении результата. Тем не менее составные в последующих вычислениях и отображаются для предоставления неверный ответ небольшие различия.

Часто системы баз данных хранения валют и выполняют вычисления с использованием десятичных math, который предлагает меньший диапазон, но больший контроль над точность. По умолчанию на основе холста валют карты приложений и из него значения с плавающей запятой; Таким образом результат может отличаться от вычисления, которые выполняются в собственном десятичный тип данных. Если этот тип несоответствие вызовет проблемы, может потребоваться работать с этими значениями как **текст**, так же, как это делается с помощью больших целых чисел, описанные ранее в этом разделе.

## <a name="date-time-and-datetime"></a>Даты, времени и даты-времени

### <a name="time-zones"></a>Часовые пояса

Дата и время осенью значения в этих категориях:

- **Локальный пользователь**: Эти значения хранятся в [UTC (время по Гринвичу)](https://en.wikipedia.org/wiki/Coordinated_Universal_Time), но пользователь приложения часовой пояс влияет на отображения этих значений и каким образом пользователь приложения определяет их. Например тот же момент выглядит по-разному для пользователя в Канаде не так, как пользователю в Японии.
- **Независимо от часового пояса**: Эти значения отображаются на приложение, так же, как и пользователь приложения определяет их так же, независимо от часового пояса. Тот же момент отображается так же пользователю в Канаде, как в случае с пользователем в Японии. Авторы приложения не ожидайте, что приложения для выполнения в разных часовых поясах использовать эти значения, так как они проще в целом.

В этой таблице приведены некоторые примеры.

| Тип даты и времени | Значение, хранящееся в базе данных | Значение отображается и введенный 7 часов западу UTC | Значение отображается и введенный 4 часа к востоку от UTC |
|--------------------------|------------------------------|------------------------------|
| **Локальное время пользователя** | Воскресенье,&nbsp;может&nbsp;19,&nbsp;2019 г.<br>4:00 УТРА | Суббота,&nbsp;может&nbsp;18,&nbsp;2019 г.<br>21:00:00 | Воскресенье,&nbsp;может&nbsp;19,&nbsp;2019 г.<br>8:00:00 |
| **Независимо от часового пояса** | Воскресенье,&nbsp;может&nbsp;19,&nbsp;2019 г.<br>4:00 УТРА | Воскресенье,&nbsp;может&nbsp;19,&nbsp;2019 г.<br>4:00 УТРА | Воскресенье,&nbsp;может&nbsp;19,&nbsp;2019 г.<br>4:00 УТРА | 

Для **локального пользователя** даты/времени, приложения на основе холста используется часовой пояс в браузер или устройство, но приложения на основе модели использовать пользователя общего параметра службы данных. Эти параметры обычно совпадают, но результаты будут отличаться, если эти параметры отличаются.

### <a name="numeric-equivalents"></a>Числовые эквиваленты

Приложения на основе холста, хранения и вычисления все значения даты и времени, является ли **локального пользователя** или **независимо от часового пояса** в формате UTC. Приложение преобразует значения на основе часового пояса пользователя приложения при их отображении и когда пользователь приложения определяет их.

Когда приложение на основе холста считывает **независимо от часового пояса** значение из источника данных или записи, такое значение к источнику данных, приложение автоматически корректирует его, чтобы компенсировать часового пояса пользователя приложения. Затем приложение рассматривает значение в формате UTC, согласованное с другими значениями даты и времени в приложении. Из-за этого компенсации исходного **независимо от часового пояса** значение отображается, когда приложение изменяет значение в формате UTC для часового пояса пользователя приложения.

Более подробно это поведение можно наблюдать с помощью [ **значение** ](function-value.md) функция сможет обращаться к базовой числовое значение для значения даты и времени. Эта функция возвращает значение даты и времени как количество миллисекунд с 1 января 1970 года 00:00:00.000 в формате UTC.

Так как каждое значение даты и времени хранится в формате UTC, формула **значения (даты (1970 г., 1, 1))** не возвращает нуль в большинстве частях мира, так как **даты** функция возвращает дату в формате UTC. Например формула вернет 28,800,000 в часовом поясе, со смещением от времени UTC на восемь часов. Это число отражает количество миллисекунд в восемь часов.

Возвращаясь к нашему примеру, выше:

| Тип даты и времени | Значение, хранящееся в базе данных | Значение отображается и введенный 7 часов западу UTC | **Значение** возвращает |
|--------------------------|------------------------------|------------------------------|
| **Локальное время пользователя** | Воскресенье,&nbsp;может&nbsp;19,&nbsp;2019 г.<br>4:00 УТРА | Суббота,&nbsp;может&nbsp;18,&nbsp;2019 г.<br>21:00:00 | 1,558,238,400,000<br> (Воскресенье,&nbsp;может&nbsp;19,&nbsp;2019 г.<br>4:00 ПО ГРИНВИЧУ) |
| **Независимо от часового пояса** | Воскресенье,&nbsp;может&nbsp;19,&nbsp;2019 г.<br>4:00 УТРА | Воскресенье,&nbsp;может&nbsp;19,&nbsp;2019 г.<br>4:00 УТРА |1,558,263,600,000<br> (Воскресенье,&nbsp;может&nbsp;19,&nbsp;2019 г.<br>11:00 ПО ГРИНВИЧУ) |

### <a name="converting-unix-times"></a>Преобразование времени из Unix

UNIX отражают количество секунд, прошедших с 1 января 1970 г. 00:00:00 UTC. Поскольку приложения на основе холста использовать миллисекунд вместо секунд, их можно преобразовать между двумя путем умножения или деления на 1000.

Например, время в формате Unix показано 9 сентября 2001 г., в 01:46:40 UTC как 1 000 000 000. Чтобы показать, даты и времени значения в приложение на основе холста, умножьте это число на 1000 для преобразования его в миллисекундах, а затем использовать его в [ **текст** ](function-text.md) функции. Формула **текст (1000000000 * 1000, DateTimeFormat.UTC)** возвращает строку **2001-09-09T01:46:40.000Z**.

Тем не менее, эта функция возвращает **суббота, 8 сентября 2001 г. 18:46:40** при использовании **DateTimeFormat.LongDateTime24** формат в часовом поясе,-7 часов смещения относительно времени UTC (7 часов западу UTC). Этот результат показывает **DateTime** значение, основанное на местный часовой пояс правильно.

Чтобы преобразовать время в формате Unix, разделить результат из **значение** 1 000:
<br>**RoundDown( Value( UnixTime ) / 1000; 0 )**

Если вам требуется времени Unix в **даты** значение для дальнейшего вычислений или отображения в PowerApps, используйте следующую формулу:
<br>**DateAdd (даты (1970,1,1), UnixTime, секунд)**

### <a name="sql-server"></a>SQL Server

SQL Server имеет [ **Datetime**, **Datetime2**и другие типы данных даты и времени](https://docs.microsoft.com/sql/t-sql/functions/date-and-time-data-types-and-functions-transact-sql?view=sql-server-2017) , не включайте смещение часового пояса и не указать, какой часовой пояс в которых они расположены. Предполагается приложений на основе холста, эти значения хранятся в формате UTC и обрабатывать их как **локального пользователя**. Если значения должны быть независимо от часового пояса, исправьте для переводов в формате UTC с помощью [ **TimeZoneOffset** ](function-dateadd-datediff.md#converting-to-utc) функции.

Приложения на основе холста использовать данные часового пояса, включенные в **Datetimeoffset** полей при преобразовании значения в приложения внутреннее представление в формате UTC. Приложения всегда используют UTC часовому поясу (нулевое смещение часового пояса) при их записи данных.

Приложения на основе холста, чтение и запись значений [ **время** ](https://docs.microsoft.com/en-us/sql/t-sql/data-types/time-transact-sql) тип данных в SQL Server как текстовые строки в [формате длительности ISO 8601](https://en.wikipedia.org/wiki/ISO_8601#Durations). Например, необходимо проанализировать этот формат строки и использовать [ **время** ](function-date-time.md) функцию для преобразования текстовой строке **«PT2H1M39S»** для **время** значение:

```powerapps-comma
First(
    ForAll(
        MatchAll( "PT2H1M39S"; "PT(?:(?<hours>\d+)H)?(?:(?<minutes>\d+)M)?(?:(?<seconds>\d+)S)?" );
        Time( Value( hours ); Value( minutes ); Value( seconds ) )
    )
).Value
```

### <a name="mixing-date-and-time-information"></a>Совместное использование сведений о дате и времени

**Дата**, **время**, и **DateTime** имеют разные имена, но все они сохраняют те же сведения о значения даты и времени. 

Объект **даты** значение может содержать сведения о времени с ним, как правило, это полуночи. Объект **время** значение может содержать сведения о дате, как правило, это 1 января 1970 года. Common Data Service также хранит сведения о времени с помощью **только дата** поле Но показывает только данные о дате по умолчанию. Аналогичным образом приложения на основе холста иногда различать эти типы данных, чтобы определить форматы по умолчанию и элементов управления.

Добавление и вычитание значений даты и времени, непосредственно не рекомендуется, поскольку часового пояса и другие преобразования может привести к нежелательным результатам. Использовать **значение** функция сначала преобразовать значения даты и времени в миллисекундах и с учетом часового пояса пользователя приложения, или использовать [ **DateAdd** ](function-dateadd-datediff.md) и [ **DateDiff** ](function-dateadd-datediff.md) функции, чтобы добавить или вычесть из одного из следующих значений.

## <a name="option-sets-and-two-options"></a>Наборы параметров и два варианта

Наборы параметров и типы данных два параметра предоставляют два или более вариантов для пользователя приложения для выбора. Например **состояние заказа** набор параметров может предложить варианты **New**, **Shipped**, **выставлен счет**, и **закрыто** . Тип данных двух параметр предлагает только два варианта.

Оба этих типа данных отобразить их метки в контексте строк текста. Например, элемент управления label показан один из параметров состояния заказа при элемента управления **текст** свойству формулу, которая ссылается на этот набор параметров. Параметр метки может локализуется для пользователей приложения в разных расположениях.

Когда пользователя приложения один из вариантов и сохраняет это изменение, приложение передает данные в базу данных, где хранятся эти данные в представление, которое не зависит от языка. Один из вариантов в набор параметров, отправленных и хранится в виде числа, и значение в тип данных два параметра передаются и хранятся в виде логическое значение.

Метки находятся только в целях отображения. Невозможно выполнить прямые сравнения с метками, так как они для конкретного языка. Вместо этого каждый набор параметров имеет перечисление, которое работает с базовой число или логическое значение. Например нельзя использовать следующую формулу:

`If( ThisItem.OrderStatus = "Active"; ...`

Но вы можете использовать следующую формулу:

`If( ThisItem.OrderStatus = OrderStatus.Active; ...`

Для глобальных наборов параметров (совместно используют какие сущности), имя перечисления набор параметров совпадает с именем набор глобальных параметров. Для Локальные наборы параметров (которые относятся к сущности) имя может содержать имя сущности. Это поведение позволяет избежать конфликтов, если несколько сущностей имеют наборы параметров, которые имеют одинаковые имена. Например **учетные записи** сущность может иметь **OrderStatus** параметр установлен, и ее имя может быть **OrderStatus (учетные записи)** . Это имя содержит один или несколько пробелов, так и круглые скобки, поэтому если вы ссылаетесь в формуле необходимо заключить в одинарные кавычки.

Кроме того значения двух параметров также может выступать в качестве логических значений. Например, значение двух параметр с именем **TaxStatus** может иметь метки **налогом** и **не налогом**, которые соответствуют *true* и *false* соответственно. Чтобы продемонстрировать, можно использовать следующую формулу:

`If( ThisItem.Taxable = TaxStatus.Taxable; ...`

Можно также использовать этой аналогичной формулы:

`If( ThisItem.Taxable; ...`