---
title: Объект приложения | Документация Майкрософт
description: Справочные сведения, включая синтаксис и примеры, для объекта приложения в PowerApps
author: gregli-msft
manager: kvivek
ms.service: powerapps
ms.topic: reference
ms.custom: canvas
ms.reviewer: tapanm
ms.date: 05/29/2019
ms.author: gregli
search.audienceType:
- maker
search.app:
- PowerApps
ms.openlocfilehash: c2e34a9f466fcb64bcf14ef6a504d5b18b0a596d
ms.sourcegitcommit: dd2a8a0362a8e1b64a1dac7b9f98d43da8d0bd87
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/02/2019
ms.locfileid: "74676743"
---
# <a name="app-object-in-powerapps"></a>Объект приложения в PowerApps

Предоставляет сведения о работающем в настоящее время приложении и контроле над поведением приложения.

## <a name="description"></a>Description

Как и элемент управления, объект **приложения** предоставляет свойства, определяющие отображаемый экран и предлагающий пользователю сохранить изменения, чтобы они не были потеряны. У каждого приложения есть объект **приложения** .

Можно написать формулы для некоторых свойств объекта **приложения** . В верхней части панели **представления в виде дерева** выберите объект **приложения** , как и любой другой элемент управления или экран. Просмотрите и измените одно из свойств объекта, выбрав его в раскрывающемся списке слева от строки формул.

> [!div class="mx-imgBorder"]
> ![объект приложения на панели древовидного представления](media/object-app/appobject.png)

## <a name="activescreen-property"></a>Активескрин, свойство

Свойство **активескрин** определяет экран, который отображается.

Это свойство возвращает объект Screen, который можно использовать для ссылки на свойства экрана или сравнения с другим экраном для определения отображаемого экрана. Можно также использовать выражение **app.ActiveScreen.Name** для получения имени отображаемого экрана.

Используйте функцию **[назад](function-navigate.md)** или **[navigate](function-navigate.md)** , чтобы изменить отображаемый экран.

## <a name="onstart-property"></a>Свойство OnStart

Свойство **OnStart** выполняется, когда пользователь запускает приложение. Руководители приложений часто используют это свойство для выполнения следующих задач:

- Извлечение и кэширование данных в коллекциях с помощью функции **[сбора](function-clear-collect-clearcollect.md)** .
- Настройте глобальные переменные с помощью функции **[Set](function-set.md)** .
- Перейдите к начальному экрану с помощью функции **[navigate](function-navigate.md)** .

Формула вычисляется до появления первого экрана. Экран не загружается, поэтому нельзя задать переменные контекста с помощью функции **[упдатеконтекст](function-updatecontext.md)** . Однако можно передать переменные контекста с помощью функции **navigate** .

После изменения свойства **OnStart** протестируйте его, наведя указатель мыши на объект **приложения** на панели **древовидного представления** , нажав кнопку с многоточием (...), а затем выбрав команду **запустить OnStart**. В отличие от загрузки приложения в первый раз, существующие коллекции и переменные уже будут установлены. Чтобы начать с пустых коллекций, используйте функцию **[клеарколлект](function-clear-collect-clearcollect.md)** вместо функции **сбора** .

> [!div class="mx-imgBorder"]
> ![контекстное меню элемента приложения для запуска](media/object-app/appobject-runonstart.png)

## <a name="confirmexit-properties"></a>Свойства Конфирмексит

Никто не хочет потерять несохраненные изменения. Используйте свойства **конфирмексит** и **конфирмекситмессаже** , чтобы предупредить пользователя перед закрытием приложения.

> [!NOTE]
> **Конфирмексит** не работает в приложениях, внедренных в, например Power BI и SharePoint.

> [!NOTE]
> В настоящее время эти свойства могут ссылаться на элементы управления только на первом экране, если включена функция предварительной **загрузки с отложенной нагрузкой** (которая по умолчанию используется для новых приложений). Если ссылки сделаны, Power Apps Studio не отображает ошибку, но полученное опубликованное приложение не открывается в Power Apps Mobile или в браузере. Мы активно работаем над поднятием этого ограничения. Пока вы можете отключить **отложенную загрузку** в **файле** > **Параметры приложения** > **Дополнительные параметры** (в разделе **предварительные версии функций**).

### <a name="confirmexit"></a>конфирмексит

**Конфирмексит** — это логическое свойство, которое при *значении true*открывает диалоговое окно подтверждения перед закрытием приложения. По умолчанию это свойство имеет *значение false*, и диалоговое окно не отображается.

Это свойство используется для отображения диалогового окна подтверждения, если пользователь внес изменения, но не сохранил их. Используйте формулу, которая может проверять переменные и свойства элементов управления (например, **несохраненное** свойство элемента управления [**формы редактирования**](../controls/control-form-detail.md) ).

Диалоговое окно подтверждения появляется в любой ситуации, когда данные могут быть потеряны, как в следующих примерах:

- Выполнение функции [**Exit**](function-exit.md) .
- Если приложение выполняется в браузере:
  - Закрытие браузера или вкладки браузера, в которой выполняется приложение.
  - Нажав кнопку назад в браузере.
- Если приложение выполняется в Power Apps Mobile (iOS или Android):
  - Запуск функции [**запуска**](function-param.md) .<br>Функция **запуска** не запускает диалоговое окно в браузере, так как открывается другая вкладка, в результате чего данные не теряются.
  - Прокрутка для переключения на другое приложение в Power Apps Mobile.
  - Нажатие кнопки "назад" на устройстве Android.

Точный вид диалогового окна подтверждения может различаться для разных устройств и версий PowerApps.

Диалоговое окно подтверждения не отображается в Power Apps Studio.

### <a name="confirmexitmessage"></a>конфирмекситмессаже

По умолчанию в диалоговом окне подтверждения отображается общее сообщение, например **"у вас могут быть несохраненные изменения".** на языке пользователя.

Используйте **конфирмекситмессаже** для предоставления пользовательского сообщения в диалоговом окне подтверждения. Если *это свойство не*задано, используется значение по умолчанию. Пользовательские сообщения усекаются по мере необходимости для размещения в диалоговом окне подтверждения, поэтому не заключайте сообщение в несколько строк.

В браузере диалоговое окно подтверждения может появиться с общим сообщением от браузера.

### <a name="example"></a>Пример

1. Создайте приложение, которое содержит два элемента управления формы, **аккаунтформ** и **контактформ**.

1. Задайте для свойства **конфирмексит** объекта **приложения** следующее выражение:

    ```powerapps-dot
    AccountForm.Unsaved Or ContactForm.Unsaved
    ```

    Это диалоговое окно появляется, если пользователь изменяет данные в любой из форм, а затем пытается закрыть приложение без сохранения этих изменений.

    > [!div class="mx-imgBorder"]
    > ![универсальное диалоговое окно подтверждения](media/object-app/confirm-native.png)

1. Задайте для свойства **конфирмекситмессаже** объекта **приложения** следующую формулу:

    ```powerapps-dot
    If( AccountsForm.Unsaved,
        "Accounts form has unsaved changes.",
        "Contacts form has unsaved changes."
    )
    ```

    Это диалоговое окно появляется, если пользователь изменяет данные в форме учетной записи, а затем пытается закрыть приложение без сохранения этих изменений.

    > [!div class="mx-imgBorder"]
    > ![диалоговое окно подтверждения, зависящее от формы](media/object-app/confirm-native-custom.png)
