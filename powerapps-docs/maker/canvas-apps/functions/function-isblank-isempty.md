---
title: Функции Blank, Coalesce, IsBlank и IsEmpty | Документация Майкрософт
description: Справочные сведения о функциях Blank, Coalesce, IsBlank и IsEmpty в PowerApps, в том числе описание синтаксиса и примеры
author: gregli-msft
manager: kvivek
ms.service: powerapps
ms.topic: reference
ms.custom: canvas
ms.reviewer: tapanm
ms.component: canvas
ms.date: 08/27/2019
ms.author: gregli
search.audienceType:
- maker
search.app:
- PowerApps
ms.openlocfilehash: d932d43bd9474f3cd7ca63ef0ef0a51a9e74ca91
ms.sourcegitcommit: 7dae19a44247ef6aad4c718fdc7c68d298b0a1f3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/07/2019
ms.locfileid: "71984740"
---
# <a name="blank-coalesce-isblank-and-isempty-functions-in-powerapps"></a>Функции Blank, Coalesce, IsBlank и IsEmpty в PowerApps
Эти функции позволяют проверить, является ли значение пустым и отсутствуют ли в [таблице](../working-with-tables.md) [записи](../working-with-tables.md#records), а также позволяют создавать *пустые* значения.

## <a name="overview"></a>Обзор
*Blank* — это заполнитель, который применяется, если значение отсутствует или неизвестно.  Например, **выбранное** свойство элемента управления **["поле со списком"](../controls/control-combo-box.md)** *пустое* , если пользователь не внес выделения. Многие источники данных могут сохранять и возвращать значения NULL, которые представлены в PowerApps как *пустые*.

Любое свойство или вычисляемое значение в PowerApps может быть *пустым*.  Например, логическое значение обычно принимает одно из двух значений: **true** или **false**.  Но в дополнение к этим двум они также могут быть *пустыми* , указывая, что состояние неизвестно.  Это похоже на Microsoft Excel, где ячейка листа начинается с пробела без содержимого, но может содержать значения **true** или **false** (помимо прочих). В любой момент можно снова очистить содержимое ячейки, возвращая его в *пустое* состояние.

*Пустая строка* ссылается на строку, которая не содержит символов.  Функция [ **Len** ](function-len.md) возвращает ноль для такой строки, и она может быть написана в формулах как две двойные кавычки с Nothing в промежутке между `""`.  Некоторые элементы управления и источники данных используют пустую строку для обозначения условия "без значения".  Чтобы упростить создание приложений, функции IsEmpty и **объединения** проверяют как *пустые* значения, **так и пустые** строки.    

В **контексте функции IsEmpty** *пустое* значение относится только к таблицам, которые не содержат записей. Структура таблицы может быть неповрежденной, таблица может содержать имена [столбцов](../working-with-tables.md#columns), но при этом не содержать каких-либо данных. Таблица может быть изначально пустой, перестать быть пустой по мере заполнения данными, а затем снова стать пустой, после того как данные будут удалены.

> [!NOTE]
> Мы в течение периода перехода.  До настоящего момента *пусто* также было использовано для сообщения об ошибках, что делает невозможным невозможность отличия допустимого значения "No value" от ошибки.  Поэтому в настоящее время хранение *пустых* значений поддерживается только для локальных коллекций.  Можно сохранить *пустые* значения в других источниках данных, если включить экспериментальную функцию "Управление ошибками на уровне формул" в меню "файл", "Параметры приложения", "Дополнительные параметры", "экспериментальные функции".  Мы активно работаем над завершением этой функции и завершением правильного разделения *пустых* значений из ошибок.

## <a name="description"></a>Описание
Функция **Blank** возвращает *пустое* значение. Используйте эту функцию, чтобы сохранить значение NULL в источнике данных, который поддерживает эти значения, и удалить все значения из этого поля.

Функция **IsEmpty** проверяет наличие *пустого* значения или пустой строки.  Тест включает пустые строки для упрощения создания приложений, так как некоторые источники данных и элементы управления используют пустую строку, если значение не существует.  Чтобы протестировать специально для *пустого* значения, используйте `if( Value = Blank(), ...` вместо **"blank".**

Функция **объединения** вычисляет свои аргументы по порядку и возвращает первое значение, которое не является *пустым* или пустой строкой.  Используйте эту функцию, чтобы заменить *пустое* значение или пустую строку другим значением, но оставьте*непустые* и непустые строковые значения без изменений.  Если все аргументы *пусты* или являются пустыми строками, функция возвращает *пустое*значение, делая **объединением** пустого способа преобразовать пустые строки в *пустые* значения.  Все аргументы для **Coalesce** должны относиться к одному типу. Например, нельзя комбинировать числа с текстовыми строками.  

`Coalesce( value1, value2 )` является более кратким эквивалентом `If( Not IsBlank( value1 ), value1, Not IsBlank( value2 ), value2 )` и не требует, чтобы вычислить значение **Значение1** и **value2** дважды.  Функция [ **If** ](function-if.md) возвращает значение *Blank* , если в этом случае отсутствует формула "else".

Функция **IsEmpty** проверяет, содержит ли таблица какие-либо записи. Это аналогично использованию функции **[CountRows](function-table-counts.md)** и проверке на наличие нулевых значений. Чтобы проверить на наличие ошибок источника данных, можно использовать функцию **IsEmpty** вместе с функцией **[Errors](function-errors.md)** .

Для функций **IsBlank** и **IsEmpty** возвращается логическое значение: **true** или **false**.

## <a name="syntax"></a>Синтаксис
**Blank**()

**Coalesce**( *Value1* [, *Value2*, ... ] )

* Значения *Value* — обязательные аргументы. Проверяемые значения.  Каждое значение вычисляется по порядку, пока не будет обнаружено значение, *которое не является пустым, а не* пустой строкой.  Значения после этой точки не оцениваются.  

**IsBlank**( *Value* )

* *Value* — обязательный аргумент. Значение для проверки на *пустое* значение или пустую строку.

**IsEmpty**( *Table* )

* *Table* — обязательный аргумент. Таблица для проверки записей.

## <a name="examples"></a>Примеры
### <a name="blank"></a>Функция Blank
> [!NOTE]
> Сейчас следующий пример работает только для локальных коллекций.  Можно сохранить *пустые* значения в других источниках данных, если включить экспериментальную функцию "Управление ошибками на уровне формул" в меню "файл", "Параметры приложения", "Дополнительные параметры", "экспериментальные функции".  Мы активно работаем над тем, чтобы завершить эту функцию и завершить разделение *пустых* значений из числа ошибок.

1. Создайте приложение с нуля и добавьте элемент управления **Кнопка**.
2. Задайте для свойства кнопки **[OnSelect](../controls/properties-core.md)** эту формулу:

    ```powerapps-dot
    ClearCollect( Cities, { Name: "Seattle", Weather: "Rainy" } )
    ```
3. Просмотрите приложение, нажмите добавленную кнопку, а затем закройте режим предварительного просмотра.  
4. В меню **Файл** щелкните или коснитесь **Коллекции**.

     После этого отобразится коллекция **Cities** с записями Seattle и Rainy:

    ![Коллекция с записью Seattle и Rainy](./media/function-isblank-isempty/seattle-rainy.png)
5. Нажмите кнопку со стрелкой "Назад", чтобы вернуться в рабочую область по умолчанию.
6. Добавьте элемент управления **Метка** и задайте в качестве значения свойства **Text** следующую формулу:

    ```powerapps-dot
    IsBlank( First( Cities ).Weather )
    ```

    Метка отображает значение **false**, так как поле **Weather** содержит значение (Rainy).
7. Добавьте вторую кнопку и задайте в качестве значения свойства **OnSelect** следующую формулу:

    ```powerapps-dot
    Patch( Cities, First( Cities ), { Weather: Blank() } )
    ```
8. Просмотрите приложение, нажмите добавленную кнопку, а затем закройте режим предварительного просмотра.  

    Из поля **Weather** первой записи в коллекции **Cities** удалили Rainy, в результате чего оно стало *пустым*.

    ![Коллекция с записью Seattle и пустым полем Weather](./media/function-isblank-isempty/seattle-blank.png)

    Метка отображает значение **true**, так как в поле **Weather** отсутствует значение.

### <a name="coalesce"></a>Coalesce

| Формула | Описание | Возвращаемый результат |
| --- | --- | --- |
| **Объединение (&nbsp;пусто (),&nbsp;1&nbsp;)** |Проверяет возвращаемое функцией **Blank** значение (всегда *пустое*). Поскольку первый аргумент *пуст*, вычисление продолжится со следующим аргументом, пока не будет обнаружено*непустое* значение и непустая строка. |**1** |
| **Объединение ("", 2)** |Проверяет первый аргумент, который является пустой строкой. Поскольку первый аргумент представляет собой пустую строку, вычисление продолжится со следующим аргументом, пока не будет обнаружено*непустое* значение и непустая строка. |**2** |
| **Объединение (пустое (), "", пустое (), "", 3, 4)** |**Объединение** начинается с начала списка аргументов и вычисляет каждый аргумент, в свою очередь, до тех пор, пока не будет обнаружено*непустое* значение и непустая строка.  В этом случае первые четыре аргумента возвращают *пустое* значение или пустую строку, поэтому вычисление продолжится до пятого аргумента. Пятый аргумент имеет*непустую* строку и не является пустой строкой, поэтому оценка здесь останавливается. Возвращается значение пятого аргумента, а шестой аргумент не оценивается. |**3** |
| **Объединение ("")** | Проверяет первый аргумент, который является пустой строкой. Поскольку первый аргумент представляет собой пустую строку, и больше нет аргументов, функция возвращает *пустое*значение.   |*пустое значение* |

### <a name="isblank"></a>IsBlank
1. Создайте приложение с нуля, добавьте элемент управления "Текстовое поле" и назовите его **FirstName**.
2. Добавьте метку и задайте для нее следующую формулу в качестве значения свойства **[Text](../controls/properties-core.md)** :

    ```powerapps-dot
    If( IsBlank( FirstName.Text ), "First Name is a required field." )
    ```

    По умолчанию свойство элемента управления "Текстовое поле" **[Text](../controls/properties-core.md)** имеет значение **Text input**. Так как свойство содержит значение, оно не пустое и метка не отображает никакие сообщения.
3. Удалите все символы из элемента управления "Текстовое поле", в том числе пробелы.

    Так как свойство **[Text](../controls/properties-core.md)** больше не содержит символов, оно является пустой строкой, а параметром IsEmpty **(FirstName. Text)** будет **true**. Отобразится сообщение "Обязательное поле".

Сведения о выполнении проверки с помощью других средств см. в статьях **[Функция Validate в Microsoft PowerApps](function-validate.md)** и [Общие сведения об источниках данных в PowerApps](../working-with-data-sources.md).  

Другие примеры:

| Формула | Описание | Возвращаемый результат |
| --- | --- | --- |
| **Blank (&nbsp;пусто ()&nbsp;)** |Проверяет возвращаемое функцией **Blank** значение (всегда *пустое*). |**true** |
| **IsBlank( "" )** |Строка, которая не содержит символы. |**true** |
| **IsBlank( "Hello" )** |Строка, содержащая один или несколько символов. |**false** |
| **IsBlank( *AnyCollection* )** |Так как [коллекция](../working-with-data-sources.md#collections) существует, она не считается пустой, даже если не содержит ни одной записи. Чтобы проверить наличие пустой коллекции, используйте функцию **IsEmpty**. |**false** |
| **IsBlank( Mid( "Hello", 17, 2 ) )** |Начальный символ для **[Mid](function-left-mid-right.md)** выходит за пределы строки.  Результатом является пустая строка. |**true** |
| **IsBlank( If( false, false ) )** |Функция **[If](function-if.md)** без *ElseResult*.  Так как условие всегда имеет значение **false**, **[If](function-if.md)** всегда возвращает *пустое значение*. |**true** |

### <a name="isempty"></a>IsEmpty
1. Создайте приложение с нуля и добавьте элемент управления **Кнопка**.
2. Задайте для свойства кнопки **[OnSelect](../controls/properties-core.md)** эту формулу:

    **Collect( IceCream, { Flavor: "Strawberry", Quantity: 300 }, { Flavor: "Chocolate", Quantity: 100 } )**
3. Просмотрите приложение, нажмите добавленную кнопку, а затем закройте режим предварительного просмотра.  

    Создается коллекция с именем **IceCream**, в которой содержатся такие данные:

    ![](media/function-isblank-isempty/icecream-strawberry-chocolate.png)

    Эта коллекция имеет две записи и не является пустой. **IsEmpty (IceCream)** возвращает значение **false**, а **CountRows (IceCream)** возвращает **2**.
4. Добавьте вторую кнопку и задайте в качестве значения свойства **[OnSelect](../controls/properties-core.md)** следующую формулу:

    **Clear( IceCream )**
5. Просмотрите приложение, нажмите вторую кнопку, а затем закройте режим предварительного просмотра.  

    Теперь коллекция пуста:

    ![](media/function-isblank-isempty/icecream-clear.png)

    Функция **[Clear](function-clear-collect-clearcollect.md)** удаляет все записи из коллекции, в результате чего коллекция становится пустой. **IsEmpty (IceCream)** возвращает значение **true**, а **CountRows (IceCream)** возвращает **0**.

**IsEmpty** можно также использовать, чтобы проверить, является ли вычисляемая таблица пустой, как показано в примерах ниже.

| Формула | Описание | Возвращаемый результат |
| --- | --- | --- |
| **IsEmpty( [&nbsp;1,&nbsp;2,&nbsp;3 ] )** |Таблица с одним столбцом содержит три записи, а значит, не является пустой. |**false** |
| **IsEmpty( [&nbsp;] )** |Таблица с одним столбцом не содержит записей, а значит, является пустой. |**true** |
| **IsEmpty( Filter( [&nbsp;1,&nbsp;2,&nbsp;3&nbsp;], Value > 5 ) )** |Таблица с одним столбцом не содержит значений, превышающих 5.  В результате фильтр не обнаруживает подходящие записи и остается пустым. |**true** |

