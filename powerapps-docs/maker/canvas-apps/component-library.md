---
title: Создание библиотеки компонентов для приложений Canvas | Документация Майкрософт
description: Библиотека многократно используемых компонентов для приложений Canvas
author: yifwang
ms.service: powerapps
ms.topic: article
ms.date: 02/20/2020
ms.author: yifwang
ms.reviewer: tapanm
search.audienceType:
- maker
search.app:
- PowerApps
ms.openlocfilehash: af43eeb3cfa5b2b99bc302360af150f662e1c0af
ms.sourcegitcommit: 59f0b3adc56279b5673cbf04b4a55bd7678e1ea7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/28/2020
ms.locfileid: "77911452"
---
# <a name="component-library"></a>Библиотека компонентов

> [!IMPORTANT]
> Эта функция по-прежнему доступна в общедоступной предварительной версии. Дополнительные сведения см. в статье [Экспериментальные и предварительные версии](working-with-experimental.md).

В [обзорной](create-component.md) статье по созданию компонентов представлены компоненты внутри приложения Canvas. При создании компонентов внутри приложения можно также создать библиотеку компонентов, которые можно использовать повторно. Создавая библиотеку компонентов, разработчики приложений легко совместно используют и обновляют один или несколько компонентов с другими производителями.

Библиотеки компонентов — это контейнеры определений компонентов, которые упрощают:

- Обнаружение и поиск компонентов.
- Публикация обновлений в разных средах.
- Уведомлять руководителей приложений о доступных обновлениях компонентов. 

> [!NOTE]
> Библиотеки компонентов являются рекомендуемым способом повторного использования компонентов в разных приложениях. При использовании библиотеки компонентов приложение поддерживает зависимости от используемых компонентов. Если обновления зависимых компонентов станут доступны, создатель приложения получит оповещение. Таким образом, все новые многократно используемые компоненты должны создаваться в библиотеках компонентов. Более ранняя функция Power Apps, которая позволяла [импортировать компоненты из одного приложения Canvas в другое](create-component.md?#import-and-export-components) , будет считаться устаревшей.

## <a name="difference-between-an-app-and-a-component-library"></a>Различие между приложением и библиотекой компонентов

Библиотека компонентов предоставляет централизованный и управляемый репозиторий компонентов для повторного использования. 

При создании библиотеки компонентов панель **вставки** в левой области навигации по умолчанию устанавливается на вкладку компоненты. При создании приложения в этом представлении отображаются экраны, а не компоненты. 

Экраны в библиотеке компонентов доступны только для тестирования. Она предоставляет разработчикам возможность быстро тестировать созданные компоненты на фактическом экране, а также проверять поведение обновления по мере улучшения компонентов с течением времени. Чтобы использовать компоненты из библиотеки компонентов, необходимо создать приложение, использующее библиотеку компонентов.

Компоненты библиотеки компонентов можно предварительно просмотреть с помощью экранов внутри библиотеки с параметром Play. При выборе вкладки компонент параметр воспроизведение отключается. Библиотека компонентов не отображается при использовании мобильных приложений.

> [!NOTE]
> Библиотека компонентов, обсуждаемая в этой статье, отличается от платформы компонентов Power Apps, которая позволяет разработчикам и производителям создавать компоненты кода для приложений на основе моделей и Canvas. Дополнительные сведения см. в статье [Обзор платформы компонентов Power Apps](https://docs.microsoft.com/powerapps/developer/component-framework/overview).

## <a name="working-with-component-library"></a>Работа с библиотекой компонентов

Можно создать новую библиотеку компонентов или изменить существующую библиотеку компонентов с помощью того же интерфейса. Перейдите к [make.powerapps.com](https://make.powerapps.com), выберите **приложения**, а затем выберите **библиотеки компонентов**:

![Создание или изменение библиотеки компонентов](./media/component-library/create-edit-component-library.png)

## <a name="create-an-example-component-library"></a>Создание примера библиотеки компонентов

Шаги по созданию компонентов внутри библиотеки компонентов аналогичны созданию компонентов внутри приложения. Вы создадите библиотеку компонентов. А затем повторно используйте шаги для создания компонентов из [примера обзор компонентов](create-component.md#create-an-example-component). Затем вы будете использовать библиотеку компонентов для предоставления многократно используемых компонентов в новом приложении.

1. Войдите в [make.powerapps.com](https://make.powerapps.com).

1. в области навигации слева выберите **приложения** , выберите пункт **библиотеки компонентов**, а затем выберите пункт **создать библиотеку компонентов**.

1. Присвойте библиотеке компонентов имя в качестве *компонентов меню*; можно также указать другое имя по своему усмотрению.

1. Выполните инструкции по созданию компонентов из [раздела Обзор компонентов](create-component.md#create-an-example-component). Вам не нужно открывать Power Apps Studio или создавать новое пустое приложение, так как вы уже создали новую библиотеку компонентов. Начните с шага 2. 

    После выполнения следующих действий по созданию компонентов выполните следующие действия, чтобы [Добавить компоненты на экран](create-component.md#add-component-to-a-screen) , чтобы [создать выходное свойство](create-component.md#create-and-use-output-property). 

1. После завершения создания и тестирования компонентов сохраните библиотеку компонентов, выбрав меню **файл** и выбрав **сохранить**. 

    Также имеется возможность сохранить **заметку о версии**. Примечание к версии полезно для получения версий библиотеки компонентов. А при обновлении компонентов, используемых в приложениях, из этой библиотеки компонентов.

    ![Примечание к версии при сохранении библиотеки компонентов](./media/component-library/save-component-libray-version-note.png)

    > [!TIP]
    > Примечание к версии полезно при просмотре версий библиотеки компонентов и для руководителей приложений, использующих библиотеку компонентов, для просмотра изменений и обновления приложений, использующих эти компоненты, по мере необходимости. Дополнительные сведения см. [в статье обновление библиотеки компонентов](component-library.md?#update-a-component-library) .   

1. Сохраненную библиотеку компонентов можно опубликовать. Только опубликованные обновления библиотеки компонентов доступны для приложений, использующих библиотеку компонентов. Выберите **опубликовать** , чтобы опубликовать версию библиотеки компонентов:

    ![Версия библиотеки компонентов публикации](./media/component-library/publish-component-library.png)

## <a name="import-from-a-component-library"></a>Импорт из библиотеки компонентов

После создания библиотеки компонентов и публикации приложения могут использовать компоненты из этой библиотеки компонентов, импортировав библиотеку. Можно также [предоставить общий доступ к библиотеке компонентов](component-library.md#component-library-permissions).

Чтобы выполнить импорт из библиотеки компонентов, измените существующее приложение или создайте новое. После открытия приложения в приложении Canvas App Studio выберите **INSERT** или **+** на панели навигации слева. А затем выберите пункт **получить дополнительные компоненты** , чтобы вывести список библиотек компонентов, доступных в текущем окружении:

![Получение дополнительных компонентов](./media/component-library/get-more-components.png)

В правой части экрана появится список библиотек компонентов, доступных в текущей среде. Выберите отдельный компонент из библиотеки компонентов. Чтобы импортировать все компоненты из библиотеки одновременно, используйте **команду выбрать все** .

![Импорт компонентов](./media/component-library/components.png)

> [!NOTE]
> Если студии не удается найти библиотеку компонентов, указанную в разделе Импорт, убедитесь, что к библиотеке компонентов предоставлен общий доступ для студии. Дополнительные сведения см. в статье [разрешения для библиотеки компонентов](component-library.md#component-library-permissions). 

Обратите внимание, что можно выбрать и импортировать более одного компонента и в разных библиотеках компонентов. 

Компоненты, доступные внутри приложения, перечислены в разделе " **Пользовательская** Категория" в списке компонентов на панели " **Вставка** ". Компоненты, доступные из импортированных библиотек компонентов, перечислены в разделе Категория **компонентов библиотеки** :

![Вставка компонентов в приложение](./media/component-library/insert-components.png)

## <a name="update-a-component-library"></a>Обновление библиотеки компонентов

Можно изменить существующую библиотеку компонентов и сохранить все изменения с помощью дополнительных заметок к версии. Однако обновленная версия библиотеки компонентов должна быть опубликована для использования в существующих приложениях, использующих библиотеку компонентов. В [примерах библиотеки компонентов](component-library.md#create-an-example-component-library) выше объясняется, как опубликовать библиотеку компонентов после ее сохранения.

Создатели других приложений получают уведомления о доступных обновленных компонентах. Уведомление появляется, когда руководители редактируют приложения в приложении Canvas App Studio. И может выбрать обновление компонентов:

![Доступно обновление](./media/component-library/update-available.png)

Выберите **Проверка**, и вы увидите параметр для обновления компонента:

![Обновить компонент](./media/component-library/update-components.png)

Обратите внимание на Примечание о версии, добавленное при публикации версии библиотеки компонентов. 

Выберите **Обновить** , чтобы обновить компоненты.

## <a name="component-library-permissions"></a>Разрешения библиотеки компонентов

Общий доступ к библиотеке компонентов работает так же, как и приложение Canvas. Совместное использование библиотеки компонентов позволяет другим пользователям повторно использовать библиотеку компонентов. После общего доступа другие пользователи могут редактировать библиотеку компонентов и импортировать компоненты из этой общей библиотеки компонентов для создания и редактирования приложений. Если общий доступ предоставлен как совладелец, он может использовать, изменять, совместно использовать библиотеку компонентов, но не может удалять или изменять владельца.

## <a name="known-limitations"></a>Известные ограничения

- [Известные ограничения](create-component.md#known-limitations) , применимые к компонентам, также применяются к библиотеке компонентов.
- Нельзя импортировать компоненты, используя библиотеку компонентов из локально сохраненного файла библиотеки компонентов. При попытке импортировать локально сохраненную библиотеку компонентов с помощью **файла** -> **Сохранить как** -> **этом компьютере** и скачать файл библиотеки компонентов как приложение, появится следующее сообщение об ошибке: 

    ![Импорт файла библиотеки компонентов](./media/component-library/import-component-library-file.png)

- В [решение](add-app-solution.md)нельзя добавлять существующие библиотеки компонентов. Тем не менее можно создать новые библиотеки компонентов для решений с помощью функции добавить поток библиотеки компонентов.

- Если компонент импортируется из библиотеки компонентов, его нельзя изменить в приложении, использующем приложение. При выборе варианта **изменить компонент**вы увидите возможность создать копию компонента в текущем приложении, чтобы внести изменения: 

    ![Изменить компонент библиотеки](./media/component-library/edit-library-component.png)

    Если выбрать **создать копию**, компонент будет скопирован в локальное приложение. Локальная копия компонента отображается в категории " **Настраиваемая** " на панели " **Вставка** ". Эта локальная копия компонента не будет обновляться, если новая версия библиотеки исходного компонента будет опубликована позже.
    
- Когда компонент добавляется в приложение из библиотеки компонентов, а тема приложения обновляется, компонент становится локальным компонентом приложения и больше не связан с главным компонентом в библиотеке компонентов.

## <a name="next-steps"></a>Следующие шаги

Сведения о [формулах поведения](component-behavior.md) для приложения Canvas.

### <a name="see-also"></a>См. также:

Ознакомьтесь с [обзором компонентов](create-component.md) приложения Canvas и работой с компонентами в приложении.
