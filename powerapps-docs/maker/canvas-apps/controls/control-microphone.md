---
title: Справка по элементу управления "Микрофон" | Документация Майкрософт
description: Сведения об элементе управления "Микрофон" с описанием его свойств и примерами
author: chmoncay
manager: kvivek
ms.service: powerapps
ms.topic: reference
ms.custom: canvas
ms.reviewer: tapanm
ms.date: 03/16/2020
ms.author: chmoncay
search.audienceType:
- maker
search.app:
- PowerApps
ms.openlocfilehash: 353485baf6726314f6009c57838b3aa68d145fa0
ms.sourcegitcommit: cf492063eca27fdf73459ff2f9134f2ca04ee766
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/17/2020
ms.locfileid: "79436746"
---
# <a name="microphone-control-in-power-apps"></a>Элемент управления "микрофон" в Power Apps

Элемент управления, позволяющий пользователям приложений записывать звуки с устройства.

## <a name="description"></a>Описание

Используйте элемент управления " **микрофон** " для записи звука с помощью микрофона устройства.  Устройство должно иметь микрофон, и пользователь должен авторизовать приложение для использования микрофона.  Элемент управления "микрофон" поддерживается при работе в веб-браузере.  

Последний записанный звуковой клип доступен через свойство **Audio** . При использовании этого свойства записанный звук может быть следующим:

- **Воспроизведение с помощью элемента управления аудио.**  Используйте элемент управления [аудио](control-audio-video.md) для прослушивания записи. Дополнительные сведения см. в [примерах](#examples).
- **Временное помещение в переменную или коллекцию.**  Используйте функции [Set](../functions/function-set.md) или [собирать](../functions/function-clear-collect-clearcollect.md) для хранения аудиоклипов в переменной или коллекции.  Соблюдайте осторожность при одновременном использовании нескольких аудиоклипов в коллекции с ограниченным объемом памяти устройства.  Используйте функции [SaveData](../functions/function-savedata-loaddata.md) и [LoadData](../functions/function-savedata-loaddata.md) , чтобы перемещать аудиоклипы в локальное хранилище на устройстве и в [автономные сценарии](../offline-apps.md).
- **Хранится в базе данных.**  Используйте функцию [Patch](../functions/function-patch.md) для хранения аудиоклипов в базе данных.
- **Передается в виде текстовой строки в кодировке Base64.**  Используйте функцию [JSON](../functions/function-json.md) для кодирования аудио клипов в Base64.

Формат записанного аудио:

- формат *3GP* для *Android*.
- Формат *AAC* для *iOS*.
- Формат *OGG* для *веб-браузеров*.

На захваченный носитель ссылается URI текстовой строки. Дополнительные сведения см. в [документации по типам данных](../functions/data-types.md#uris-for-images-and-other-media).

## <a name="key-properties"></a>Основные свойства

**Аудио** — звуковой ролик, захваченный при записи пользователя с помощью микрофона устройства. 

**MIC** — цифровой идентификатор микрофона устройства, имеющего более одного микрофона.

**OnStop** — поведение приложения, когда пользователь останавливает запись с помощью элемента управления "Микрофон".

## <a name="additional-properties"></a>Дополнительные свойства

[AccessibleLabel](properties-accessibility.md) — метка для средств чтения с экрана. Необходимо описать назначение микрофона.

[BorderColor](properties-color-border.md) — цвет границы элемента управления.

[BorderStyle](properties-color-border.md) — стиль границы элемента управления: **Solid**, **Dashed**, **Dotted** или **None**.

[BorderThickness](properties-color-border.md) — толщина границы элемента управления.

[Color](properties-color-border.md) — цвет текста в элементе управления.

[DisplayMode](properties-core.md) — указывает, допускает ли элемент управления ввод данных пользователем (**изменить**), отображает только данные (**представление**) или отключено (**отключено**).

[Дисабледбордерколор](properties-color-border.md) — цвет границы элемента управления, если свойство [DisplayMode](properties-core.md) элемента управления имеет значение **disabled**.

[Дисабледколор](properties-color-border.md) — цвет текста в элементе управления, если его свойство [DisplayMode](properties-core.md) имеет значение **disabled**.

[Дисабледфилл](properties-color-border.md) — цвет фона элемента управления, если его свойство [DisplayMode](properties-core.md) имеет значение **disabled**.

[Fill](properties-color-border.md) — цвет фона элемента управления.

[Фокуседбордерколор](properties-color-border.md) — цвет границы элемента управления, когда элемент управления имеет особое значение.

[Фокуседбордерсиккнесс](properties-color-border.md) — Толщина границы элемента управления, когда элемент управления имеет особое значение.

[Height](properties-size-location.md) — расстояние между верхним и нижним краями элемента управления.

[HoverBorderColor](properties-color-border.md) — цвет границы элемента управления при наведении на него указателя мыши.

[HoverColor](properties-color-border.md) — цвет текста в элементе управления при наведении на него указателя мыши.

[HoverFill](properties-color-border.md) — цвет фона элемента управления при наведении на него указателя мыши.

[Image](properties-visual.md) — имя изображения, которое отображается в элементе управления "Изображение", "Звук" или "Микрофон".

[ImagePosition](properties-visual.md) — расположение изображения на экране или в элементе управления, если его размеры отличаются от размеров изображения (**Fill**, **Fit**, **Stretch**, **Tile** или **Center**).

[OnSelect](properties-core.md) — как приложение реагирует, когда пользователь выбирает элемент управления.

**OnStart** — поведение приложения, когда пользователь начинает запись с помощью элемента управления "Микрофон".

[Пресседбордерколор](properties-color-border.md) — цвет границы элемента управления, когда пользователь выбирает этот элемент управления.

[Пресседколор](properties-color-border.md) — цвет текста в элементе управления, когда пользователь выбирает этот элемент управления.

[Пресседфилл](properties-color-border.md) — цвет фона элемента управления, когда пользователь выбирает этот элемент управления.

[Reset](properties-core.md) — определяет, возвращается ли элемент управления к значению по умолчанию.

[TabIndex](properties-accessibility.md) — порядок навигации по клавиатуре по сравнению с другими элементами управления.

[Tooltip](properties-core.md) — пояснительный текст, отображаемый при наведении указателя мыши на элемент управления.

[Visible](properties-core.md) — определяет, отображается элемент управления или он скрыт.

[Width](properties-size-location.md) — расстояние между левым и правым краями элемента управления.

[X](properties-size-location.md) — расстояние между левым краями элемента управления и левой границей родительского контейнера или экрана.

[Y](properties-size-location.md) — расстояние между верхним краями элемента управления и верхней границей родительского контейнера или экрана.

## <a name="examples"></a>Примеры

### <a name="simple-direct-playback"></a>Простое прямое воспроизведение

В этом примере мы напрямую подключим элемент управления " **микрофон** " с помощью элемента управления **аудио** для мгновенного воспроизведения:

1. [Добавьте](../add-configure-controls.md) в приложение элемент управления " **микрофон** ".
1. Разрешите приложению использовать микрофон устройства при появлении соответствующего запроса.
1. Добавьте элемент управления **аудио** в приложение.
1. Задайте для свойства **мультимедиа** элемента управления " **звук** " формулу:

    ```powerapps-dot
    Microphone1.Audio
    ```

    > [!NOTE]
    > При необходимости замените имя элемента управления Microphone *Microphone1* .

1. Предварительный просмотр приложения.
1. Выберите элемент управления **микрофона** , чтобы начать запись.
1. Говорите, чтобы записать звук.
1. Снова выберите элемент управления **Microphone** , чтобы завершить запись.
1. Выберите элемент управления **звуком** для воспроизведения записи.  

### <a name="add-sounds-to-a-gallery-control"></a>Добавление звуков в элемент управления галереи

В этом примере мы создадим коллекцию аудиоклипов, сохраненных в коллекции, которую можно выбрать для воспроизведения по отдельности:

1. [Добавьте](../add-configure-controls.md) элемент управления " **микрофон** ".

1. Задайте для этой формулы свойство **OnStop** с помощью функции " [получить](../functions/function-clear-collect-clearcollect.md) ":

    ```powerapps-dot
    Collect( MySounds, MyMic.Audio )
    ```

1. Добавьте элемент управления " **Галерея** " и переместите его под **мимик**.

1. Присвойте свойству [Items](properties-core.md) коллекции следующую формулу:

    ```powerapps-dot
    MySounds
    ```

1. В шаблоне пользовательского элемента управления **галереи** добавьте элемент управления [звуком](control-audio-video.md) .

1. Задайте для свойства **мультимедиа** элемента управления "звук" следующую формулу:

    ```powerapps-dot
    ThisItem.Url
    ```

1. Нажмите клавишу F5, чтобы просмотреть приложение.

1. Выберите **мимик** , чтобы начать запись, а затем снова выберите ее, чтобы отменить запись.

1. В элементе управления " **коллекция** " нажмите кнопку Воспроизведение в элементе управления **звуком** , чтобы воспроизвести запись.

1. Добавьте столько записей, сколько нужно, а затем вернитесь в рабочую область по умолчанию, нажав клавишу ESC.

1. используемых В шаблоне для элемента управления " **коллекция** " добавьте элемент управления ["Кнопка"](control-button.md) .

1. Задайте для его свойства [OnSelect](properties-core.md) формулу:

    ```powerapps-dot
    Remove( MySounds, ThisItem )
    ```

1. Нажмите клавишу F5, а затем удалите запись, выбрав соответствующий элемент управления **"Кнопка"** .

Используйте функцию [SaveData](../functions/function-savedata-loaddata.md) , чтобы сохранить записи локально или функцию [Patch](../functions/function-patch.md) для обновления источника данных.

## <a name="accessibility-guidelines"></a>Руководство по настройке специальных возможностей

Те же рекомендации применяются для [кнопки](control-button.md) , так как **микрофон** является просто специализированной кнопкой. Кроме того, рассмотрим следующее.

### <a name="audio-alternatives"></a>Варианты для аудио

Попробуйте добавить альтернативную форму ввода данных для пользователей с ослабленной речью с микрофоном или без него. Например, [Ввод текста](control-text-input.md) , позволяющий пользователям вводить текст.

### <a name="color-contrast"></a>Контрастность

- Ознакомьтесь со [стандартными требованиями к контрастности цветов](../accessible-apps-color.md).
- Обеспечьте адекватный контраст цвета между [изображением](properties-visual.md) и текстом кнопки и значком (если применимо).

### <a name="screen-reader-support"></a>Поддержка средства чтения с экрана

- [Акцессиблелабел](properties-accessibility.md) должен присутствовать.
