---
title: Внедрение нового приложения на основе холста в отчет Power BI | Документы Майкрософт
description: Внедрение нового приложения на основе холста, которое использует тот же источник данных и поддерживает те же возможности фильтрации, что и другие элементы отчетов
author: NickWaggoner
manager: kvivek
ms.service: powerapps
ms.topic: conceptual
ms.custom: canvas
ms.reviewer: ''
ms.date: 03/15/2018
ms.author: niwaggon
search.audienceType:
- maker
search.app:
- PowerApps
ms.openlocfilehash: 60577eb3b6c272093222f1c14685d5ffe1d433f9
ms.sourcegitcommit: 6b27eae6dd8a53f224a8dc7d0aa00e334d6fed15
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/03/2019
ms.locfileid: "74731533"
---
# <a name="embed-a-new-canvas-app-in-a-power-bi-report"></a>Внедрение нового приложения на основе холста в отчет Power BI

Возможности Power BI можно расширять, добавляя в отчет *пользовательские визуальные элементы*. В этом руководстве вы создадите приложение Canvas, внедренное в образец отчета, с помощью пользовательского визуального элемента Power Apps. Это приложение взаимодействует с другими элементами отчета.

Если у вас нет подписки на Power Apps, [Создайте бесплатную учетную запись](../signup-for-powerapps.md) , прежде чем начинать работу.

Из этого руководства вы узнаете, как выполнять такие задачи:
> [!div class="checklist"]
> * Импорт пользовательского визуального элемента Power Apps в отчет Power BI
> * Создание приложения, в котором используются данные из отчета
> * Просмотр приложения в отчете

## <a name="prerequisites"></a>Технические условия

* Браузер [Google Chrome](https://www.google.com/chrome/browser/) или [Microsoft Edge](https://www.microsoft.com/windows/microsoft-edge)
* [Подписка на Power BI](https://docs.microsoft.com/power-bi/service-self-service-signup-for-power-bi) с установленным [примером "Анализ возможностей"](https://docs.microsoft.com/power-bi/sample-opportunity-analysis#get-the-content-pack-for-this-sample)
* Общие сведения о [создании приложений в Power Apps](data-platform-create-app-scratch.md) и [редактировании отчетов Power BI](https://docs.microsoft.com/power-bi/service-the-report-editor-take-a-tour)

## <a name="import-the-power-apps-custom-visual"></a>Импорт пользовательского визуального элемента Power Apps

Первый шаг — импортировать пользовательский визуальный элемент Power Apps, чтобы его можно было использовать в образце отчета.

1. В отчете "Анализ возможностей — пример" перейдите на вкладку **Upcoming Opportunities** (Предстоящие возможные сделки).

2. В верхней части отчета нажмите **Изменить отчет**.

3. В области **Визуализации** нажмите многоточие ( **...** ) и выберите пункт **Импорт из магазина**. 

    ![Импорт из магазина](media/embed-powerapps-powerbi/import-visual.png)

4. На экране **Визуальные элементы Power BI** выполните поиск по запросу "PowerApps", а затем нажмите **Добавить**. Power BI добавит значок пользовательского визуального элемента в нижнюю часть области **Визуализации**.

    ![Значок визуального элемента Power Apps](media/embed-powerapps-powerbi/powerapps-icon.png)

5. Сохраните отчет.

## <a name="create-a-new-app"></a>Создание приложения
Теперь необходимо добавить пользовательский визуальный элемент в отчет и создать приложение на основе данных в отчете. При создании приложения запускается Power Apps Studio с динамическим подключением к данным между приложениями Power Apps и Power BI.

1. Переместите и измените размеры некоторых плиток в отчете, чтобы освободить место для приложения.

    ![Перемещение и изменение размеров плиток в отчете](media/embed-powerapps-powerbi/move-resize.png)

2. Щелкните значок настраиваемого визуального элемента Power Apps, а затем измените размер плитки в соответствии с заданной областью.

3. В области **Поля** выберите **Name** (Название), **Product Code** (Код продукта) и **Sales Stage** (Этап продаж). 

    ![Выбор полей](media/embed-powerapps-powerbi/select-fields.png)

4. На плитке настраиваемый визуальный элемент выберите среду Power Apps, в которой нужно создать приложение, а затем щелкните **создать**.

    ![Создание приложения](media/embed-powerapps-powerbi/create-new-app.png)

    В Power Apps Studio вы увидите, что создается базовое приложение с *коллекцией* , в которой отображается одно из полей, выбранных в Power BI.

5.  Измените размер коллекции так, чтобы она занимала только половину экрана. 

6. В левой области выберите элемент **Screen1**, а затем задайте для свойства **Fill** окна значение LightBlue (чтобы окно было лучше видно в отчете).

    ![Приложение с измененным размером коллекции](media/embed-powerapps-powerbi/app-gallery.png)

6. Добавьте под коллекцией элемент управления "Метка" со свойством **Text**, имеющим значение `"Opportunity Count: " & CountRows(Gallery1.AllItems)`. Теперь отображается общее число возможных сделок в наборе данных.

    ![Число возможных сделок](media/embed-powerapps-powerbi/opportunity-count.png)

7. Сохраните приложение с именем "Возможные сделки". 


## <a name="view-the-app-in-the-report"></a>Просмотр приложения в отчете
Теперь приложение доступно в отчете. Оно взаимодействует с другими визуальными элементами, так как у них общий источник данных.

В отчете Power BI выберите на срезе пункт **Jan** (Янв). В результате будет отфильтрован весь отчет, включая данные в приложении.

![Отфильтрованный отчет](media/embed-powerapps-powerbi/filtered-report.png)

Обратите внимание на то, что число возможных сделок в приложении совпадает с числом в левом верхнем углу отчета. Вы можете выбирать другие элементы в отчете, и данные в приложении будут обновляться.


## <a name="clean-up-resources"></a>Очистка ресурсов
Если пример "Анализ возможностей" больше не нужен, можно удалить панель мониторинга, отчет и набор данных.


## <a name="next-steps"></a>Дальнейшие действия
Из этого руководства вы узнали, как выполнять такие задачи:
> [!div class="checklist"]
> * Импорт пользовательского визуального элемента Power Apps в отчет Power BI
> * Создание приложения, в котором используются данные из отчета
> * Просмотр приложения в отчете

Чтобы узнать больше, перейдите к следующей статье:
> [!div class="nextstepaction"]
> [Пользовательский визуальный элемент Power Apps для Power BI](powerapps-custom-visual.md)

