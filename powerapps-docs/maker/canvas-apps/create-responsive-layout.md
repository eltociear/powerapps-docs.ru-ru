---
title: Создание быстро реагирующих макетов в приложениях на основе холста | Документация Майкрософт
description: Справочные сведения о настройке свойств высоты, ширины, X и Y для элементов управления в приложениях на основе холста
author: emcoope-msft
manager: kvivek
ms.service: powerapps
ms.topic: conceptual
ms.custom: canvas
ms.reviewer: anneta
ms.date: 02/28/2019
ms.author: emcoope
search.audienceType:
- maker
search.app:
- PowerApps
ms.openlocfilehash: ddd11ddd40792ef1042536041554737ddb16547b
ms.sourcegitcommit: 4042388fa5e7ef50bc59f9e35df330613fea29ae
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "61562722"
---
# <a name="create-responsive-layouts-in-canvas-apps"></a>Создание быстро реагирующих макетов в приложениях на основе холста

Перед созданием приложения на основе холста в PowerApps, укажите, требуется ли настроить в приложении для телефона или планшета. Этот выбор определяет размер и форма холст, на котором вы создадите приложение.

После этого выбора, можно сделать несколько больше вариантов при выборе **файл** > **параметры приложения** > **размер и ориентация экрана**. Вы можете книжная или альбомная ориентация и размер экрана (только планшет). Также можно заблокировать или разблокировать пропорции и поддерживают поворот устройства (или его отсутствия).

Эти значения лежат в основе каждого выбранного вами при проектировании макеты экрана. Если ваше приложение работает на устройстве другого размера или в Интернете, весь макет масштабируется, чтобы уместиться на экране, где выполняется приложение. Если в окне браузера больших работает приложение, предназначенное для телефона, например, приложение масштабируется для компенсации и ищет слишком большого размера для пространства. Приложение не может обеспечить дополнительные точки, отображая дополнительные элементы управления или содержимое.

При создании гибкий макет, элементов управления может отвечать на различных устройствах или размеры окна, что делает что различные возможности в целом более привычны. Для достижения гибкий макет, можно настроить некоторые параметры, а также писать выражения во всем приложении. 

## <a name="disable-scale-to-fit"></a>Отключить масштабирование в соответствии с

Каждый экран можно настроить таким образом, чтобы его макета адаптируется к фактического пространства, в котором выполняется приложение.

Активировать скорость реагирования, отключив приложения **масштабирования в соответствии с** настройкой, которая включена по умолчанию. Если этот параметр отключается, вы также будете отключать **зафиксировать пропорции** так, как больше не разрабатывается для определенного экрана фигуры. (Можно указать поддерживает ли приложение поворот экрана.)

![Отключить масштабирование в соответствии с параметр](media/create-responsive-layout/scale-to-fit-off.png)

Чтобы приложение быстро реагирующих, необходимо выполнить дополнительные действия, но это изменение — это первый шаг к скорости реагирования возможных.

## <a name="understand-app-and-screen-dimensions"></a>Понимание приложений и экрана измерений

Чтобы реагировать на изменение размеров экрана макеты вашего приложения, вы будете писать формулы, использующие **ширины** и **высота** свойства экрана. Чтобы отобразить эти свойства, открытие приложения в PowerApps Studio и выберите экран. Формулы по умолчанию для этих свойств отображаются на **Дополнительно** вкладку на панели справа.

**Width** (Ширина)  = `Max(App.Width, App.DesignWidth)`.

**Высота** = `Max(App.Height, App.DesignHeight)`

Эти формулы ссылаются на **ширины**, **высота**, **DesignWidth**, и **DesignHeight** свойств приложения. Приложения **ширины** и **высота** свойства соответствуют размеры окна устройство или браузер, в котором выполняется приложение. Если пользователь изменяет размер окна браузера (или повороте устройства, если вы отключили **заблокировать ориентацию**), динамически изменять значения этих свойств. Формулы на экране **ширины** и **высота** свойств вычисляются в том случае, если изменяются эти значения.

**DesignWidth** и **DesignHeight** свойства поступают из измерения, указанные в **размер и ориентация экрана** области **параметры приложения** . Например, если выбран макет для телефона в книжной ориентации **DesignWidth** — 640, и **DesignHeight** является 1136.

Так как они используются в формулах для экрана **ширины** и **высота** свойства, можно представить себе **DesignWidth** и **DesignHeight** как минимальные размеры, для которых вы Разработка приложения будет. Если фактическая область доступной для приложения даже меньше, чем минимальным измерений, формулы для экрана **ширины** и **высота** свойства убедитесь, что их значения не становятся меньше, чем минимальные значения. В этом случае пользователю нужно прокручивать экран для просмотра всего содержимого экрана.

После установки приложения **DesignWidth** и **DesignHeight**, не будет (в большинстве случаев) необходимо изменить формулу по умолчанию для каждого экрана **ширины** и **Высота** свойства. Позже в этом разделе рассматриваются случаи, в которых может потребоваться настройка этих формул.

## <a name="use-formulas-for-dynamic-layout"></a>Использование формул для динамического макета

Чтобы создать адаптивный Дизайн, найдите и размер каждого элемента управления с помощью формулы, а не абсолютные значения (постоянные) координат. Эти формулы express, положение и размер с точки зрения общего размера экрана или относительно других элементов управления на экране каждого элемента управления.

> [!IMPORTANT]
> После написания формул для **X**, **Y**, **ширины** и **высота** свойства элемента управления, формулы будут перезаписаны постоянные значения, если впоследствии перетащить элемент управления в редакторе canvas. При запуске с использованием формулы для достижения динамический макет, следует избегать, перетаскивая элементы управления.

В самом простом случае один элемент управления отображается во весь экран. Чтобы создать этот эффект, установите эти значения свойств элемента управления:

| Свойство      | Value            |
|--------|---------------|
| **X**      | `0`             |
| **Y**      | `0`             |
| **Ширина**  | `Parent.Width`  |
| **Высота** | `Parent.Height` |

Эти формулы используют **родительского** оператор. Для элемента управления, помещаются непосредственно на экране **родительского** ссылается на экране. Значениями этих свойств элемента управления отображается в левом верхнем углу экрана (0, 0) и имеет те же **ширины** и **высота** качестве экрана.

Далее в этом разделе вы примените эти принципы (и **родительского** оператор) для размещения элементов управления в других контейнерах, таких как коллекции, группы элементов управления и компонентов.

Кроме того элемент управления может заполнить только в верхней части экрана. Чтобы создать этот эффект, задайте **высота** свойства **Parent.Height** / 2 и оставить без изменений другие формулы.

Второй элемент управления для заполнения нижней половине экрана же следует может занять по крайней мере два других подходов к построению его формулы. Для простоты может применить такой подход:

| Элемент управления | Свойство | Формула           |
|-|----------|-------------------|
| **верхний** | **X**        | `0`                 |
| **верхний** | **Y**        | `0`                 |
| **верхний** | **Ширина**    | `Parent.Width`      |
| **верхний** | **Высота**   | `Parent.Height / 2` |
| **нижний** | **X**        | `0`                 |
| **нижний** | **Y**        | `Parent.Height / 2` |
| **нижний** | **Ширина**    | `Parent.Width`      |
| **нижний** | **Высота**   | `Parent.Height / 2` |

![Верхний и нижний элемент управления](media/create-responsive-layout/dynamic-layout.png)

Эта конфигурация будет добиться необходимого эффекта, но может потребоваться изменить каждая формула, если вы передумали относительные размеры элементов управления. Например может решить, что верхний элемент управления должен занимать только верхний треть высоты экрана, с помощью элемента управления вниз заполнения нижней две трети. 

Чтобы создать этот эффект, необходимо обновить **высота** свойство **верхний** управления и **Y** и **высота** свойства **Нижней** элемента управления. Вместо этого рассмотрите возможность написания формул для **нижней** управления на основе **верхний** управления (и сам), как в следующем примере:


| Элемент управления | Свойство | Формула           |
|-|----------|-------------------|
| **верхний** | **X**        | `0`                 |
| **верхний** | **Y**        | `0`                 |
| **верхний** | **Ширина**    | `Parent.Width`      |
| **верхний** | **Высота**   | `Parent.Height / 2` |
| **нижний** | **X**        | `0`                       |
| **нижний** | **Y**        | `Upper.Y + Upper.Height`  |
| **нижний** | **Ширина**    | `Parent.Width`            |
| **нижний** | **Высота**   | `Parent.Height - Lower.Y` |

![Верхний и нижний управляет относительных размеров](media/create-responsive-layout/dynamic-layout2.png)

Эти формулы в месте, необходимо только изменить **высота** свойство **верхний** управления для выражения различных доля высоты экрана. **Нижней** управления автоматически движении и изменении размера с учетом изменений.

Эти формулы шаблоны можно использовать для выражения общие макета связи между элемент управления, с именем **C**и его родительским, или элемент управления того же уровня с именем **D**.

| Связь между C и его родительским элементом | Свойство | Формула | Иллюстрации |
|--|--|--|--|
| **C** заполняет родительского элемента, ширина поля *N* | **X**| `N` | ![Пример C заполнение ширину родительского элемента](media/create-responsive-layout/c1.png) |
|  | **Ширина** | `Parent.Width - (N * 2)` |  |
| **C** заполняет поля высоты родительского элемента, *N* | **Y** | `N` | ![Пример C заполнение высоты родительского элемента](media/create-responsive-layout/c2.png) |
|  | **Высота** | `Parent.Height - (N * 2)` |  |
| **C** выровнены по правому краю родительского элемента, полю *N* | **X** | `Parent.Width - (C.Width + N)` | ![Пример C, выравнивание по границе родительского элемента](media/create-responsive-layout/c3.png) |
| **C** выровнены по нижней границе родительского элемента, полю *N* | **Y** | `Parent.Height - (C.Height + N)` | ![Пример C, выравнивание по границе родительского элемента](media/create-responsive-layout/c4.png) |
| **C** центрировано по горизонтали с родительским | **X** | `(Parent.Width - C.Width) / 2` | ![Пример C, по центру по горизонтали с родительским](media/create-responsive-layout/c5.png) |
| **C** вертикально по центру родительского элемента | **Y** | `(Parent.Height - C.Height) / 2` | ![Пример C вертикально по центру родительского элемента](media/create-responsive-layout/c6.png) |

| Отношение между C и D | Свойство | Формула | Иллюстрации |
|--|--|--|--|
| **C** горизонтально выравнивается **D** и такой же ширины, что **D** | **X** | `D.X` | ![Пример шаблона](media/create-responsive-layout/d1.png) |
|  | **Ширина**    | `D.Width` |  |
| **C** выровненный по вертикали с **D** и высоту **D**  | **Y** | `D.Y` | ![Пример шаблона](media/create-responsive-layout/d2.png) |
|  | **Высота** | `D.Height` |  |
| Правый угол **C** выровнены по правому краю **D** | **X** | `D.X + D.Width - C.Width` | ![Пример шаблона](media/create-responsive-layout/d3.png) |
| Нижнюю границу **C** выровнены с нижним краем элемента **D** | **Y** | `D.Y + D.Height - C.Height` | ![Пример шаблона](media/create-responsive-layout/d4.png) |
| **C** по центру по горизонтали относительно **D** | **X** | `D.X + (D.Width - C.Width) / 2`  | ![Пример шаблона](media/create-responsive-layout/d5.png) |
| **C** вертикально по центру относительно **D** | **Y** | `D.Y + (D.Height - C.Height) /2` | ![Пример шаблона](media/create-responsive-layout/d6.png) |
| **C** расположенный справа от **D** с задержка N | **X** | `D.X + D.Width - N` | ![Пример шаблона](media/create-responsive-layout/d7.png) |
| **C** расположен ниже **D** с задержка *N*             | **Y** | `D.Y + D.Height + N` | ![Пример шаблона](media/create-responsive-layout/d8.png) |
| **C** заполняет пространство между **D** и правым краем родительского | **X** | `D.X + D.Width` | ![Пример шаблона](media/create-responsive-layout/d9.png) |
|  | **Ширина** | `Parent.Width - C.X` |  |
| **C** заполняет пространство между **D** и нижним краем родительского | Y | `D.Y + D.Height` | ![Пример шаблона](media/create-responsive-layout/d10.png) |

## <a name="hierarchical-layout"></a>Иерархического представления

При разработке экранов, содержащих дополнительные элементы управления, она становится более удобным (или даже необходимые) для размещения элементов управления, относительно родительского элемента управления, а не относительно экрана или элемент управления того же уровня. Организуя элементов управления в иерархическую структуру, вы делают проще писать и поддерживать формулы.

### <a name="galleries"></a>Коллекции

При использовании коллекции в приложении, вам потребуется для размещения элементов управления внутри шаблона коллекции. Эти элементы управления можно добавлять путем написания формул, использующих **родительского** оператор, который будет ссылаться на шаблон коллекции. В формулах для элементов управления внутри шаблона коллекции, используйте **Parent.TemplateHeight** и **Parent.TemplateWidth** его свойства, не используйте **Parent.Width** и  **Parent.Height**, которые относятся к общий размер коллекции.

![Отображение шаблона ширины и высоты вертикальной коллекции](media/create-responsive-layout/gallery-vertical.png)

### <a name="enhanced-group-control"></a>Расширенный группы управления

Воспользуйтесь экспериментальной функцией, улучшенная **группы** управления, в качестве родительского элемента управления. Чтобы включить эту функцию, выберите **файл** > **параметры приложения** > **Дополнительные параметры**.

Рассмотрим пример заголовка в верхней части экрана. Это часто используются заголовок с заголовок и несколько значков, с которыми пользователи могут взаимодействовать. Вы можете создать заголовок с помощью Улучшенная **группы** управления, содержащий **метка** управления и два **значок** элементов управления:

![Пример заголовка с помощью группы](media/create-responsive-layout/header-group.png)

Задайте свойства для этих элементов управления для этих значений:

| Свойство | Заголовок | Меню | Закрыть | Title |
|--|--|--|--|--|
| **X** | `0`  | `0` | `Parent.Width - Close.Width` | `Menu.X + Menu.Width` |
| **Y** | `0` | `0` | `0` | `0` |
| **Ширина**  | `Parent.Width` | `Parent.Height` | `Parent.Height` | `Close.X - Title.X` |
| **Высота** | `64` | `Parent.Height` | `Parent.Height` | `Parent.Height` |

Для **заголовок** управления `Parent` ссылается на экране. Для других пользователей `Parent` ссылается на **заголовок** элемента управления.

Написав этих формул, можно изменить размер или положение **заголовок** управления путем изменения формул для его свойства. Размеры и положения дочерних элементов управления автоматически изменяется соответствующим образом.

### <a name="components"></a>компоненты

При использовании другого экспериментальные функции, именованных компонентов можно создавать стандартные блоки и многократно использовать их в приложении. Как и в **группы** элемента управления, элементы управления, расположенные в пределах компонента следует определять их положение и размер формулы по `Parent.Width` и `Parent.Height`, которые относятся к размер компонента. Дополнительные сведения: [Создание компонента](create-component.md).

## <a name="adapting-layout-for-device-size-and-orientation"></a>Адаптация макет для устройства размер и ориентация

На данный момент вы узнали, как использовать формулы изменять размер каждого элемента управления в ответ на доступное пространство, в том случае, если сохранение элементов управления выровнены друг относительно друга. Но может желаете или вам требуется более значительного изменения макета в ответ на другое устройство размера и ориентации. При повороте устройства от книжной к альбомной ориентации, например, может потребоваться переключиться горизонтального из вертикальный макет. Использовать устройство большего размера можно предоставить дополнительное содержимое или изменить его, чтобы предоставить более привлекательным макета. На устройстве меньшего размера может потребоваться разделить содержимое на нескольких экранах.

### <a name="device-orientation"></a>Ориентации устройства

Формулы, используемые по умолчанию для экрана **ширины** и **высота** свойства, как в этом разделе, как описано выше, не обязательно обеспечивать хорошие условия работы при повороте устройства пользователем. Например, есть приложение, предназначенное для телефоне в книжной ориентации **DesignWidth** 640 и **DesignHeight** из 1136. То же приложение на телефоне в альбомной ориентации будет иметь следующие значения свойств:

- Экран **ширины** свойству `Max(App.Width, App.DesignWidth)`. Приложения **ширины** (1136) больше, чем его **DesignWidth** (640), поэтому формула возвращает значение 1136.
- Экран **высота** свойству `Max(App.Height, App.DesignHeight)`. Приложения **высота** (640) меньше, чем его **DesignHeight** (1136), поэтому формула возвращает значение 1136.

Экран **высота** из 1136 и устройства высоту (в этом ориентация) 640, пользователь должен прокрутить экран по вертикали, чтобы отображать все его содержимое, которое может быть интерфейс, который вы хотите.

Для адаптации экрана **ширины** и **высота** свойства для ориентации устройства, можно использовать эти формулы:

**Width** (Ширина)  = `Max(App.Width, If(App.Width < App.Height, App.DesignWidth, App.DesignHeight))`.

**Высота** = `Max(App.Height, If(App.Width < App.Height, App.DesignHeight, App.DesignWidth))`

Эти формулы замены приложения **DesignWidth** и **DesignHeight** значения, в зависимости от ширины устройства меньше, чем высота (книжная ориентация) или больше, чем высота (альбомная ориентация) .

После настройки экрана **ширины** и **высота** формулы, может также потребоваться Перегруппируйте элементы управления в экране более эффективного использования доступного пространства. Например если каждый из двух элементов управления занимает половину экрана, вы располагаются по вертикали в книжной ориентации, но расположите их рядом друг с другом в альбомной ориентации.

Можно использовать экран **ориентации** свойства, чтобы определить, является ли экран ориентирован вертикально или горизонтально.

> [!NOTE]
> В альбомной ориентации **верхний** и **нижней** элементы управления отображаются как элементы управления влево и вправо.

| Элемент управления | Свойство | Формула |
|--|----------|---|
| **верхний** | **X** | `0` |
| **верхний** | **Y** | `0` |
| **верхний** | **Ширина** | `If(Parent.Orientation = Layout.Vertical, Parent.Width, Parent.Width / 2)` |
| **верхний** | **Высота**   | `If(Parent.Orientation = Layout.Vertical, Parent.Height / 2, Parent.Height)` |
| **нижний** | X | `If(Parent.Orientation = Layout.Vertical, 0, Upper.X + Upper.Width)`  |
| **нижний** | Y | `If(Parent.Orientation = Layout.Vertical, Upper.Y + Upper.Height, 0)` |
| **нижний** | **Ширина** | `Parent.Width - Lower.X` |
| **нижний** | **Высота** | `Parent.Height - Lower.Y` |

![выражения, чтобы адаптировать книжной ориентации](media/create-responsive-layout/portrait.png)

![выражения, чтобы адаптировать альбомной ориентации](media/create-responsive-layout/landscape.png)

### <a name="screen-sizes-and-breakpoints"></a>Размеры экрана и точек останова

Можно настроить в зависимости от размера устройства. Экран **размер** свойство классифицирует текущий размер устройства. Размер — положительное целое число; Тип ScreenSize предоставляет именованные константы способствует повышению удобочитаемости. Эта таблица содержит константы:

| Константы              | Value | Тип типичное устройство (с помощью параметров приложения по умолчанию) |
|-----------------------|-------|--------------------------------------------------|
| ScreenSize.Small      | 1     | Телефон                                            |
| ScreenSize.Medium     | 2     | Планшет, по вертикали                          |
| ScreenSize.Large      | 3     | Планшет, по горизонтали                        |
| ScreenSize.ExtraLarge | 4     | Настольный компьютер                                 |

Используйте эти размеры для принятия решений о макете приложения. Например, если требуется, чтобы элемент управления, будут скрыты при размера телефона устройства но видимым в противном случае, можно задать элемент управления **Visible** следующую формулу:

`Parent.Size >= ScreenSize.Medium`

Эта формула, результатом которого является **true** при размер средними или более крупными и **false** в противном случае.

Если требуется, чтобы элемент управления и занимают разные доля ширину экрана, в зависимости от размера экрана, задать для элемента управления **ширины** следующую формулу:

```
Parent.Width *  
    Switch(Parent.Size,  
        ScreenSize.Small, 0.5,  
        ScreenSize.Medium, 0.3,  
        0.25)
```
Эта формула ширину элемента управления на половине ширины экрана на небольшом экране, трех-десятые доли ширины экрана на экране средних и одной четвертой ширину экрана на всех других экранов.

## <a name="custom-breakpoints"></a>Пользовательские точки останова

Экран **размер** свойство вычисляется путем сравнения экрана **ширины** свойства со значениями в приложения **SizeBreakpoints** свойство. Это свойство является таблица с одним столбцом чисел, указывающий ширину точки останова, которые отделяют размеры именованных экрана:

В приложении, созданном для планшета или в Интернете, значение по умолчанию, в приложении **SizeBreakpoints** свойства **[600, 900, 1200]**. В приложении, созданном для телефонов, значением является **[1200, 1800, 2400]**. (Значения для мобильных приложений вдвое, так как такие приложения используют координаты, эффективно double координаты, используемые в других приложениях.)

![значения по умолчанию свойства App.SizeBreakpoints](media/create-responsive-layout/default-breakpoints.png)

Приложения точки останова можно настраивать, изменяя значения в приложении **SizeBreakpoints** свойство. Выберите **приложения** в представлении в виде дерева выберите **SizeBreakpoints** в свойство списка, а затем измените значения в строке формул. Можно создать как много точек останова как приложения требуется, но только размером от 1 до 4 соответствуют размеры именованных экрана. В формулах, можно ссылаться на размеров за пределы "очень крупный" на их числовых значений (5, 6 и т. д.).

Можно также указать меньшее число точек останова. Например приложение может потребоваться только для трех размеров (две точки останова), поэтому размеры экрана можно будет малый, средний и большой.

## <a name="known-limitations"></a>Известные ограничения

Холст разработки перестает реагировать на изменения размера формулы, созданные. Для проверки поведения, быстро реагирующих, сохраните и опубликуйте приложение затем открыть его на устройствах или в окнах браузера различные размеры и ориентации.

При написании выражений и формул в **X**, **Y**, **ширины**, и **высота** свойства элемента управления, вы будете перезаписывают выражения или формулы, если позже перетащите элемент управления в другое место или изменить размер элемента управления, перетаскивая его границу.
