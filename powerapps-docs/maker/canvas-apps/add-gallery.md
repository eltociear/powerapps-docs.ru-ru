---
title: Отображение списка элементов в приложении на основе холста | Документы Майкрософт
description: Использование коллекции для отображения списка элементов и фильтрации его по определенному критерию в приложении на основе холста.
author: emcoope-msft
manager: kvivek
ms.service: powerapps
ms.topic: conceptual
ms.custom: canvas
ms.reviewer: tapanm
ms.date: 09/28/2017
ms.author: emcoope
search.audienceType:
- maker
search.app:
- PowerApps
ms.openlocfilehash: fd48455f24cd07a09ce3a7cdb44b2fa6da2a0166
ms.sourcegitcommit: dd2a8a0362a8e1b64a1dac7b9f98d43da8d0bd87
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/02/2019
ms.locfileid: "74679254"
ms.PowerAppsDecimalTransform: true
---
# <a name="show-a-list-of-items-in-powerapps"></a>Отображение списка элементов в PowerApps

Чтобы отобразить список элементов из любого источника данных, добавьте в приложение на основе холста элемент управления **[Коллекция](controls/control-gallery.md)** . В этой статье в качестве источника данных используется Excel. Чтобы отфильтровать список, настройте элемент управления **Коллекция** таким образом, чтобы в нем отображались только элементы, соответствующие определенному условию, которое задается в **[поле для ввода текста](controls/control-text-input.md)** .

## <a name="prerequisites"></a>Технические условия

- Узнайте, как [добавить и настроить элемент управления](add-configure-controls.md) в PowerApps.

- Подготовьте демонстрационные данные:
    1. Скачайте [этот файл Excel](https://az787822.vo.msecnd.net/documentation/get-started-from-data/FlooringEstimates.xlsx), содержащий образец данных для этого руководства.

    2. Отправьте файл Excel в [учетную запись облачного хранилища](connections/cloud-storage-blob-connections.md), например OneDrive для бизнеса.

- Откройте пустое приложение:
    1. [Войдите в PowerApps](https://make.powerapps.com?utm_source=padocs&utm_medium=linkinadoc&utm_campaign=referralsfromdoc).

    1. В разделе **Создание собственного приложения** выберите **Приложение на основе холста с нуля**.

    1. Укажите имя приложения, выберите **Телефон**, а затем выберите **Создать**.

    1. Если откроется диалоговое окно " **Добро пожаловать в Power Apps Studio** ", выберите **пропустить**.

    1. [Добавьте подключение](add-data-connection.md) в таблицу **FlooringEstimates** из файла Excel.

## <a name="add-a-gallery-to-a-blank-screen"></a>Добавление коллекции на пустой экран

1. На вкладке **Вставка** выберите **коллекция**, а затем щелкните **по вертикали**.

    ![Добавить вертикальную галерею](./media/add-gallery/gallery-dropdown.png)

1. На вкладке **Свойства** правой панели откройте список **элементы** и выберите **Flooring оценки**.

    ![Flooring оценки](./media/add-gallery/select-layout.png)

1. используемых В списке **Макет** выберите другой параметр.

## <a name="add-a-gallery-in-a-screen"></a>Добавление коллекции на экран

1. На вкладке **Главная** выберите **Новый экран** > **списка**.

    Появится экран, содержащий элемент управления " **Галерея** " и другие элементы управления, например панель поиска.

1. Присвойте свойству **Items** коллекции значение `FlooringEstimates`.

    В элементе управления **Коллекция** отобразятся демонстрационные данные.

    ![Показ данных](./media/add-gallery/show-data-default.png)

## <a name="add-a-control-to-the-gallery-control"></a>Добавление элемента управления в элемент управления "Коллекция"
Прежде чем выполнять настройку, убедитесь, что макет для элемента управления **галереи** наиболее точно соответствует тому, что вам нужно. После этого можно изменить шаблон **коллекции** , который определяет, как отображаются все данные в элементе управления " **коллекция** ".

1. Выберите шаблон, щелкнув в нижней части элемента управления **галереи** и выбрав значок карандаша в левом верхнем углу.

    ![Изменение шаблона коллекции](./media/add-gallery/edit-item.png)

2. Выбрав шаблон, добавьте элемент управления **[Метка](controls/control-text-box.md)** , а затем переместите и измените его размер таким образом, чтобы он не накладывался на другие элементы управления.

    ![Добавление метки](./media/add-gallery/add-text-box.png)

3. Выберите коллекцию, а затем щелкните **изменить** рядом с **полями** на вкладке **Свойства** правой панели.

4. Выберите метку, добавленную ранее в этой процедуре, и откройте выделенный список на панели **Данные**.

    ![Открытие раскрывающегося списка](./media/add-gallery/open-dropdown.png)

5. В этом списке выберите **Цена**.

    В элементе управления **Коллекция** отобразятся новые значения.

    ![Окончательная версия коллекции](./media/add-gallery/final-gallery.png)

## <a name="filter-and-sort-a-gallery"></a>Фильтрация и сортировка коллекции
Набор элементов, которые отображаются в элементе управления **[Коллекция](controls/properties-core.md)** , определяется его свойством **Items**. В этой процедуре вы настроите это свойство, чтобы оно также определило, какие записи будут отображаться на основе условий фильтра и порядка.

![Поле поиска и значок сортировки](./media/add-gallery/text-search-box.png)

1. Задайте для свойства **[Items](controls/properties-core.md)** элемента управления **Коллекция** следующую формулу:

    ```powerapps-comma
    Sort
        (If
            (IsBlank(TextSearchBox1.Text);
            FlooringEstimates;
            Filter(
                FlooringEstimates;
                TextSearchBox1.Text in Text(Name)
            )
        );
        Name;
        If(
            SortDescending1;
            SortOrder.Descending;
            SortOrder.Ascending
        )
    )
    ```

    Дополнительные сведения о других функциях см. в [справочнике по формулам](formula-reference.md).

1. Дважды щелкните поле поиска, а затем введите часть или все название продукта.

    Отображаются только те элементы, которые соответствуют критерию фильтра.

1. Удерживая нажатой клавишу Alt, выберите значок сортировки один или несколько раз, чтобы изменить порядок сортировки.

    Записи переключаются между сортировкой по возрастанию и убыванию в алфавитном порядке на основе названия продукта.

## <a name="highlight-the-selected-item"></a>Выделение выбранного элемента
Задайте для свойства **темплатефилл** элемента управления **галереи** формулу, похожую на этот пример, но при необходимости можно указать другие цвета:

**If(ThisItem.IsSelected; LightCyan; White)**

## <a name="change-the-default-selection"></a>Изменение выбора по умолчанию
Задайте для свойства **Default** элемента управления **Коллекция** запись, которую необходимо выбирать по умолчанию. Например, можно указать Пятый элемент в источнике данных **флуринжестиматес** :

**Last(FirstN(FlooringEstimates; 5))**

В этом примере укажите первый элемент в категории **Hardwood** источника данных **FlooringEstimates**:

**First(Filter(FlooringEstimates; Category = "Hardwood"))**

## <a name="next-steps"></a>Дальнейшие действия
Дополнительные сведения см. в статье [Общие сведения о формах данных в Microsoft PowerApps](working-with-forms.md) и [Начало работы с формулами](working-with-formulas.md).
