---
title: Отображение списка элементов в приложении на основе холста | Документы Майкрософт
description: Использование коллекции для отображения списка элементов и фильтрации его по определенному критерию в приложении на основе холста.
author: emcoope-msft
manager: kvivek
ms.service: powerapps
ms.topic: conceptual
ms.custom: canvas
ms.reviewer: anneta
ms.date: 09/28/2017
ms.author: emcoope
search.audienceType:
- maker
search.app:
- PowerApps
ms.openlocfilehash: f45948bc16f036669a09ed2c566c60440d24a797
ms.sourcegitcommit: 4042388fa5e7ef50bc59f9e35df330613fea29ae
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "61528125"
---
# <a name="show-a-list-of-items-in-powerapps"></a>Отображение списка элементов в PowerApps

Чтобы отобразить список элементов из любого источника данных, добавьте в приложение на основе холста элемент управления **[Коллекция](controls/control-gallery.md)**. В этой статье в качестве источника данных используется Excel. Чтобы отфильтровать список, настройте элемент управления **Коллекция** таким образом, чтобы в нем отображались только элементы, соответствующие определенному условию, которое задается в **[поле для ввода текста](controls/control-text-input.md)**.

## <a name="prerequisites"></a>Технические условия

- Узнайте, как [добавить и настроить элемент управления](add-configure-controls.md) в PowerApps.

- Подготовьте демонстрационные данные:
    1. Скачайте [этот файл Excel](https://az787822.vo.msecnd.net/documentation/get-started-from-data/FlooringEstimates.xlsx), содержащий образец данных для этого руководства.

    2. Отправьте файл Excel в [учетную запись облачного хранилища](connections/cloud-storage-blob-connections.md), например OneDrive для бизнеса.

- Откройте пустое приложение:
    1. [Войдите в PowerApps](http://web.powerapps.com?utm_source=padocs&utm_medium=linkinadoc&utm_campaign=referralsfromdoc).

    1. В разделе **Создание собственного приложения** выберите **Приложение на основе холста с нуля**.

    1. Укажите имя приложения, выберите **Телефон**, а затем выберите **Создать**.

    1. Если отобразится диалоговое окно **Вас приветствует PowerApps Studio**, выберите в нем **Пропустить**.

    1. [Добавьте подключение](add-data-connection.md) в таблицу **FlooringEstimates** из файла Excel.

## <a name="add-a-gallery-to-a-blank-screen"></a>Добавление коллекции к пустой экран

1. На **вставить** выберите **коллекции**, а затем выберите **вертикальной**.

    ![Добавление вертикальной коллекции](./media/add-gallery/gallery-dropdown.png)

1. На **свойства** вкладке панели справа откройте **элементы** , а затем выберите **покрытий**.

    ![Оценки покрытия для пола](./media/add-gallery/select-layout.png)

1. (необязательно) В **макета** выберите другой вариант.

## <a name="add-a-gallery-in-a-screen"></a>Добавление коллекции на экране

1. На **Главная** выберите **новый экран** > **окно списка**.

    Экран, содержащий **коллекции** управления и другие элементы управления, такими как панель поиска, отображается.

1. Присвойте свойству **Items** коллекции значение `FlooringEstimates`.

    В элементе управления **Коллекция** отобразятся демонстрационные данные.

    ![Показ данных](./media/add-gallery/show-data-default.png)

## <a name="add-a-control-to-the-gallery-control"></a>Добавление элемента управления в элемент управления "Коллекция"
Перед выполнением какой-либо другие настройки, убедитесь, что макет для вашей **коллекции** управления наиболее точно соответствующий вашим требованиям. После этого можно изменить **коллекции** шаблон, который определяет, как все данные в **коллекции** отображается элемент управления.

1. Выберите шаблон, нажав в нижней части **коллекции** управления и выбрав значок карандаша в левом верхнем углу.

    ![Изменение шаблона коллекции](./media/add-gallery/edit-item.png)

2. Выбрав шаблон, добавьте элемент управления **[Метка](controls/control-text-box.md)**, а затем переместите и измените его размер таким образом, чтобы он не накладывался на другие элементы управления.

    ![Добавление метки](./media/add-gallery/add-text-box.png)

3. Выберите коллекцию, а затем выберите **изменить** рядом с полем **поля** на **свойства** вкладку на панели справа.

4. Выберите метку, добавленную ранее в этой процедуре, и откройте выделенный список на панели **Данные**.

    ![Открытие раскрывающегося списка](./media/add-gallery/open-dropdown.png)

5. В этом списке выберите **Цена**.

    В элементе управления **Коллекция** отобразятся новые значения.

    ![Окончательная версия коллекции](./media/add-gallery/final-gallery.png)

## <a name="filter-and-sort-a-gallery"></a>Фильтрация и сортировка коллекции
Набор элементов, которые отображаются в элементе управления **[Коллекция](controls/properties-core.md)**, определяется его свойством **Items**. В этой процедуре вы настроить это свойство таким образом, чтобы он также определяет отображение данных в зависимости от критериев фильтра и в каком порядке.

![Значок поиска поля и сортировки](./media/add-gallery/text-search-box.png)

1. Задайте для свойства **[Items](controls/properties-core.md)** элемента управления **Коллекция** следующую формулу:

    ```powerapps-dot
    Sort
        (If
            (IsBlank(TextSearchBox1.Text),
            FlooringEstimates,
            Filter(
                FlooringEstimates,
                TextSearchBox1.Text in Text(Name)
            )
        ),
        Name,
        If(
            SortDescending1,
            SortOrder.Descending,
            SortOrder.Ascending
        )
    )
    ```

    Дополнительные сведения о других функциях см. в [справочнике по формулам](formula-reference.md).

1. Дважды щелкните поле поиска, а затем введите частично или полностью имя продукта в нем.

    Отображаются только элементы, которые отвечают условию фильтра.

1. Удерживая нажатой клавишу Alt, выберите значок сортировки один или несколько раз для переключения порядок сортировки.

    Записи переключаться между сортировкой по возрастанию и убыванию на основе имени продукта.

## <a name="highlight-the-selected-item"></a>Выделение выбранного элемента
Задайте **коллекции** элемента управления **TemplateFill** формулу, которая похожа на этом примере, но вы можно задать разные цвета, если вы хотите, чтобы:

**If(ThisItem.IsSelected, LightCyan, White)**

## <a name="change-the-default-selection"></a>Изменение выбора по умолчанию
Задайте для свойства **Default** элемента управления **Коллекция** запись, которую необходимо выбирать по умолчанию. Например, можно указать пятый элемент в **FlooringEstimates** источника данных:

**Last(FirstN(FlooringEstimates, 5))**

В этом примере укажите первый элемент в категории **Hardwood** источника данных **FlooringEstimates**:

**First(Filter(FlooringEstimates, Category = "Hardwood"))**

## <a name="next-steps"></a>Дальнейшие действия
Дополнительные сведения см. в статье [Общие сведения о формах данных в Microsoft PowerApps](working-with-forms.md) и [Начало работы с формулами](working-with-formulas.md).
