---
title: Запуск потока в приложении на основе холста | Документы Майкрософт
description: Создание потока, который выполняет те или иные задачи после определенного события, например нажатия кнопки пользователем, в приложении на основе холста.
author: stepsic-microsoft-com
manager: kvivek
ms.service: powerapps
ms.topic: conceptual
ms.custom: canvas
ms.reviewer: anneta
ms.date: 12/07/2018
ms.author: stepsic
search.audienceType:
- maker
search.app:
- PowerApps
ms.openlocfilehash: 5439399a22b47fcf4195cf878208e0e0bd4e0764
ms.sourcegitcommit: 4042388fa5e7ef50bc59f9e35df330613fea29ae
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "61532118"
---
# <a name="start-a-flow-in-a-canvas-app"></a>Запуск потока в приложении на основе холста

Microsoft Flow позволяет создать логику, выполняющую какой-то набор задач, когда в приложении на основе холста происходит определенное событие. Например, настройте кнопку таким образом, чтобы при ее нажатии в списке SharePoint создавался элемент, отправлялось электронное сообщение или запрос на собрание, файл добавлялся в облако или чтобы выполнялись все из перечисленных действий. Вы можете настроить любой элемент управления в приложении для запуска потока, который продолжит выполняться, даже если закрыть PowerApps.

> [!NOTE]
> Когда пользователь запускает поток в приложении, этот пользователь должен иметь разрешение на выполнение задачи, которые указаны в потоке. В противном случае поток завершается ошибкой.

## <a name="prerequisites"></a>Технические условия

- [Регистрация](../signup-for-powerapps.md) в PowerApps.
- Узнайте, как [настроить элемент управления](add-configure-controls.md).

## <a name="create-a-flow"></a>Создание потока

1. Войдите в [PowerApps](http://web.powerapps.com?utm_source=padocs&utm_medium=linkinadoc&utm_campaign=referralsfromdoc).

1. На панели навигации слева, выберите **бизнес-логики**, а затем выберите **потоки**.

1. В левом верхнем углу **Мои потоки** выберите **New**, а затем выберите **создание из пустого**.

    ![Параметр, позволяющий создать поток без использования шаблона](./media/using-logic-flows/create-from-blank.png)

1. В нижней части страницы, которая отображается, выберите **поиск среди сотен подключений и триггеры**.

1. В поле поиска введите **PowerApps**, а затем выберите **PowerApps** значок.

    ![Создать триггер PowerApps](./media/using-logic-flows/set-trigger.png)
    
1. На следующей странице выберите значок PowerApps еще раз, а затем выберите **новый шаг**.

1. В поле с текстом **поиск соединителей и действиям**, укажите действие для последовательности, как в следующем примере:

   1. Тип **SharePoint** в поле, а затем выберите **Создание элемента** в списке **действия**.

       ![Параметр, позволяющий создать элемент SharePoint](./media/using-logic-flows/create-sharepoint-item.png)

   1. При появлении запроса введите учетные данные для подключения к SharePoint.

   1. В поле **Адрес сайта** введите или вставьте URL-адрес сайта SharePoint Online, содержащего список.

       > [!NOTE]
       > Не добавлять имя списка к URL-адрес.

   1. В **имя списка** укажите список, который вы хотите использовать.
   
       ![Укажите список](./media/using-logic-flows/list-fields.png)

   1. Выберите поле ввода для поля в списке (такие как **Title**) выберите **увеличить** в области динамической content, а затем выберите **спросить в PowerApps**. 

       ![Добавление параметра "Спросить в PowerApps" в поле Title (Заголовок)](./media/using-logic-flows/ask-in-powerapps.png)

1. (необязательно) Укажите один или несколько дополнительных шагов, например отправку письма об утверждении на указанный вами адрес или Создание связанной записи в другом источнике данных.

1. В левом верхнем углу введите или вставьте имя последовательности и нажмите кнопку **Сохранить** в правом верхнем углу.

## <a name="add-a-flow-to-an-app"></a>Добавление потока в приложение
1. На панели навигации слева, выберите **создать**.

1. Наведите указатель мыши **приложения на основе холста с нуля** плитку, а затем выберите **сделать это приложение**.

1. Добавьте элемент управления **[Текстовое поле](controls/control-text-input.md)** и назовите его **RecordTitle**.

1. Добавьте элемент управления **[Кнопка](controls/control-button.md)** и переместите его под элемент управления **RecordTitle**.

1. Выберите элемент управления **[Кнопка](controls/control-button.md)**, а затем на вкладке **Действие** щелкните **Потоки**.

    ![Параметр "Потоки" на вкладке "Действия"](./media/using-logic-flows/action-tab.png)

1. В появившейся области выберите поток, созданный при выполнении предыдущей процедуры.

    > [!NOTE]
   > Если созданный вами поток недоступен, убедитесь, что в PowerApps выбрана именно то окружение, в котором этот поток был создан.

    ![Добавление потока из области настройки](./media/using-logic-flows/add-flow-from-pane.png)

1. В строке формул введите или вставьте **RecordTitle.Text)** в конце формулы, добавленной автоматически.

    ![Свойство OnSelect, содержащее поток](./media/using-logic-flows/onselect-with-flow.png)

## <a name="test-the-flow"></a>Тестирование потока
1. Дважды щелкните **ввода текста** управления и введите или вставьте в него какой-нибудь текст.

1. Удерживая нажатой клавишу Alt, выберите **[кнопку](controls/control-button.md)** элемента управления.

    В списке, который указан с текстом, указанное в заголовке создается элемент SharePoint. Если список был открыт при запуске потока, может потребоваться обновить окно браузера для отображения изменений.
