---
title: Запуск потока в приложении на основе холста | Документы Майкрософт
description: Создание потока, который выполняет те или иные задачи после определенного события, например нажатия кнопки пользователем, в приложении на основе холста.
author: stepsic-microsoft-com
manager: kvivek
ms.service: powerapps
ms.topic: conceptual
ms.custom: canvas
ms.reviewer: tapanm
ms.date: 12/07/2018
ms.author: stepsic
search.audienceType:
- maker
search.app:
- PowerApps
ms.openlocfilehash: 1e5c90fcc6e4f8d4c8e1d73eadc9a31fdbfe48ef
ms.sourcegitcommit: 7dae19a44247ef6aad4c718fdc7c68d298b0a1f3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/07/2019
ms.locfileid: "71988300"
---
# <a name="start-a-flow-in-a-canvas-app"></a>Запуск потока в приложении на основе холста

Microsoft Flow позволяет создать логику, выполняющую какой-то набор задач, когда в приложении на основе холста происходит определенное событие. Например, настройте кнопку таким образом, чтобы при ее нажатии в списке SharePoint создавался элемент, отправлялось электронное сообщение или запрос на собрание, файл добавлялся в облако или чтобы выполнялись все из перечисленных действий. Вы можете настроить любой элемент управления в приложении для запуска потока, который продолжит выполняться, даже если закрыть PowerApps.

> [!NOTE]
> Когда пользователь запускает последовательность из приложения, этот пользователь должен иметь разрешение на выполнение задач, указанных в последовательности. В противном случае последовательность завершится ошибкой.

## <a name="prerequisites"></a>Технические условия

- [Регистрация](../signup-for-powerapps.md) в PowerApps.
- Узнайте, как [настроить элемент управления](add-configure-controls.md).

## <a name="create-a-flow"></a>Создание потока

1. Войдите в [PowerApps](http://web.powerapps.com?utm_source=padocs&utm_medium=linkinadoc&utm_campaign=referralsfromdoc).

1. На панели навигации слева выберите **бизнес-логика**, а затем выберите **последовательности.**

1. В левом верхнем углу страницы **мои потоки** выберите **создать**, а затем выберите **создать из пустого**окна.

    ![Параметр, позволяющий создать поток без использования шаблона](./media/using-logic-flows/create-from-blank.png)

1. В нижней части отображаемой страницы выберите **Поиск сотен подключений и триггеров**.

1. В поле поиска введите **PowerApps**, а затем щелкните значок **powerapps** .

    ![Создание триггера PowerApps](./media/using-logic-flows/set-trigger.png)
    
1. На следующей странице снова выберите значок PowerApps, а затем выберите **новый шаг**.

1. В поле с текстом **соединители поиска и действия**укажите действие для последовательности, как показано в следующем примере:

   1. В поле введите **SharePoint** , а затем в списке **действия**выберите **создать элемент** .

       ![Параметр, позволяющий создать элемент SharePoint](./media/using-logic-flows/create-sharepoint-item.png)

   1. При появлении запроса введите учетные данные для подключения к SharePoint.

   1. В поле **Адрес сайта** введите или вставьте URL-адрес сайта SharePoint Online, содержащего список.

       > [!NOTE]
       > Не добавляйте имя списка к URL-адресу.

   1. В поле **имя списка** укажите список, который вы хотите использовать.
   
       ![Указать список](./media/using-logic-flows/list-fields.png)

   1. Выберите поле ввода для поля в списке (например, **заголовок**), выберите **Просмотреть больше** в области динамического содержимого, а затем выберите **запросить в PowerApps**. 

       ![Добавление параметра "Спросить в PowerApps" в поле Title (Заголовок)](./media/using-logic-flows/ask-in-powerapps.png)

1. используемых Укажите один или несколько дополнительных шагов, например Отправка сообщения с утверждением по указанному адресу или создание связанной записи в другом источнике данных.

1. В левом верхнем углу введите или вставьте имя последовательности, а затем нажмите кнопку **сохранить** рядом с верхним правым углом.

## <a name="add-a-flow-to-an-app"></a>Добавление потока в приложение
1. На панели навигации слева выберите **создать**.

1. Наведите указатель мыши на **приложение Canvas с пустой** плитки, а затем выберите **сделать это приложение**.

1. Добавьте элемент управления **[Текстовое поле](controls/control-text-input.md)** и назовите его **RecordTitle**.

1. Добавьте элемент управления **[Кнопка](controls/control-button.md)** и переместите его под элемент управления **RecordTitle**.

1. Выберите элемент управления **[Кнопка](controls/control-button.md)** , а затем на вкладке **Действие** щелкните **Потоки**.

    ![Параметр "Потоки" на вкладке "Действия"](./media/using-logic-flows/action-tab.png)

1. В появившейся области выберите поток, созданный при выполнении предыдущей процедуры.

    > [!NOTE]
   > Если созданный вами поток недоступен, убедитесь, что в PowerApps выбрана именно то окружение, в котором этот поток был создан.

    ![Добавление потока из области настройки](./media/using-logic-flows/add-flow-from-pane.png)

1. В строке формул введите или вставьте **RecordTitle.Text)** в конце формулы, добавленной автоматически.

    ![Свойство OnSelect, содержащее поток](./media/using-logic-flows/onselect-with-flow.png)

## <a name="test-the-flow"></a>Тестирование потока
1. Дважды щелкните элемент управления **Ввод текста** и введите или вставьте в него некоторый текст.

1. Удерживая нажатой клавишу Alt, выберите элемент управления **[Button](controls/control-button.md)** .

    Элемент SharePoint создается в списке, указанном с текстом, указанным в качестве заголовка. Если список был открыт при запуске потока, может потребоваться обновить окно браузера для отображения изменений.
