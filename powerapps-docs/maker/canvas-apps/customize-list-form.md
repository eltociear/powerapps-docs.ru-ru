---
title: Настройка формы списка SharePoint | Документация Майкрософт
description: Используйте Power Apps для настройки формы, с помощью которой пользователи могут создавать и обновлять записи в списке SharePoint.
author: tapanm-msft
manager: kvivek
ms.service: powerapps
ms.topic: conceptual
ms.custom: canvas
ms.reviewer: ''
ms.date: 10/24/2019
ms.author: tapanm
search.audienceType:
- maker
search.app:
- PowerApps
ms.openlocfilehash: 61cf2ad5926daf8b1b5bea6310b9fb29563208e2
ms.sourcegitcommit: 6b27eae6dd8a53f224a8dc7d0aa00e334d6fed15
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/03/2019
ms.locfileid: "74731697"
---
# <a name="customize-a-sharepoint-list-form-by-using-power-apps"></a>Настройка формы списка SharePoint с помощью Power Apps

Форму списка SharePoint можно легко настроить, открыв Power Apps в браузере. Вам не нужно писать традиционный код, например C#, или загружать другое приложение, например InfoPath. При публикации изменений форма встроена в список SharePoint — ее могут использовать все его пользователи. В Power Apps можно также просматривать аналитические отчеты, легко создавать условное форматирование и подключаться к другим источникам данных.

Выполняя действия, описанные в этом разделе, вы создадите простой список, чтобы увидеть, как работает функция настройки, а затем применить те же принципы к своему списку.

> [!NOTE]
> - Если параметр **Настройка форм** недоступен или не работает правильно для вашего списка, он может содержать типы данных, которые [не поддерживаются приложениями Power Apps](connections/connection-sharepoint-online.md#known-issues). Кроме того, невозможно переместить форму в другой список или [среду](working-with-environments.md). 
> - Пользовательские формы для списков поддерживаются только в универсальных списках. Поддержка универсальных библиотек документов ожидается в ближайшее время. Настраиваемые шаблоны списков и библиотек в настоящее время не поддерживаются; включает в себя, но не ограниченные списки, такие как извещения, контакты и задачи.

## <a name="create-a-list"></a>Создание списка

На сайте SharePoint создайте список, а затем добавьте следующие столбцы в этот список:

- **Сведения** (да/нет)
- **Цена** (валюта)
- **Наличие** (дата без времени)
- **Цвет** (выбор)

> [!div class="mx-imgBorder"]
> ![выберите содержимое сайта > новый список >, введите имя списка и нажмите кнопку Создать. Для каждого столбца выберите Добавить столбец, укажите тип списка (да/нет, валюта, Дата, выбор), укажите имя списка (сведения, Цена, доступность, цвет) и нажмите кнопку Сохранить.](./media/customize-list-form/create-list.gif)

## <a name="open-the-form"></a>Откройте форму

1. На панели команд выберите **PowerApps**, а затем выберите **Настройка формы**.

    Приложение Power Apps Studio открывается на той же вкладке браузера.

1. Если откроется диалоговое окно " **Добро пожаловать в Power Apps Studio** ", выберите **пропустить**.

> [!div class="mx-imgBorder"]
> ![на панели команд выберите Power Apps, а затем — Настройка формы. Приложение Power Apps Studio открывается на той же вкладке браузера. Если откроется диалоговое окно "Добро пожаловать в Power Apps Studio", выберите пропустить.](./media/customize-list-form/create-form.gif)

## <a name="move-and-remove-a-field"></a>Перемещение и удаление поля

1. Перетащите поле **доступность** в нижнюю часть списка полей.

    Поля отображаются в указанном порядке.

1. Наведите указатель мыши на поле **вложения** , щелкните появившуюся кнопку (...), а затем выберите **Удалить**.

    Указанное поле исчезает из формы.

> [!div class="mx-imgBorder"]
> ![перетащите поле доступность в нижнюю часть списка полей. Наведите указатель мыши на поле вложения, щелкните появившуюся кнопку (...), а затем выберите Удалить.](./media/customize-list-form/move-remove-fields.gif)

## <a name="set-conditional-formatting"></a>Настройте условное форматирование

Вы можете настроить, чтобы поля **Цена**, **Наличие** и **Цвета** отображались только в случае, если для поля **Сведения** задано значение "Да".

1. На панели навигации слева разверните **Details_DataCard1**и обратите внимание на цифру, которая отображается в конце **датакардвалуе**.

1. Задайте в этой формуле свойство **Visible** ( **Цвет**, **доступность**и **Цена** ) для этой формулы (при необходимости можно заменить цифру на номер, записанный на предыдущем шаге):

    **Если (DataCardValue2. Value = true, true)**

1. Удерживая нажатой клавишу ALT, несколько раз нажмите на переключатель **Сведения**.

    Три настроенных поля будут появляться в форме и исчезать из нее.

> [!div class="mx-imgBorder"]
> ![на левой панели навигации, обратите внимание на цифру, которая отображается в конце Датакардвалуе. В этой формуле задайте для свойства Visibility (цвет, доступность) и прайс Card (цена) значение. Удерживайте нажатой клавишу Alt и выберете элемент управления Details несколько раз.](./media/customize-list-form/conditional-format.gif)

## <a name="save-and-publish-the-form"></a>Сохранение и публикация формы

1. Откройте меню **Файл**, нажмите **Сохранить**, а затем дважды нажмите **Опубликовать в SharePoint**.

1. В левом верхнем углу нажмите на стрелку "Назад" и выберите **Вернуться в SharePoint**.

> [!div class="mx-imgBorder"]
> ![откройте меню файл, выберите сохранить, а затем дважды выберите Опубликовать в SharePoint. В левом верхнем углу щелкните стрелку назад и выберите вернуться к SharePoint.](./media/customize-list-form/save-form.gif)

## <a name="further-customize-your-form"></a>Дальнейшая настройка формы

1. Откройте список, выберите **создать** на панели команд и нажмите кнопку **настроить** в верхней части формы.

1. Настройка формы различными способами, такими как описания, описанные в следующих разделах:

    - Измените ее размер и ориентацию (например, чтобы [расширить форму](set-aspect-ratio-portrait-landscape.md)).
    - [Настройте одну или несколько карточек](working-with-cards.md) (например, измените отображаемый текст или элемент управления вводом).
    - Создайте [поле подстановки](sharepoint-lookup-fields.md).

    Дополнительные сведения см. в этой этой [рекомендации](sharepoint-form-integration.md).

## <a name="use-the-default-form"></a>Используйте форму по умолчанию

1. В списке в SharePoint откройте страницу параметров (нажав на значок шестеренки в правом верхнем углу), а затем выберите **Параметры списка**.

2. В разделе **Общие параметры** выберите **Параметры формы**.

3. На странице **Параметры формы** выберите один из следующих вариантов и нажмите **OK**.

    - **Использовать форму SharePoint по умолчанию** — когда пользователь открывает список и на панели команд выбирает **Создать**, открывается форма по умолчанию для списка.

    - **Использование настраиваемой формы, созданной в Power Apps** . когда пользователь открывает список и выбирает **Новый** на панели команд, будет отображена пользовательская форма. (В качестве альтернативы можно снова опубликовать форму в Power Apps.)

    Вы можете свободно переключаться между этими двумя параметрами.

    ![Параметры на странице "Параметры формы"](./media/customize-list-form/form-settings.png)

## <a name="delete-the-custom-form"></a>Кнопка "Удалить настраиваемую форму"

1. В списке в SharePoint откройте страницу параметров (нажав на значок шестеренки в правом верхнем углу), а затем выберите **Параметры списка**.

1. В разделе **Общие параметры** выберите **Параметры формы**.

1. На странице **Параметры формы** выберите **Использовать форму SharePoint по умолчанию**, а затем выберите **Удалить настраиваемую форму**.

    ![Кнопка "Удалить настраиваемую форму"](./media/customize-list-form/use-default-sharepoint.png)

## <a name="q--a"></a>вопросы & A

### <a name="forms-vs-apps"></a>Формы и приложения

**Вопрос.** Чем настроенная форма отличается от автономного приложения, созданного на основе SharePoint или Power Apps?

Ответ **.** При настройке формы для списка SharePoint форма не отображается как приложение в Power Apps Studio или Power Apps Mobile. Вы можете открыть форму только из списка, для которого создали ее.

**Вопрос.** Когда следует настроить форму для управления данными в списке SharePoint, а когда следует создать отдельное приложение?

**Ответ.** Настройте форму, если хотите, чтобы пользователи управляли данными, не выходя из SharePoint (например, в классическом браузере). Создайте приложение, если пользователи должны управлять данными за пределами SharePoint (например, на мобильном устройстве).

**Вопрос.** Можно ли настроить форму и создать приложение для одного списка?

**Ответ.** Да.

**Вопрос.** Можно ли настроить список и создать приложение с одинаковыми возможностями?

**Ответ.** Да.

**Вопрос.** Можно ли настроить форму в среде, отличной от используемой по умолчанию в моей организации?

**Ответ.** Нет.

### <a name="manage-your-custom-form"></a>Управление настраиваемой формой

**Вопрос.** Как предоставить общий доступ к моей форме?

Ответ **.** Откройте форму, выберите **Копировать ссылку**, а затем отправьте ссылку всем, кто хочет использовать эту форму.

**Вопрос.** Можно ли обновлять форму так, чтобы мои изменения не видели другие пользователи?

**Ответ.** Да. Вы можете вносить изменения в форму и сохранять ее столько раз, сколько необходимо. Изменения не будут видны другим пользователям, пока вы дважды не нажмете **Опубликовать в SharePoint**.

**Вопрос.** Если при настройке формы будет допущена ошибка, можно ли вернуться к предыдущей версии?

**Ответ.** Да.

1. Откройте список, выберите **PowerApps** на панели команд, а затем нажмите **Настроить формы**.

1. В Power Apps Studio выберите **файл**, а затем выберите **Просмотреть все версии**. В новой вкладке браузера откроется страница **Версии**.

    > [!NOTE]
    > Если кнопка **Просмотреть все версии** не отображается, нажмите **Сохранить**. Кнопка должна появиться.

1. Не закрывая страницу " **версии** " или "браузер", вернитесь на страницу **сохранения** на другой вкладке браузера, щелкните стрелку в верхней части левой области навигации, а затем нажмите кнопку **назад к SharePoint** , чтобы разблокировать форму и закрыть Power Apps Studio.

1. Вернитесь на страницу **Версии** в другой вкладке браузера, найдите версию, которую требуется восстановить, и нажмите кнопку **Восстановить**.

    > [!NOTE]
    > Если появляется сообщение об ошибке, сообщающее о сбое восстановления, поскольку форма заблокирована другим пользователем, подождите, пока пользователь разблокирует форму, и повторите попытку.

**Вопрос.** Можно ли перемещать форму из одного списка в другой?

**Ответ.** Нет.

### <a name="administer-your-custom-form"></a>Администрирование настраиваемой формы

**Вопрос.** Как предоставить общий доступ к моей форме?

Ответ **.** Вам не нужно предоставлять общий доступ к форме — эта форма наследует разрешения из списка SharePoint. Завершив настройку, просто [опубликуйте форму в SharePoint](customize-list-form.md#save-and-publish-the-form), чтобы ее могли использовать другие пользователи.

**Вопрос.** Кто может настраивать формы?

**Ответ.** Любой пользователь с разрешениями SharePoint на администрирование, создание или изменение связанного списка.

**Вопрос.** Нужна ли лицензия Power Apps для создания или использования пользовательских форм списков?

Ответ **.** Вам потребуется [план Office 365, который включает в себя Power Apps](https://docs.microsoft.com/power-platform/admin/pricing-billing-skus#licenses).

**Вопрос.** Что происходит, когда пользователи-гости получают доступ к списку, для которого создана настраиваемая форма?

Ответ **.** Гостевые пользователи получают сообщение об ошибке при попытке доступа к форме списка, настроенной с помощью Power Apps.

**Вопрос.** Как администратору получить список всех настроенных форм в своей организации?

Ответ **.** Если вы являетесь администратором клиента для Power Apps или имеете разрешения администратора среды в среде по умолчанию Power Apps для вашей организации, выполните следующие действия.

1. В [центре администрирования Power Apps](https://admin.powerapps.com)выберите среду по умолчанию для своей организации в списке сред.

1. В верхней части страницы среды по умолчанию выберите **Ресурсы**.

1. В списке приложений найдите приложения с типом приложения **формы SharePoint** — это настраиваемые формы.

    ![Список настраиваемых форм](./media/customize-list-form/all-customized-forms.png)
