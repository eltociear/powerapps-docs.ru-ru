---
title: Формулы поведения для компонентов | Документация Майкрософт
description: Выполнить одну или несколько задач в приложении Canvas при возникновении действия на основе компонента.
author: yifwang
ms.service: powerapps
ms.topic: article
ms.date: 02/20/2020
ms.author: yifwang
ms.reviewer: tapanm
search.audienceType:
- maker
search.app:
- PowerApps
ms.openlocfilehash: 28ea432e5d09684029f104d69f593e24dcc4cc14
ms.sourcegitcommit: 59f0b3adc56279b5673cbf04b4a55bd7678e1ea7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/28/2020
ms.locfileid: "77910978"
---
# <a name="behavior-formulas-for-components"></a>Формулы поведения для компонентов

> [!IMPORTANT]
> Эта функция по-прежнему доступна в общедоступной предварительной версии. Дополнительные сведения см. в статье [Экспериментальные и предварительные версии](working-with-experimental.md).

Укажите одну или несколько [формул поведения](working-with-formulas-in-depth.md) , которые выполняются, когда событие вызывает изменение в экземплярах компонента. 

Например, можно установить свойство **OnReset** компонента в одну или несколько формул, которые выполняют инициализацию, и очистить входные данные. И сбрасывают значения, когда функция **Reset** выполняется для экземпляров компонента.

## <a name="onreset"></a>OnReset

Выбрав образец компонента, выберите в раскрывающемся списке свойств (в левой части строки формул) параметр **OnReset** (в левом углу строк формулы), а затем введите одну или несколько формул.

> [!div class="mx-imgBorder"]
> Пример ![с сбросом](./media/component-behavior/example-onreset.png)

Чтобы проверить **OnReset**, настройте элемент управления для сброса компонента. Например, задайте в качестве значения свойства **OnSelect** кнопки следующую формулу: **Reset**(*ComponentName*).

### <a name="example---reset-timer"></a>Пример сброса таймера

> [!div class="mx-imgBorder"]
> Пример ![с сбросом](./media/component-behavior/Resettimer.gif)

В этом компоненте компонента выбора используются две переменные для вывода времени _selectedHour и _selectedMinute. Когда средство выбора сбрасывается, эти переменные должны быть сброшены к значению по умолчанию, скажем 12:12.  Свойство OnReset для компонента имеет следующую формулу: **Set (_selectedHour, 12); Set (_selectedMinute, 12)**

Чтобы активировать сброс, перейдите на экран и вставьте экземпляр компонента. Добавьте кнопку и настройте OnSelect кнопки, чтобы вызвать **Reset (TimerComponent_instance)** для активации OnSelect.

> [!div class="mx-imgBorder"]
> Кнопка сброса ![](./media/component-behavior/reset-button.png)

## <a name="update-onreset-using-custom-property"></a>Обновить OnReset с помощью пользовательского свойства

Помимо сброса экземпляра компонента извне компонента, существует еще один метод, который запускает OnReset из внутренней части. При создании пользовательского входного свойства можно создать параметр**OnReset при изменении значения**. Он позволяет изменить значение этого свойства для активации параметра OnReset компонента. Этот метод предназначен для простого задания и сброса значения по умолчанию. 

> ![Пример OnReset](./media/component-behavior/property-trigger.png)

### <a name="example"></a>Пример

> [!div class="mx-imgBorder"]
> Пример ![с сбросом](./media/component-behavior/updateordernumber2.gif)

В приведенном выше примере показано, как проверить номера заказов и обновить числа. Числовой компонент "вверх и вниз" используется для увеличения или уменьшения количества заказов. При выборе коллекции слева количество числовых компонентов по умолчанию сбрасывается и отображается номер заказа выбранного инструмента. «**Повышение OnReset при изменении значения**» стало возможным сброс значения по умолчанию при изменении входных данных. 

Чтобы сделать это, установите флажок "**повышать значение OnReset при изменении значения**" входного свойства по умолчанию. Для параметра **OnReset** компонента задано **значение SET (_NumericValue, "numeric up down". DefaultValue)** . _numericValue — переменная для хранения значения текущего заказа. И задайте значение **по умолчанию** для элемента управления Text input равным, **если («-пусто» (_numericValue), «числовое значение вниз». DefaultValue, _numericValue)** . 

### <a name="see-also"></a>См. также:

- [Общие сведения о компонентах приложения Canvas](create-component.md)
- [Библиотека компонентов приложения Canvas](component-library.md)
