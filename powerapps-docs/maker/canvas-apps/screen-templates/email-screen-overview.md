---
title: Шаблон электронной почты экрана | Документация Майкрософт
description: Понять, как работает шаблон экрана электронной почты для приложения на основе холста и расширять на экране для собственных вариантов использования
author: emcoope-msft
manager: kvivek
ms.service: powerapps
ms.topic: conceptual
ms.custom: canvas
ms.reviewer: anneta
ms.date: 12/29/2018
ms.author: emcoope
search.audienceType:
- maker
search.app:
- PowerApps
ms.openlocfilehash: a1aad5ca9e8c7f8b55b1645b04d6c8dc0b9c707b
ms.sourcegitcommit: 4042388fa5e7ef50bc59f9e35df330613fea29ae
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "61539232"
ms.PowerAppsDecimalTransform: true
---
# <a name="overview-of-the-email-screen-template-for-canvas-apps"></a>Общие сведения о шаблоне экрана электронной почты для приложения на основе холста

В приложение на основе холста добавьте на экран электронной почты, который позволяет пользователям отправлять сообщения электронной почты из своей учетной записи Office 365 Outlook. Пользователей можно найти для получателей в своей организации и добавьте внешние адреса электронной почты, слишком. Можно добавить поддержку вложения образ, изменить данные пользователя, который отображается в коллекции поиск и выполните другие настройки.

Вы также можете добавить другие экраны на базе шаблона, отображение различных данных из Office 365, такие как пользователя [календаря](calendar-screen-overview.md), [людей](people-screen-overview.md) в организации, и [доступности](meeting-screen-overview.md) из люди пользователям может потребоваться приглашения на собрание.

В этом обзоре показано:
> [!div class="checklist"]
> * Инструкции по использованию экрана электронной почты по умолчанию.
> * Как изменить его.
> * Как интегрировать его в приложение.

Подробные сведения о функции по умолчанию этот экран, см. в разделе [ссылку по электронной почте экрана](email-screen-reference.md).

## <a name="prerequisite"></a>Необходимое условие

Знакомство с тем, как добавить и настроить экраны и другие элементы управления, как вы [Создание приложения в PowerApps](../data-platform-create-app-scratch.md).

## <a name="default-functionality"></a>Стандартная функциональность

Чтобы добавить на экран по электронной почте на основе шаблона:

1. [Войдите в](http://web.powerapps.com?utm_source=padocs&utm_medium=linkinadoc&utm_campaign=referralsfromdoc) в PowerApps, для создания приложения или откройте существующее приложение в PowerApps Studio.

    В этом разделе показано приложение для телефона, но те же принципы применимы к приложение для планшета.

1. На **Главная** вкладке на ленте выберите **новый экран** > **электронной почты**.

    По умолчанию экран выглядит примерно так:

    ![Экран по электронной почте](media/email-screen/email-screen-full.png)

Несколько полезные примечания:

* Для поиска пользователей в вашей организации, начните вводить его имя в поле ввода текста под «To».
* При поиске людей, будет возвращаться только 15 результатов.
* Добавьте адреса электронной почты для электронной почты получателям за пределами вашей организации, введите адрес электронной почты полное, допустимые и выберите значок «+», который отображается справа от его.
* Необходимо добавить по крайней мере один пользователь в качестве получателя и укажите тему для отправки сообщения электронной почты.
* После отправки сообщения электронной почты, содержимое тема и текст сообщения, а также список получателей будут все удалены.

## <a name="modify-the-screen"></a>Изменение экрана

Функции по умолчанию этот экран можно изменить в несколько распространенных способов:

* [Добавление поддержки образа вложения](email-screen-overview.md#add-image-attachment-support)
* [Отображение различных данных для пользователей](email-screen-overview.md#show-different-data-for-people)

Если вы хотите изменить дальнейшей экрана, используйте [ссылку по электронной почте экрана](./email-screen-reference.md) по.

> [!IMPORTANT]
> Следующие шаги предполагают, что вы добавили только один экран электронной почты для приложения. Если вы добавили несколько, имена элементов управления (такие как **iconMail1**) будет заканчиваться другой номер, и вам нужно будет соответствующим образом изменить формулы.

### <a name="add-image-attachment-support"></a>Добавление поддержки образа вложения

Это позволяет пользователям отправлять единый образ доступ к электронной почте как вложение.

1. На **вставить** выберите **мультимедиа**, а затем выберите **добавить изображение**.
1. Значение нового элемента управления **Y** свойство следующее выражение:

    `TextEmailMessage1.Y + TextEmailMessage1.Height + 20`
    
1. С помощью **AddMediaWithImage** добавляется элемент управления, задайте высоту, чтобы быть меньше, чем 210.
1. В представлении в виде дерева элемента управления, выберите **AddMediaWithImage** > **...**   >  **Переупорядочить** > **переместить на задний план**.
   Это предотвращает сидел управления **PeopleBrowseGallery** элемента управления.
1. Изменение **высота** свойство **EmailPeopleGallery** следующую формулу:

    ```powerapps-comma
    Min( 
        ( EmailPeopleGallery1.TemplateHeight + EmailPeopleGallery1.TemplatePadding * 2 ) *
            RoundUp( CountRows( EmailPeopleGallery1.AllItems ) / 2; 0 ); 
        304
    )
    ```

1. Задайте **ShowScrollbar** свойство **EmailPeopleGallery** следующее выражение:

    ```EmailPeopleGallery1.Height >= 304```
    
    Это предотвращает помещает максимальную высоту **AddMediaWithImage** управления за пределы страницы.
    
1. Изменение **OnSelect** свойство **iconMail** управления следующую формулу:

    ```powerapps-comma
    Set( _emailRecipientString; Concat(MyPeople; Mail & ";") );;
    If( IsBlank( UploadedImage1 );
        'Office365'.SendEmail( _emailRecipientString; 
            TextEmailSubject1.Text; 
            TextEmailMessage1.Text; 
            { Importance: "Normal" }
        );
        'Office365'.SendEmail( _emailRecipientString; 
            TextEmailSubject1.Text; 
            TextEmailMessage1.Text; 
            {
                Importance: "Normal";
                Attachments: Table(
                    {
                        Name: "Image.jpg"; 
                        ContentBytes: UploadedImage1.Image
                    }
                )
            }
        )
    );;
    Reset( TextEmailSubject1 );;
    Reset( TextEmailMessage1 );;
    Reset( AddMediaButton1 );;
    Clear( MyPeople )
    ```
    
    Эта формула проверяет для отправленного изображения. Если такового не имеется, затем он использует тот же `Office365.SendEmail` операции как и раньше. Если образ, он добавляется в виде вложения в таблице вложений.
    После отправки сообщения электронной почты, дополнительный **Сброс** операции над **AddMediaButton** удалить отправленный образ.
> [!NOTE]
> Чтобы добавить более одного вложения в сообщение электронной почты, добавьте записи в таблицу вложений.

### <a name="show-different-data-for-people"></a>Отображение различных данных для пользователей

Использует этот экран [Office365Users.SearchUser](https://docs.microsoft.com/connectors/office365users/#searchuser) операции для поиска пользователей в вашей организации. Он предоставляет дополнительные поля для каждого события, за что отображается в **PeopleBrowseGallery** элемента управления. Добавление или изменение поля в коллекции прост:

1. В **PeopleBrowseGallery** управления, выберите метку, изменить (или добавьте его и оставить его включенным).

1. С его **текст** свойства, выбранного в строке формул Замените содержимое с `ThisItem.`

    IntelliSense отображает список полей, которые можно выбрать.

1. Выберите нужное поле.

    **Текст** обновляется до `ThisItem.{FieldSelection}`.

## <a name="integrate-the-screen-into-an-app"></a>Интеграция экрана в приложение

На экране по электронной почте представляет собой мощный набор элементов управления в сам по себе, но обычно выполняет лучшие как часть большего размера, более универсальное приложение. Этот экран можно интегрировать в приложение большего размера несколькими способами, в том числе [связывания на экран календарь](email-screen-overview.md#linking-to-the-calendar-screen).

### <a name="linking-to-the-calendar-screen"></a>Связывание на экран календарь

Выполните шаги, описанные в разделе «Показать участников мероприятия» [Обзор экрана календаря](./calendar-screen-overview.md#show-event-attendees) но на последнем шаге, задайте **Navigate** функции, чтобы открыть экран по электронной почте. После выполнения этих действий **MyPeople** коллекция заполняется, что позволяет пользователям отправлять электронную почту пользователям, которые посещение выбранного события.

> [!NOTE]
> Отправка этого сообщения электронной почты будет отправлять отдельные сообщения электронной почты из фактического события в Outlook.

## <a name="next-steps"></a>Дальнейшие действия

* [Для этого экрана справочной документации по](./email-screen-reference.md).
* [Дополнительные сведения о соединителе Office 365 пользователи в PowerApps](../connections/connection-office365-users.md).
* [См. в разделе всех доступных подключений в PowerApps](../connections-list.md).