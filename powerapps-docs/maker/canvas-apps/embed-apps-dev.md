---
title: Интеграция приложений на основе холста в веб-сайты и другие службы | Документация Майкрософт
description: Внедрение приложений на основе холста в веб-сайты и другие службы.
author: gregli-msft
manager: kvivek
ms.service: powerapps
ms.topic: conceptual
ms.custom: canvas
ms.reviewer: ''
ms.date: 08/28/2019
ms.author: gregli
search.audienceType:
- maker
search.app:
- PowerApps
ms.openlocfilehash: 99594d99aa0ab1ae4971f3ec2eb1987bb7dcfbcc
ms.sourcegitcommit: d9cecdd5a35279d78aa1b6c9fc642e36a4e4612c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/04/2019
ms.locfileid: "73539027"
---
# <a name="integrate-canvas-apps-into-websites-and-other-services"></a>Интеграция приложений на основе холста в веб-сайты и другие службы
Создаваемые приложения часто наиболее полезны, когда они доступны, когда люди выполняют свою работу. Внедрение приложений Canvas в IFRAME позволяет интегрировать эти приложения на веб-сайты и другие службы, такие как Power BI или SharePoint.

Здесь мы покажем, как задать параметры для внедрения приложения. Затем мы внедрим приложение для заказа товаров в веб-сайт.

![Информационная панель Power BI с внедренным приложением](./media/embed-apps-dev/embed-dashboard.png)

Помните о следующих ограничениях:

- Доступ к внедренному приложению могут получить только пользователи PowerApps того же клиента.
- Чтобы получить доступ к PowerApps в Internet Explorer 11, необходимо отключить просмотр в режиме совместимости.

Можно также интегрировать приложения Canvas в SharePoint Online без использования IFRAME. Дополнительные сведения см. [в разделе Использование веб-части PowerApps](https://support.office.com/article/use-the-powerapps-web-part-6285f05e-e441-408a-99d7-aa688195cd1c).

## <a name="set-uri-parameters-for-your-app"></a>Задание параметров URI для приложения
При наличии приложения, которое вы хотите внедрить, в первую очередь необходимо задать параметры для универсального кода ресурса (URI), чтобы IFrame знал, где найти ваше приложение. URI имеет следующий вид:

```
https://apps.powerapps.com/play/[AppID]?source=iframe
```

> [!IMPORTANT]
> По состоянию на 2019 августа формат URI изменился с https://make.powerapps.com/webplayer на https://apps.powerapps.com/play. Обновите все внедренные элементы iframe, чтобы использовать новый формат URI. Ссылки на предыдущий формат будут перенаправляться на новый универсальный код ресурса (URI) для обеспечения совместимости.
>
> Предыдущий формат:
> 
> HTTPS\://Маке.повераппс.ком/вебплайер/ифрамеапп? Source = IFRAME & appId =/Провидерс/Микрософт.повераппс/АППС/[AppID]

Вам только нужно указать в URI идентификатор своего приложения вместо AppID, в том числе [' & ']. Вскоре мы покажем, как получить это значение, но сначала рассмотрим все параметры, доступные в URI:

* **[AppID]** — предоставляет идентификатор приложения для запуска.
* **tenantid** — необязательный параметр для поддержки гостевого доступа и определяет, из какого клиента следует открыть приложение. 
* **screenColor** — используется для обеспечения лучшей загрузки приложений для ваших пользователей. Этот параметр имеет формат [RGBA (красный, зеленый, синий и альфа)](../canvas-apps/functions/function-colors.md) и определяет цвет экрана при загрузке приложения. Советуем установить для него цвет значка приложения.
* **source** — не влияет на приложение, но мы советуем добавить описательное имя для ссылки на источник внедрения.
* Наконец, вы можете добавить любые настраиваемые параметры с помощью [функции Param()](../canvas-apps/functions/function-param.md), указав те значения, которые могут использоваться вашим приложением. Они добавляются в конец URI, например `[AppID]&amp;param1=value1`. Эти параметры доступны только для чтения во время запуска приложения. Если необходимо изменить их, необходимо перезапустить приложение. Обратите внимание, что только первый элемент после [AppID] должен иметь "?"; После этого используйте "&", как показано здесь. 

### <a name="get-the-app-id"></a>Получение идентификатора приложения
Идентификатор приложения доступен на сайте powerapps.com. Для приложения, которое вы хотите внедрить:

1. На сайте [powerapps.com](https://powerapps.microsoft.com) на вкладке **Приложения** щелкните ( **. . .** ), а затем выберите **Подробные сведения**.
   
    ![Переход к сведениям о приложении](./media/embed-apps-dev/details.png)
1. Скопируйте **идентификатор приложения**.
   
    ![Копирование идентификатора приложения из раздела подробных сведений](./media/embed-apps-dev/app-id.png)
1. Замените значение `[AppID]` в URI. Для приложения по заказу товаров URI будет выглядеть следующим образом:
   
    ```
    https://apps.powerapps.com/play/76897698-91a8-b2de-756e-fe2774f114f2?source=iframe
    ```

## <a name="embed-your-app-in-a-website"></a>Внедрение приложения на веб-сайт
Внедрить приложение теперь так же просто, как добавить IFrame в HTML-код вашего сайта (или любую другую службу, поддерживающую IFrame, например Power BI или SharePoint):

```html
<iframe width="[W]" height="[H]" src="https://apps.powerapps.com/play/[AppID]?source=website&screenColor=rgba(165,34,55,1)" allow="geolocation; microphone; camera"/>
```

Укажите значения высоты и ширины IFrame и идентификатор приложения вместо `[AppID]`.

> [!NOTE]
> Включите `allow="geolocation; microphone; camera"` в HTML-код интернет-кадра, чтобы разрешить приложениям использовать эти возможности в Google Chrome.

На следующем изображении показано приложение для заказа товаров на примере веб-сайта Contoso.

![Веб-сайт Contoso с внедренным приложением](./media/embed-apps-dev/contoso-website.png)

Учитывайте следующие моменты для выполнения проверки подлинности пользователей вашего приложения:

- Если веб-сайт использует проверку подлинности на основе Azure Active Directory, то дополнительный вход не требуется.
- Если ваш сайт использует любой другой механизм входа или не прошел проверку подлинности, ваши пользователи увидят на IFrame запрос на вход. После того как они войдут, они смогут работать с приложением, если его создатель предоставил им общий доступ.

Как видите, внедрять приложения просто и эффективно. Таким образом вы можете переносить приложения непосредственно в места, где работаете вы и ваши клиенты, — на веб-сайты, информационные панели Power BI, страницы SharePoint и т. д.
