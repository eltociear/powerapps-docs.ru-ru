---
title: Платформа компонентов PowerApps для приложений Canvas | Документация Майкрософт
description: Создание компонентов кода для приложений Canvas
keywords: ''
ms.author: nabuthuk
author: Nkrb
manager: kvivek
ms.date: 08/31/2019
ms.service: powerapps
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: 5d100dc3-bd82-4b45-964c-d90eaebc0735
ms.openlocfilehash: e1c6b4bad1280bdabf8c27e30396b368276ff10b
ms.sourcegitcommit: 2a3430bb1b56dbf6c444afe2b8eecd0e499db0c3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/12/2019
ms.locfileid: "72347229"
---
# <a name="powerapps-component-framework-for-canvas-apps"></a>Платформа компонентов PowerApps для приложений Canvas

> [!IMPORTANT]
> Эта функция по-прежнему является экспериментальной и отключенной по умолчанию. Дополнительные сведения см. в разделе [экспериментальные и предварительные версии функций](../../maker/canvas-apps/working-with-experimental.md).

Платформа компонентов PowerApps позволяет создателям приложений создавать компоненты кода для использования в приложении или в приложениях. Дополнительные сведения см. в статье [Общие сведения о платформе компонентов PowerApps](overview.md) . 

В этой экспериментальной предварительной версии инфраструктура компонентов PowerApps позволяет разработчикам приложений создавать компоненты кода, выполнять отладку, импортировать и добавлять их в приложения Canvas с помощью средств CLI PowerApps. В экспериментальном предварительном просмотре поддерживаются только определенные API. Рекомендуется проверять каждый API, чтобы определить, поддерживает ли он приложения Canvas. 

> [!WARNING]
> Компоненты кода содержат код, который не может быть создан корпорацией Майкрософт и потенциально может получать доступ к маркерам и данным безопасности. При добавлении компонентов кода в приложение убедитесь, что решения для компонентов кода находятся в надежном источнике.

## <a name="prerequisites"></a>Технические условия

Для включения компонента PowerApps в среде требуются права системного администратора.

> [!IMPORTANT]
> По умолчанию платформа компонентов PowerApps включена для приложений, управляемых моделью.

## <a name="enable-powerapps-component-framework-feature"></a>Включение компонента платформы компонентов PowerApps

Чтобы добавить компоненты кода в приложение, необходимо включить компонент платформы PowerApps Component Framework в каждой среде, где они будут использоваться. Чтобы среда использовала компоненты кода внутри своих приложений, выполните следующие действия.

1. Войдите в [PowerApps](https://powerapps.microsoft.com/en-us/).

2. Щелкните значок **параметров** , а затем выберите **центр администрирования**.
    
    ![Параметры и параметры центра администрирования](media/select-admin-center-from-settings.png "и центр администрирования") 

3. Выберите среду, в которой необходимо включить эту функцию, нажмите кнопку с многоточием ( **...** ), а затем выберите **Параметры**.

4. На вкладке **продукты** выберите **компоненты**.

   ![Включение платформы компонентов powerapps](media/enable-pcf-feature.png "Включение платформы компонентов powerapps")

5. В списке доступных компонентов присвойте параметру значение **вкл** . в разделе **платформа компонентов PowerApps для приложений Canvas**.

6. Теперь откройте приложение, в которое нужно добавить компонент кода, и перейдите к **файлу**  > **Параметры приложения** и выберите **Дополнительные параметры**.

   ![Включение компонентов для платформы компонентов powerapps].(media/enable-components-for-pcf.png "Включение компонентов для платформы компонентов powerapps")
   
7. Переключите **компоненты** в значение **вкл** . в разделе **экспериментальная функция** .

## <a name="implementing-code-components"></a>Реализация компонентов кода

После включения функции "платформа компонентов PowerApps" в среде можно приступить к реализации логики для компонентов кода. В разделе [Реализация примера компонента](implementing-controls-using-typescript.md) показан пошаговый процесс создания компонентов кода, реализующих пользовательскую логику и файл манифеста, выполнение процесса отладки, создание ZIP-файла решения и импорт решения в общее Служба данных.

> [!NOTE]
> Реализация компонентов кода одинакова для приложений на основе моделей и приложений Canvas (экспериментальная Предварительная версия). Единственное отличие заключается в добавлении компонентов кода. 

## <a name="add-components-to-a-canvas-app"></a>Добавление компонентов в приложение Canvas

> [!NOTE]
> Сведения о добавлении компонентов кода в поле или сущность для приложений, управляемых моделью, см. в разделе [Добавление компонентов кода в приложения, управляемые моделями](add-custom-controls-to-a-field-or-entity.md) .

Чтобы добавить компоненты кода в приложение Canvas, выполните следующие действия.

1. Перейдите к PowerApps Studio.
2. Создайте новое приложение Canvas или измените существующее приложение, в которое необходимо добавить компонент кода.

   > [!IMPORTANT]
   > Убедитесь, что ZIP-файл решения уже [импортирован](https://docs.microsoft.com/en-us/powerapps/maker/common-data-service/import-update-export-solutions) в Common Data Service, прежде чем перейти к следующему шагу.

3. Перейдите к разделу **вставка**  > **компонентов**  > **компонент импорта**. 
 
    ![Вставка компонентов](media/insert-components-import.png "Вставка компонентов")

4. Выберите вкладку **Code (экспериментальная)** , добавьте компонент из списка и нажмите кнопку **Импорт**. Это добавляет пример компонента в меню **компоненты** .

    ![Импорт примера компонента](media/import-component-add-sample-component.png "импорта") компонентов

5. Перейдите к **компоненту компоненты** и выберите компонент, чтобы добавить его в приложение.

   ![Добавление образца компонента](media/add-sample-component-from-list.png "Добавить образец компонента")

## <a name="delete-a-code-component"></a>Удаление компонента кода 

Чтобы удалить компонент кода из приложения Canvas, выберите компонент кода, который необходимо удалить, а затем нажмите кнопку **Удалить** в меню. При удалении компонента кода из приложения все элементы компонента кода удаляются из приложения и пакета приложения. 

## <a name="update-existing-code-components"></a>Обновление существующих компонентов кода

При обновлении компонентов кода в файле манифеста указывается атрибут *Version* , поэтому последние изменения будут отражены в среде выполнения. Для приложений Canvas при обновлении существующих компонентов кода не требуется обновлять атрибут *Version* . По проекту приложения Canvas получают последний компонент кода и отображают его в среде выполнения. В приложениях Canvas может существовать только одна версия одного компонента.

> [!NOTE]
> Существующие компоненты кода обновляются только при закрытии или повторном открытии приложения в PowerApps Studio. При повторном открытии приложения появится запрос на обновление компонентов кода. Простое удаление компонентов кода или Добавление компонента кода обратно в приложение не обновляет компоненты.

## <a name="see-also"></a>См. также

[Обзор платформы компонентов PowerApps](overview.md)<br/>
[Реализация образца компонента](implementing-controls-using-typescript.md)

